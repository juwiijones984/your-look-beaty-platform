function CN(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function kE(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var lm={exports:{}},Nc={},cm={exports:{}},Ke={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fw;function NN(){if(Fw)return Ke;Fw=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.iterator;function x(B){return B===null||typeof B!="object"?null:(B=v&&B[v]||B["@@iterator"],typeof B=="function"?B:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,S={};function b(B,Z,le){this.props=B,this.context=Z,this.refs=S,this.updater=le||I}b.prototype.isReactComponent={},b.prototype.setState=function(B,Z){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,Z,"setState")},b.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function j(){}j.prototype=b.prototype;function z(B,Z,le){this.props=B,this.context=Z,this.refs=S,this.updater=le||I}var W=z.prototype=new j;W.constructor=z,k(W,b.prototype),W.isPureReactComponent=!0;var G=Array.isArray,J=Object.prototype.hasOwnProperty,te={current:null},P={key:!0,ref:!0,__self:!0,__source:!0};function N(B,Z,le){var fe,ge={},Ce=null,re=null;if(Z!=null)for(fe in Z.ref!==void 0&&(re=Z.ref),Z.key!==void 0&&(Ce=""+Z.key),Z)J.call(Z,fe)&&!P.hasOwnProperty(fe)&&(ge[fe]=Z[fe]);var pe=arguments.length-2;if(pe===1)ge.children=le;else if(1<pe){for(var Ae=Array(pe),je=0;je<pe;je++)Ae[je]=arguments[je+2];ge.children=Ae}if(B&&B.defaultProps)for(fe in pe=B.defaultProps,pe)ge[fe]===void 0&&(ge[fe]=pe[fe]);return{$$typeof:t,type:B,key:Ce,ref:re,props:ge,_owner:te.current}}function D(B,Z){return{$$typeof:t,type:B.type,key:Z,ref:B.ref,props:B.props,_owner:B._owner}}function V(B){return typeof B=="object"&&B!==null&&B.$$typeof===t}function O(B){var Z={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(le){return Z[le]})}var U=/\/+/g;function R(B,Z){return typeof B=="object"&&B!==null&&B.key!=null?O(""+B.key):Z.toString(36)}function ve(B,Z,le,fe,ge){var Ce=typeof B;(Ce==="undefined"||Ce==="boolean")&&(B=null);var re=!1;if(B===null)re=!0;else switch(Ce){case"string":case"number":re=!0;break;case"object":switch(B.$$typeof){case t:case e:re=!0}}if(re)return re=B,ge=ge(re),B=fe===""?"."+R(re,0):fe,G(ge)?(le="",B!=null&&(le=B.replace(U,"$&/")+"/"),ve(ge,Z,le,"",function(je){return je})):ge!=null&&(V(ge)&&(ge=D(ge,le+(!ge.key||re&&re.key===ge.key?"":(""+ge.key).replace(U,"$&/")+"/")+B)),Z.push(ge)),1;if(re=0,fe=fe===""?".":fe+":",G(B))for(var pe=0;pe<B.length;pe++){Ce=B[pe];var Ae=fe+R(Ce,pe);re+=ve(Ce,Z,le,Ae,ge)}else if(Ae=x(B),typeof Ae=="function")for(B=Ae.call(B),pe=0;!(Ce=B.next()).done;)Ce=Ce.value,Ae=fe+R(Ce,pe++),re+=ve(Ce,Z,le,Ae,ge);else if(Ce==="object")throw Z=String(B),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.");return re}function ke(B,Z,le){if(B==null)return B;var fe=[],ge=0;return ve(B,fe,"","",function(Ce){return Z.call(le,Ce,ge++)}),fe}function ae(B){if(B._status===-1){var Z=B._result;Z=Z(),Z.then(function(le){(B._status===0||B._status===-1)&&(B._status=1,B._result=le)},function(le){(B._status===0||B._status===-1)&&(B._status=2,B._result=le)}),B._status===-1&&(B._status=0,B._result=Z)}if(B._status===1)return B._result.default;throw B._result}var X={current:null},L={transition:null},ue={ReactCurrentDispatcher:X,ReactCurrentBatchConfig:L,ReactCurrentOwner:te};function ie(){throw Error("act(...) is not supported in production builds of React.")}return Ke.Children={map:ke,forEach:function(B,Z,le){ke(B,function(){Z.apply(this,arguments)},le)},count:function(B){var Z=0;return ke(B,function(){Z++}),Z},toArray:function(B){return ke(B,function(Z){return Z})||[]},only:function(B){if(!V(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},Ke.Component=b,Ke.Fragment=n,Ke.Profiler=i,Ke.PureComponent=z,Ke.StrictMode=r,Ke.Suspense=p,Ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ue,Ke.act=ie,Ke.cloneElement=function(B,Z,le){if(B==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+B+".");var fe=k({},B.props),ge=B.key,Ce=B.ref,re=B._owner;if(Z!=null){if(Z.ref!==void 0&&(Ce=Z.ref,re=te.current),Z.key!==void 0&&(ge=""+Z.key),B.type&&B.type.defaultProps)var pe=B.type.defaultProps;for(Ae in Z)J.call(Z,Ae)&&!P.hasOwnProperty(Ae)&&(fe[Ae]=Z[Ae]===void 0&&pe!==void 0?pe[Ae]:Z[Ae])}var Ae=arguments.length-2;if(Ae===1)fe.children=le;else if(1<Ae){pe=Array(Ae);for(var je=0;je<Ae;je++)pe[je]=arguments[je+2];fe.children=pe}return{$$typeof:t,type:B.type,key:ge,ref:Ce,props:fe,_owner:re}},Ke.createContext=function(B){return B={$$typeof:l,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},B.Provider={$$typeof:a,_context:B},B.Consumer=B},Ke.createElement=N,Ke.createFactory=function(B){var Z=N.bind(null,B);return Z.type=B,Z},Ke.createRef=function(){return{current:null}},Ke.forwardRef=function(B){return{$$typeof:d,render:B}},Ke.isValidElement=V,Ke.lazy=function(B){return{$$typeof:y,_payload:{_status:-1,_result:B},_init:ae}},Ke.memo=function(B,Z){return{$$typeof:m,type:B,compare:Z===void 0?null:Z}},Ke.startTransition=function(B){var Z=L.transition;L.transition={};try{B()}finally{L.transition=Z}},Ke.unstable_act=ie,Ke.useCallback=function(B,Z){return X.current.useCallback(B,Z)},Ke.useContext=function(B){return X.current.useContext(B)},Ke.useDebugValue=function(){},Ke.useDeferredValue=function(B){return X.current.useDeferredValue(B)},Ke.useEffect=function(B,Z){return X.current.useEffect(B,Z)},Ke.useId=function(){return X.current.useId()},Ke.useImperativeHandle=function(B,Z,le){return X.current.useImperativeHandle(B,Z,le)},Ke.useInsertionEffect=function(B,Z){return X.current.useInsertionEffect(B,Z)},Ke.useLayoutEffect=function(B,Z){return X.current.useLayoutEffect(B,Z)},Ke.useMemo=function(B,Z){return X.current.useMemo(B,Z)},Ke.useReducer=function(B,Z,le){return X.current.useReducer(B,Z,le)},Ke.useRef=function(B){return X.current.useRef(B)},Ke.useState=function(B){return X.current.useState(B)},Ke.useSyncExternalStore=function(B,Z,le){return X.current.useSyncExternalStore(B,Z,le)},Ke.useTransition=function(){return X.current.useTransition()},Ke.version="18.3.1",Ke}var Uw;function Kg(){return Uw||(Uw=1,cm.exports=NN()),cm.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zw;function kN(){if(zw)return Nc;zw=1;var t=Kg(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(d,p,m){var y,v={},x=null,I=null;m!==void 0&&(x=""+m),p.key!==void 0&&(x=""+p.key),p.ref!==void 0&&(I=p.ref);for(y in p)r.call(p,y)&&!a.hasOwnProperty(y)&&(v[y]=p[y]);if(d&&d.defaultProps)for(y in p=d.defaultProps,p)v[y]===void 0&&(v[y]=p[y]);return{$$typeof:e,type:d,key:x,ref:I,props:v,_owner:i.current}}return Nc.Fragment=n,Nc.jsx=l,Nc.jsxs=l,Nc}var Bw;function AN(){return Bw||(Bw=1,lm.exports=kN()),lm.exports}var u=AN(),Vd={},um={exports:{}},zn={},dm={exports:{}},hm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $w;function PN(){return $w||($w=1,(function(t){function e(L,ue){var ie=L.length;L.push(ue);e:for(;0<ie;){var B=ie-1>>>1,Z=L[B];if(0<i(Z,ue))L[B]=ue,L[ie]=Z,ie=B;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var ue=L[0],ie=L.pop();if(ie!==ue){L[0]=ie;e:for(var B=0,Z=L.length,le=Z>>>1;B<le;){var fe=2*(B+1)-1,ge=L[fe],Ce=fe+1,re=L[Ce];if(0>i(ge,ie))Ce<Z&&0>i(re,ge)?(L[B]=re,L[Ce]=ie,B=Ce):(L[B]=ge,L[fe]=ie,B=fe);else if(Ce<Z&&0>i(re,ie))L[B]=re,L[Ce]=ie,B=Ce;else break e}}return ue}function i(L,ue){var ie=L.sortIndex-ue.sortIndex;return ie!==0?ie:L.id-ue.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var l=Date,d=l.now();t.unstable_now=function(){return l.now()-d}}var p=[],m=[],y=1,v=null,x=3,I=!1,k=!1,S=!1,b=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function W(L){for(var ue=n(m);ue!==null;){if(ue.callback===null)r(m);else if(ue.startTime<=L)r(m),ue.sortIndex=ue.expirationTime,e(p,ue);else break;ue=n(m)}}function G(L){if(S=!1,W(L),!k)if(n(p)!==null)k=!0,ae(J);else{var ue=n(m);ue!==null&&X(G,ue.startTime-L)}}function J(L,ue){k=!1,S&&(S=!1,j(N),N=-1),I=!0;var ie=x;try{for(W(ue),v=n(p);v!==null&&(!(v.expirationTime>ue)||L&&!O());){var B=v.callback;if(typeof B=="function"){v.callback=null,x=v.priorityLevel;var Z=B(v.expirationTime<=ue);ue=t.unstable_now(),typeof Z=="function"?v.callback=Z:v===n(p)&&r(p),W(ue)}else r(p);v=n(p)}if(v!==null)var le=!0;else{var fe=n(m);fe!==null&&X(G,fe.startTime-ue),le=!1}return le}finally{v=null,x=ie,I=!1}}var te=!1,P=null,N=-1,D=5,V=-1;function O(){return!(t.unstable_now()-V<D)}function U(){if(P!==null){var L=t.unstable_now();V=L;var ue=!0;try{ue=P(!0,L)}finally{ue?R():(te=!1,P=null)}}else te=!1}var R;if(typeof z=="function")R=function(){z(U)};else if(typeof MessageChannel<"u"){var ve=new MessageChannel,ke=ve.port2;ve.port1.onmessage=U,R=function(){ke.postMessage(null)}}else R=function(){b(U,0)};function ae(L){P=L,te||(te=!0,R())}function X(L,ue){N=b(function(){L(t.unstable_now())},ue)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){k||I||(k=!0,ae(J))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_getFirstCallbackNode=function(){return n(p)},t.unstable_next=function(L){switch(x){case 1:case 2:case 3:var ue=3;break;default:ue=x}var ie=x;x=ue;try{return L()}finally{x=ie}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,ue){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var ie=x;x=L;try{return ue()}finally{x=ie}},t.unstable_scheduleCallback=function(L,ue,ie){var B=t.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?B+ie:B):ie=B,L){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=ie+Z,L={id:y++,callback:ue,priorityLevel:L,startTime:ie,expirationTime:Z,sortIndex:-1},ie>B?(L.sortIndex=ie,e(m,L),n(p)===null&&L===n(m)&&(S?(j(N),N=-1):S=!0,X(G,ie-B))):(L.sortIndex=Z,e(p,L),k||I||(k=!0,ae(J))),L},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(L){var ue=x;return function(){var ie=x;x=ue;try{return L.apply(this,arguments)}finally{x=ie}}}})(hm)),hm}var Ww;function RN(){return Ww||(Ww=1,dm.exports=PN()),dm.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hw;function DN(){if(Hw)return zn;Hw=1;var t=Kg(),e=RN();function n(s){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+s,c=1;c<arguments.length;c++)o+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function a(s,o){l(s,o),l(s+"Capture",o)}function l(s,o){for(i[s]=o,s=0;s<o.length;s++)r.add(o[s])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},v={};function x(s){return p.call(v,s)?!0:p.call(y,s)?!1:m.test(s)?v[s]=!0:(y[s]=!0,!1)}function I(s,o,c,f){if(c!==null&&c.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return f?!1:c!==null?!c.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function k(s,o,c,f){if(o===null||typeof o>"u"||I(s,o,c,f))return!0;if(f)return!1;if(c!==null)switch(c.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function S(s,o,c,f,g,w,T){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=f,this.attributeNamespace=g,this.mustUseProperty=c,this.propertyName=s,this.type=o,this.sanitizeURL=w,this.removeEmptyString=T}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){b[s]=new S(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var o=s[0];b[o]=new S(o,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){b[s]=new S(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){b[s]=new S(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){b[s]=new S(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){b[s]=new S(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){b[s]=new S(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){b[s]=new S(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){b[s]=new S(s,5,!1,s.toLowerCase(),null,!1,!1)});var j=/[\-:]([a-z])/g;function z(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var o=s.replace(j,z);b[o]=new S(o,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var o=s.replace(j,z);b[o]=new S(o,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var o=s.replace(j,z);b[o]=new S(o,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){b[s]=new S(s,1,!1,s.toLowerCase(),null,!1,!1)}),b.xlinkHref=new S("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){b[s]=new S(s,1,!1,s.toLowerCase(),null,!0,!0)});function W(s,o,c,f){var g=b.hasOwnProperty(o)?b[o]:null;(g!==null?g.type!==0:f||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(k(o,c,g,f)&&(c=null),f||g===null?x(o)&&(c===null?s.removeAttribute(o):s.setAttribute(o,""+c)):g.mustUseProperty?s[g.propertyName]=c===null?g.type===3?!1:"":c:(o=g.attributeName,f=g.attributeNamespace,c===null?s.removeAttribute(o):(g=g.type,c=g===3||g===4&&c===!0?"":""+c,f?s.setAttributeNS(f,o,c):s.setAttribute(o,c))))}var G=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,J=Symbol.for("react.element"),te=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),V=Symbol.for("react.provider"),O=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),ve=Symbol.for("react.suspense_list"),ke=Symbol.for("react.memo"),ae=Symbol.for("react.lazy"),X=Symbol.for("react.offscreen"),L=Symbol.iterator;function ue(s){return s===null||typeof s!="object"?null:(s=L&&s[L]||s["@@iterator"],typeof s=="function"?s:null)}var ie=Object.assign,B;function Z(s){if(B===void 0)try{throw Error()}catch(c){var o=c.stack.trim().match(/\n( *(at )?)/);B=o&&o[1]||""}return`
`+B+s}var le=!1;function fe(s,o){if(!s||le)return"";le=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(Y){var f=Y}Reflect.construct(s,[],o)}else{try{o.call()}catch(Y){f=Y}s.call(o.prototype)}else{try{throw Error()}catch(Y){f=Y}s()}}catch(Y){if(Y&&f&&typeof Y.stack=="string"){for(var g=Y.stack.split(`
`),w=f.stack.split(`
`),T=g.length-1,M=w.length-1;1<=T&&0<=M&&g[T]!==w[M];)M--;for(;1<=T&&0<=M;T--,M--)if(g[T]!==w[M]){if(T!==1||M!==1)do if(T--,M--,0>M||g[T]!==w[M]){var F=`
`+g[T].replace(" at new "," at ");return s.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",s.displayName)),F}while(1<=T&&0<=M);break}}}finally{le=!1,Error.prepareStackTrace=c}return(s=s?s.displayName||s.name:"")?Z(s):""}function ge(s){switch(s.tag){case 5:return Z(s.type);case 16:return Z("Lazy");case 13:return Z("Suspense");case 19:return Z("SuspenseList");case 0:case 2:case 15:return s=fe(s.type,!1),s;case 11:return s=fe(s.type.render,!1),s;case 1:return s=fe(s.type,!0),s;default:return""}}function Ce(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case P:return"Fragment";case te:return"Portal";case D:return"Profiler";case N:return"StrictMode";case R:return"Suspense";case ve:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case O:return(s.displayName||"Context")+".Consumer";case V:return(s._context.displayName||"Context")+".Provider";case U:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case ke:return o=s.displayName||null,o!==null?o:Ce(s.type)||"Memo";case ae:o=s._payload,s=s._init;try{return Ce(s(o))}catch{}}return null}function re(s){var o=s.type;switch(s.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=o.render,s=s.displayName||s.name||"",o.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ce(o);case 8:return o===N?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function pe(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Ae(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function je(s){var o=Ae(s)?"checked":"value",c=Object.getOwnPropertyDescriptor(s.constructor.prototype,o),f=""+s[o];if(!s.hasOwnProperty(o)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var g=c.get,w=c.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return g.call(this)},set:function(T){f=""+T,w.call(this,T)}}),Object.defineProperty(s,o,{enumerable:c.enumerable}),{getValue:function(){return f},setValue:function(T){f=""+T},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function $e(s){s._valueTracker||(s._valueTracker=je(s))}function qe(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var c=o.getValue(),f="";return s&&(f=Ae(s)?s.checked?"true":"false":s.value),s=f,s!==c?(o.setValue(s),!0):!1}function St(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function Zt(s,o){var c=o.checked;return ie({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??s._wrapperState.initialChecked})}function Gr(s,o){var c=o.defaultValue==null?"":o.defaultValue,f=o.checked!=null?o.checked:o.defaultChecked;c=pe(o.value!=null?o.value:c),s._wrapperState={initialChecked:f,initialValue:c,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function Gn(s,o){o=o.checked,o!=null&&W(s,"checked",o,!1)}function an(s,o){Gn(s,o);var c=pe(o.value),f=o.type;if(c!=null)f==="number"?(c===0&&s.value===""||s.value!=c)&&(s.value=""+c):s.value!==""+c&&(s.value=""+c);else if(f==="submit"||f==="reset"){s.removeAttribute("value");return}o.hasOwnProperty("value")?lt(s,o.type,c):o.hasOwnProperty("defaultValue")&&lt(s,o.type,pe(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(s.defaultChecked=!!o.defaultChecked)}function di(s,o,c){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var f=o.type;if(!(f!=="submit"&&f!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+s._wrapperState.initialValue,c||o===s.value||(s.value=o),s.defaultValue=o}c=s.name,c!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,c!==""&&(s.name=c)}function lt(s,o,c){(o!=="number"||St(s.ownerDocument)!==s)&&(c==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+c&&(s.defaultValue=""+c))}var It=Array.isArray;function Yn(s,o,c,f){if(s=s.options,o){o={};for(var g=0;g<c.length;g++)o["$"+c[g]]=!0;for(c=0;c<s.length;c++)g=o.hasOwnProperty("$"+s[c].value),s[c].selected!==g&&(s[c].selected=g),g&&f&&(s[c].defaultSelected=!0)}else{for(c=""+pe(c),o=null,g=0;g<s.length;g++){if(s[g].value===c){s[g].selected=!0,f&&(s[g].defaultSelected=!0);return}o!==null||s[g].disabled||(o=s[g])}o!==null&&(o.selected=!0)}}function Kt(s,o){if(o.dangerouslySetInnerHTML!=null)throw Error(n(91));return ie({},o,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function dr(s,o){var c=o.value;if(c==null){if(c=o.children,o=o.defaultValue,c!=null){if(o!=null)throw Error(n(92));if(It(c)){if(1<c.length)throw Error(n(93));c=c[0]}o=c}o==null&&(o=""),c=o}s._wrapperState={initialValue:pe(c)}}function wa(s,o){var c=pe(o.value),f=pe(o.defaultValue);c!=null&&(c=""+c,c!==s.value&&(s.value=c),o.defaultValue==null&&s.defaultValue!==c&&(s.defaultValue=c)),f!=null&&(s.defaultValue=""+f)}function Yr(s){var o=s.textContent;o===s._wrapperState.initialValue&&o!==""&&o!==null&&(s.value=o)}function Qr(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function hi(s,o){return s==null||s==="http://www.w3.org/1999/xhtml"?Qr(o):s==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var Tr,fi=(function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,c,f,g){MSApp.execUnsafeLocalFunction(function(){return s(o,c,f,g)})}:s})(function(s,o){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=o;else{for(Tr=Tr||document.createElement("div"),Tr.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=Tr.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;o.firstChild;)s.appendChild(o.firstChild)}});function jn(s,o){if(o){var c=s.firstChild;if(c&&c===s.lastChild&&c.nodeType===3){c.nodeValue=o;return}}s.textContent=o}var Sr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ir=["Webkit","ms","Moz","O"];Object.keys(Sr).forEach(function(s){Ir.forEach(function(o){o=o+s.charAt(0).toUpperCase()+s.substring(1),Sr[o]=Sr[s]})});function Xr(s,o,c){return o==null||typeof o=="boolean"||o===""?"":c||typeof o!="number"||o===0||Sr.hasOwnProperty(s)&&Sr[s]?(""+o).trim():o+"px"}function pi(s,o){s=s.style;for(var c in o)if(o.hasOwnProperty(c)){var f=c.indexOf("--")===0,g=Xr(c,o[c],f);c==="float"&&(c="cssFloat"),f?s.setProperty(c,g):s[c]=g}}var mi=ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Mn(s,o){if(o){if(mi[s]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(n(137,s));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(n(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(n(61))}if(o.style!=null&&typeof o.style!="object")throw Error(n(62))}}function gi(s,o){if(s.indexOf("-")===-1)return typeof o.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hr=null;function Nn(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Cr=null,Nr=null,yt=null;function vi(s){if(s=fc(s)){if(typeof Cr!="function")throw Error(n(280));var o=s.stateNode;o&&(o=Zu(o),Cr(s.stateNode,s.type,o))}}function Me(s){Nr?yt?yt.push(s):yt=[s]:Nr=s}function ht(){if(Nr){var s=Nr,o=yt;if(yt=Nr=null,vi(s),o)for(s=0;s<o.length;s++)vi(o[s])}}function jt(s,o){return s(o)}function en(){}var kn=!1;function Pt(s,o,c){if(kn)return s(o,c);kn=!0;try{return jt(s,o,c)}finally{kn=!1,(Nr!==null||yt!==null)&&(en(),ht())}}function Ft(s,o){var c=s.stateNode;if(c===null)return null;var f=Zu(c);if(f===null)return null;c=f[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(s=s.type,f=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!f;break e;default:s=!1}if(s)return null;if(c&&typeof c!="function")throw Error(n(231,o,typeof c));return c}var Qn=!1;if(d)try{var Ut={};Object.defineProperty(Ut,"passive",{get:function(){Qn=!0}}),window.addEventListener("test",Ut,Ut),window.removeEventListener("test",Ut,Ut)}catch{Qn=!1}function vn(s,o,c,f,g,w,T,M,F){var Y=Array.prototype.slice.call(arguments,3);try{o.apply(c,Y)}catch(oe){this.onError(oe)}}var fr=!1,tn=null,go=!1,pr=null,Pu={onError:function(s){fr=!0,tn=s}};function Ru(s,o,c,f,g,w,T,M,F){fr=!1,tn=null,vn.apply(Pu,arguments)}function zl(s,o,c,f,g,w,T,M,F){if(Ru.apply(this,arguments),fr){if(fr){var Y=tn;fr=!1,tn=null}else throw Error(n(198));go||(go=!0,pr=Y)}}function kr(s){var o=s,c=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,(o.flags&4098)!==0&&(c=o.return),s=o.return;while(s)}return o.tag===3?c:null}function Bl(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function Du(s){if(kr(s)!==s)throw Error(n(188))}function ju(s){var o=s.alternate;if(!o){if(o=kr(s),o===null)throw Error(n(188));return o!==s?null:s}for(var c=s,f=o;;){var g=c.return;if(g===null)break;var w=g.alternate;if(w===null){if(f=g.return,f!==null){c=f;continue}break}if(g.child===w.child){for(w=g.child;w;){if(w===c)return Du(g),s;if(w===f)return Du(g),o;w=w.sibling}throw Error(n(188))}if(c.return!==f.return)c=g,f=w;else{for(var T=!1,M=g.child;M;){if(M===c){T=!0,c=g,f=w;break}if(M===f){T=!0,f=g,c=w;break}M=M.sibling}if(!T){for(M=w.child;M;){if(M===c){T=!0,c=w,f=g;break}if(M===f){T=!0,f=w,c=g;break}M=M.sibling}if(!T)throw Error(n(189))}}if(c.alternate!==f)throw Error(n(190))}if(c.tag!==3)throw Error(n(188));return c.stateNode.current===c?s:o}function Mu(s){return s=ju(s),s!==null?vo(s):null}function vo(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var o=vo(s);if(o!==null)return o;s=s.sibling}return null}var $l=e.unstable_scheduleCallback,_a=e.unstable_cancelCallback,yo=e.unstable_shouldYield,Os=e.unstable_requestPaint,wt=e.unstable_now,Ff=e.unstable_getCurrentPriorityLevel,xa=e.unstable_ImmediatePriority,Wl=e.unstable_UserBlockingPriority,wo=e.unstable_NormalPriority,Hl=e.unstable_LowPriority,Ea=e.unstable_IdlePriority,_o=null,Xn=null;function Ou(s){if(Xn&&typeof Xn.onCommitFiberRoot=="function")try{Xn.onCommitFiberRoot(_o,s,void 0,(s.current.flags&128)===128)}catch{}}var Jn=Math.clz32?Math.clz32:xo,Jr=Math.log,mr=Math.LN2;function xo(s){return s>>>=0,s===0?32:31-(Jr(s)/mr|0)|0}var Zr=64,yi=4194304;function ot(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function Ls(s,o){var c=s.pendingLanes;if(c===0)return 0;var f=0,g=s.suspendedLanes,w=s.pingedLanes,T=c&268435455;if(T!==0){var M=T&~g;M!==0?f=ot(M):(w&=T,w!==0&&(f=ot(w)))}else T=c&~g,T!==0?f=ot(T):w!==0&&(f=ot(w));if(f===0)return 0;if(o!==0&&o!==f&&(o&g)===0&&(g=f&-f,w=o&-o,g>=w||g===16&&(w&4194240)!==0))return o;if((f&4)!==0&&(f|=c&16),o=s.entangledLanes,o!==0)for(s=s.entanglements,o&=f;0<o;)c=31-Jn(o),g=1<<c,f|=s[c],o&=~g;return f}function Eo(s,o){switch(s){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bo(s,o){for(var c=s.suspendedLanes,f=s.pingedLanes,g=s.expirationTimes,w=s.pendingLanes;0<w;){var T=31-Jn(w),M=1<<T,F=g[T];F===-1?((M&c)===0||(M&f)!==0)&&(g[T]=Eo(M,o)):F<=o&&(s.expiredLanes|=M),w&=~M}}function ql(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function Kl(){var s=Zr;return Zr<<=1,(Zr&4194240)===0&&(Zr=64),s}function Gl(s){for(var o=[],c=0;31>c;c++)o.push(s);return o}function To(s,o,c){s.pendingLanes|=o,o!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,o=31-Jn(o),s[o]=c}function Uf(s,o){var c=s.pendingLanes&~o;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=o,s.mutableReadLanes&=o,s.entangledLanes&=o,o=s.entanglements;var f=s.eventTimes;for(s=s.expirationTimes;0<c;){var g=31-Jn(c),w=1<<g;o[g]=0,f[g]=-1,s[g]=-1,c&=~w}}function Yl(s,o){var c=s.entangledLanes|=o;for(s=s.entanglements;c;){var f=31-Jn(c),g=1<<f;g&o|s[f]&o&&(s[f]|=o),c&=~g}}var Ze=0;function es(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var Ql,ba,Xl,Jl,Zl,ts=!1,Ta=[],ns=null,rs=null,ln=null,So=new Map,Vs=new Map,Zn=[],Lu="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function wi(s,o){switch(s){case"focusin":case"focusout":ns=null;break;case"dragenter":case"dragleave":rs=null;break;case"mouseover":case"mouseout":ln=null;break;case"pointerover":case"pointerout":So.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vs.delete(o.pointerId)}}function Ar(s,o,c,f,g,w){return s===null||s.nativeEvent!==w?(s={blockedOn:o,domEventName:c,eventSystemFlags:f,nativeEvent:w,targetContainers:[g]},o!==null&&(o=fc(o),o!==null&&ba(o)),s):(s.eventSystemFlags|=f,o=s.targetContainers,g!==null&&o.indexOf(g)===-1&&o.push(g),s)}function Vu(s,o,c,f,g){switch(o){case"focusin":return ns=Ar(ns,s,o,c,f,g),!0;case"dragenter":return rs=Ar(rs,s,o,c,f,g),!0;case"mouseover":return ln=Ar(ln,s,o,c,f,g),!0;case"pointerover":var w=g.pointerId;return So.set(w,Ar(So.get(w)||null,s,o,c,f,g)),!0;case"gotpointercapture":return w=g.pointerId,Vs.set(w,Ar(Vs.get(w)||null,s,o,c,f,g)),!0}return!1}function Sa(s){var o=ko(s.target);if(o!==null){var c=kr(o);if(c!==null){if(o=c.tag,o===13){if(o=Bl(c),o!==null){s.blockedOn=o,Zl(s.priority,function(){Xl(c)});return}}else if(o===3&&c.stateNode.current.memoizedState.isDehydrated){s.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}s.blockedOn=null}function ft(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var c=Ia(s.domEventName,s.eventSystemFlags,o[0],s.nativeEvent);if(c===null){c=s.nativeEvent;var f=new c.constructor(c.type,c);hr=f,c.target.dispatchEvent(f),hr=null}else return o=fc(c),o!==null&&ba(o),s.blockedOn=c,!1;o.shift()}return!0}function Fu(s,o,c){ft(s)&&c.delete(o)}function zf(){ts=!1,ns!==null&&ft(ns)&&(ns=null),rs!==null&&ft(rs)&&(rs=null),ln!==null&&ft(ln)&&(ln=null),So.forEach(Fu),Vs.forEach(Fu)}function _i(s,o){s.blockedOn===o&&(s.blockedOn=null,ts||(ts=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,zf)))}function xi(s){function o(g){return _i(g,s)}if(0<Ta.length){_i(Ta[0],s);for(var c=1;c<Ta.length;c++){var f=Ta[c];f.blockedOn===s&&(f.blockedOn=null)}}for(ns!==null&&_i(ns,s),rs!==null&&_i(rs,s),ln!==null&&_i(ln,s),So.forEach(o),Vs.forEach(o),c=0;c<Zn.length;c++)f=Zn[c],f.blockedOn===s&&(f.blockedOn=null);for(;0<Zn.length&&(c=Zn[0],c.blockedOn===null);)Sa(c),c.blockedOn===null&&Zn.shift()}var Fs=G.ReactCurrentBatchConfig,Us=!0;function ss(s,o,c,f){var g=Ze,w=Fs.transition;Fs.transition=null;try{Ze=1,ec(s,o,c,f)}finally{Ze=g,Fs.transition=w}}function Uu(s,o,c,f){var g=Ze,w=Fs.transition;Fs.transition=null;try{Ze=4,ec(s,o,c,f)}finally{Ze=g,Fs.transition=w}}function ec(s,o,c,f){if(Us){var g=Ia(s,o,c,f);if(g===null)Jf(s,o,f,is,c),wi(s,f);else if(Vu(g,s,o,c,f))f.stopPropagation();else if(wi(s,f),o&4&&-1<Lu.indexOf(s)){for(;g!==null;){var w=fc(g);if(w!==null&&Ql(w),w=Ia(s,o,c,f),w===null&&Jf(s,o,f,is,c),w===g)break;g=w}g!==null&&f.stopPropagation()}else Jf(s,o,f,null,c)}}var is=null;function Ia(s,o,c,f){if(is=null,s=Nn(f),s=ko(s),s!==null)if(o=kr(s),o===null)s=null;else if(c=o.tag,c===13){if(s=Bl(o),s!==null)return s;s=null}else if(c===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null);return is=s,null}function Ca(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ff()){case xa:return 1;case Wl:return 4;case wo:case Hl:return 16;case Ea:return 536870912;default:return 16}default:return 16}}var er=null,Na=null,zs=null;function zu(){if(zs)return zs;var s,o=Na,c=o.length,f,g="value"in er?er.value:er.textContent,w=g.length;for(s=0;s<c&&o[s]===g[s];s++);var T=c-s;for(f=1;f<=T&&o[c-f]===g[w-f];f++);return zs=g.slice(s,1<f?1-f:void 0)}function Io(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function os(){return!0}function tc(){return!1}function yn(s){function o(c,f,g,w,T){this._reactName=c,this._targetInst=g,this.type=f,this.nativeEvent=w,this.target=T,this.currentTarget=null;for(var M in s)s.hasOwnProperty(M)&&(c=s[M],this[M]=c?c(w):w[M]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?os:tc,this.isPropagationStopped=tc,this}return ie(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=os)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=os)},persist:function(){},isPersistent:os}),o}var as={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Co=yn(as),Ei=ie({},as,{view:0,detail:0}),ka=yn(Ei),Aa,Pa,tr,No=ie({},Ei,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ze,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==tr&&(tr&&s.type==="mousemove"?(Aa=s.screenX-tr.screenX,Pa=s.screenY-tr.screenY):Pa=Aa=0,tr=s),Aa)},movementY:function(s){return"movementY"in s?s.movementY:Pa}}),nc=yn(No),Bu=ie({},No,{dataTransfer:0}),$u=yn(Bu),Ra=ie({},Ei,{relatedTarget:0}),cn=yn(Ra),Wu=ie({},as,{animationName:0,elapsedTime:0,pseudoElement:0}),Hu=yn(Wu),bi=ie({},as,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),h=yn(bi),_=ie({},as,{data:0}),E=yn(_),A={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},q={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Q={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function me(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=Q[s])?!!o[s]:!1}function ze(){return me}var Mt=ie({},Ei,{key:function(s){if(s.key){var o=A[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=Io(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?q[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ze,charCode:function(s){return s.type==="keypress"?Io(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Io(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),ut=yn(Mt),zt=ie({},No,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),nr=yn(zt),Bs=ie({},Ei,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ze}),ls=yn(Bs),cs=ie({},as,{propertyName:0,elapsedTime:0,pseudoElement:0}),Da=yn(cs),rc=ie({},No,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),xC=yn(rc),EC=[9,13,27,32],Bf=d&&"CompositionEvent"in window,sc=null;d&&"documentMode"in document&&(sc=document.documentMode);var bC=d&&"TextEvent"in window&&!sc,Py=d&&(!Bf||sc&&8<sc&&11>=sc),Ry=" ",Dy=!1;function jy(s,o){switch(s){case"keyup":return EC.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function My(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var ja=!1;function TC(s,o){switch(s){case"compositionend":return My(o);case"keypress":return o.which!==32?null:(Dy=!0,Ry);case"textInput":return s=o.data,s===Ry&&Dy?null:s;default:return null}}function SC(s,o){if(ja)return s==="compositionend"||!Bf&&jy(s,o)?(s=zu(),zs=Na=er=null,ja=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Py&&o.locale!=="ko"?null:o.data;default:return null}}var IC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Oy(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!IC[s.type]:o==="textarea"}function Ly(s,o,c,f){Me(f),o=Qu(o,"onChange"),0<o.length&&(c=new Co("onChange","change",null,c,f),s.push({event:c,listeners:o}))}var ic=null,oc=null;function CC(s){t0(s,0)}function qu(s){var o=Fa(s);if(qe(o))return s}function NC(s,o){if(s==="change")return o}var Vy=!1;if(d){var $f;if(d){var Wf="oninput"in document;if(!Wf){var Fy=document.createElement("div");Fy.setAttribute("oninput","return;"),Wf=typeof Fy.oninput=="function"}$f=Wf}else $f=!1;Vy=$f&&(!document.documentMode||9<document.documentMode)}function Uy(){ic&&(ic.detachEvent("onpropertychange",zy),oc=ic=null)}function zy(s){if(s.propertyName==="value"&&qu(oc)){var o=[];Ly(o,oc,s,Nn(s)),Pt(CC,o)}}function kC(s,o,c){s==="focusin"?(Uy(),ic=o,oc=c,ic.attachEvent("onpropertychange",zy)):s==="focusout"&&Uy()}function AC(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return qu(oc)}function PC(s,o){if(s==="click")return qu(o)}function RC(s,o){if(s==="input"||s==="change")return qu(o)}function DC(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var Pr=typeof Object.is=="function"?Object.is:DC;function ac(s,o){if(Pr(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var c=Object.keys(s),f=Object.keys(o);if(c.length!==f.length)return!1;for(f=0;f<c.length;f++){var g=c[f];if(!p.call(o,g)||!Pr(s[g],o[g]))return!1}return!0}function By(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function $y(s,o){var c=By(s);s=0;for(var f;c;){if(c.nodeType===3){if(f=s+c.textContent.length,s<=o&&f>=o)return{node:c,offset:o-s};s=f}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=By(c)}}function Wy(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?Wy(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function Hy(){for(var s=window,o=St();o instanceof s.HTMLIFrameElement;){try{var c=typeof o.contentWindow.location.href=="string"}catch{c=!1}if(c)s=o.contentWindow;else break;o=St(s.document)}return o}function Hf(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}function jC(s){var o=Hy(),c=s.focusedElem,f=s.selectionRange;if(o!==c&&c&&c.ownerDocument&&Wy(c.ownerDocument.documentElement,c)){if(f!==null&&Hf(c)){if(o=f.start,s=f.end,s===void 0&&(s=o),"selectionStart"in c)c.selectionStart=o,c.selectionEnd=Math.min(s,c.value.length);else if(s=(o=c.ownerDocument||document)&&o.defaultView||window,s.getSelection){s=s.getSelection();var g=c.textContent.length,w=Math.min(f.start,g);f=f.end===void 0?w:Math.min(f.end,g),!s.extend&&w>f&&(g=f,f=w,w=g),g=$y(c,w);var T=$y(c,f);g&&T&&(s.rangeCount!==1||s.anchorNode!==g.node||s.anchorOffset!==g.offset||s.focusNode!==T.node||s.focusOffset!==T.offset)&&(o=o.createRange(),o.setStart(g.node,g.offset),s.removeAllRanges(),w>f?(s.addRange(o),s.extend(T.node,T.offset)):(o.setEnd(T.node,T.offset),s.addRange(o)))}}for(o=[],s=c;s=s.parentNode;)s.nodeType===1&&o.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<o.length;c++)s=o[c],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var MC=d&&"documentMode"in document&&11>=document.documentMode,Ma=null,qf=null,lc=null,Kf=!1;function qy(s,o,c){var f=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Kf||Ma==null||Ma!==St(f)||(f=Ma,"selectionStart"in f&&Hf(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),lc&&ac(lc,f)||(lc=f,f=Qu(qf,"onSelect"),0<f.length&&(o=new Co("onSelect","select",null,o,c),s.push({event:o,listeners:f}),o.target=Ma)))}function Ku(s,o){var c={};return c[s.toLowerCase()]=o.toLowerCase(),c["Webkit"+s]="webkit"+o,c["Moz"+s]="moz"+o,c}var Oa={animationend:Ku("Animation","AnimationEnd"),animationiteration:Ku("Animation","AnimationIteration"),animationstart:Ku("Animation","AnimationStart"),transitionend:Ku("Transition","TransitionEnd")},Gf={},Ky={};d&&(Ky=document.createElement("div").style,"AnimationEvent"in window||(delete Oa.animationend.animation,delete Oa.animationiteration.animation,delete Oa.animationstart.animation),"TransitionEvent"in window||delete Oa.transitionend.transition);function Gu(s){if(Gf[s])return Gf[s];if(!Oa[s])return s;var o=Oa[s],c;for(c in o)if(o.hasOwnProperty(c)&&c in Ky)return Gf[s]=o[c];return s}var Gy=Gu("animationend"),Yy=Gu("animationiteration"),Qy=Gu("animationstart"),Xy=Gu("transitionend"),Jy=new Map,Zy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ti(s,o){Jy.set(s,o),a(o,[s])}for(var Yf=0;Yf<Zy.length;Yf++){var Qf=Zy[Yf],OC=Qf.toLowerCase(),LC=Qf[0].toUpperCase()+Qf.slice(1);Ti(OC,"on"+LC)}Ti(Gy,"onAnimationEnd"),Ti(Yy,"onAnimationIteration"),Ti(Qy,"onAnimationStart"),Ti("dblclick","onDoubleClick"),Ti("focusin","onFocus"),Ti("focusout","onBlur"),Ti(Xy,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),VC=new Set("cancel close invalid load scroll toggle".split(" ").concat(cc));function e0(s,o,c){var f=s.type||"unknown-event";s.currentTarget=c,zl(f,o,void 0,s),s.currentTarget=null}function t0(s,o){o=(o&4)!==0;for(var c=0;c<s.length;c++){var f=s[c],g=f.event;f=f.listeners;e:{var w=void 0;if(o)for(var T=f.length-1;0<=T;T--){var M=f[T],F=M.instance,Y=M.currentTarget;if(M=M.listener,F!==w&&g.isPropagationStopped())break e;e0(g,M,Y),w=F}else for(T=0;T<f.length;T++){if(M=f[T],F=M.instance,Y=M.currentTarget,M=M.listener,F!==w&&g.isPropagationStopped())break e;e0(g,M,Y),w=F}}}if(go)throw s=pr,go=!1,pr=null,s}function _t(s,o){var c=o[sp];c===void 0&&(c=o[sp]=new Set);var f=s+"__bubble";c.has(f)||(n0(o,s,2,!1),c.add(f))}function Xf(s,o,c){var f=0;o&&(f|=4),n0(c,s,f,o)}var Yu="_reactListening"+Math.random().toString(36).slice(2);function uc(s){if(!s[Yu]){s[Yu]=!0,r.forEach(function(c){c!=="selectionchange"&&(VC.has(c)||Xf(c,!1,s),Xf(c,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[Yu]||(o[Yu]=!0,Xf("selectionchange",!1,o))}}function n0(s,o,c,f){switch(Ca(o)){case 1:var g=ss;break;case 4:g=Uu;break;default:g=ec}c=g.bind(null,o,c,s),g=void 0,!Qn||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(g=!0),f?g!==void 0?s.addEventListener(o,c,{capture:!0,passive:g}):s.addEventListener(o,c,!0):g!==void 0?s.addEventListener(o,c,{passive:g}):s.addEventListener(o,c,!1)}function Jf(s,o,c,f,g){var w=f;if((o&1)===0&&(o&2)===0&&f!==null)e:for(;;){if(f===null)return;var T=f.tag;if(T===3||T===4){var M=f.stateNode.containerInfo;if(M===g||M.nodeType===8&&M.parentNode===g)break;if(T===4)for(T=f.return;T!==null;){var F=T.tag;if((F===3||F===4)&&(F=T.stateNode.containerInfo,F===g||F.nodeType===8&&F.parentNode===g))return;T=T.return}for(;M!==null;){if(T=ko(M),T===null)return;if(F=T.tag,F===5||F===6){f=w=T;continue e}M=M.parentNode}}f=f.return}Pt(function(){var Y=w,oe=Nn(c),ce=[];e:{var se=Jy.get(s);if(se!==void 0){var ye=Co,Ee=s;switch(s){case"keypress":if(Io(c)===0)break e;case"keydown":case"keyup":ye=ut;break;case"focusin":Ee="focus",ye=cn;break;case"focusout":Ee="blur",ye=cn;break;case"beforeblur":case"afterblur":ye=cn;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ye=nc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ye=$u;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ye=ls;break;case Gy:case Yy:case Qy:ye=Hu;break;case Xy:ye=Da;break;case"scroll":ye=ka;break;case"wheel":ye=xC;break;case"copy":case"cut":case"paste":ye=h;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ye=nr}var Se=(o&4)!==0,Ot=!Se&&s==="scroll",H=Se?se!==null?se+"Capture":null:se;Se=[];for(var $=Y,K;$!==null;){K=$;var de=K.stateNode;if(K.tag===5&&de!==null&&(K=de,H!==null&&(de=Ft($,H),de!=null&&Se.push(dc($,de,K)))),Ot)break;$=$.return}0<Se.length&&(se=new ye(se,Ee,null,c,oe),ce.push({event:se,listeners:Se}))}}if((o&7)===0){e:{if(se=s==="mouseover"||s==="pointerover",ye=s==="mouseout"||s==="pointerout",se&&c!==hr&&(Ee=c.relatedTarget||c.fromElement)&&(ko(Ee)||Ee[$s]))break e;if((ye||se)&&(se=oe.window===oe?oe:(se=oe.ownerDocument)?se.defaultView||se.parentWindow:window,ye?(Ee=c.relatedTarget||c.toElement,ye=Y,Ee=Ee?ko(Ee):null,Ee!==null&&(Ot=kr(Ee),Ee!==Ot||Ee.tag!==5&&Ee.tag!==6)&&(Ee=null)):(ye=null,Ee=Y),ye!==Ee)){if(Se=nc,de="onMouseLeave",H="onMouseEnter",$="mouse",(s==="pointerout"||s==="pointerover")&&(Se=nr,de="onPointerLeave",H="onPointerEnter",$="pointer"),Ot=ye==null?se:Fa(ye),K=Ee==null?se:Fa(Ee),se=new Se(de,$+"leave",ye,c,oe),se.target=Ot,se.relatedTarget=K,de=null,ko(oe)===Y&&(Se=new Se(H,$+"enter",Ee,c,oe),Se.target=K,Se.relatedTarget=Ot,de=Se),Ot=de,ye&&Ee)t:{for(Se=ye,H=Ee,$=0,K=Se;K;K=La(K))$++;for(K=0,de=H;de;de=La(de))K++;for(;0<$-K;)Se=La(Se),$--;for(;0<K-$;)H=La(H),K--;for(;$--;){if(Se===H||H!==null&&Se===H.alternate)break t;Se=La(Se),H=La(H)}Se=null}else Se=null;ye!==null&&r0(ce,se,ye,Se,!1),Ee!==null&&Ot!==null&&r0(ce,Ot,Ee,Se,!0)}}e:{if(se=Y?Fa(Y):window,ye=se.nodeName&&se.nodeName.toLowerCase(),ye==="select"||ye==="input"&&se.type==="file")var Ne=NC;else if(Oy(se))if(Vy)Ne=RC;else{Ne=AC;var Re=kC}else(ye=se.nodeName)&&ye.toLowerCase()==="input"&&(se.type==="checkbox"||se.type==="radio")&&(Ne=PC);if(Ne&&(Ne=Ne(s,Y))){Ly(ce,Ne,c,oe);break e}Re&&Re(s,se,Y),s==="focusout"&&(Re=se._wrapperState)&&Re.controlled&&se.type==="number"&&lt(se,"number",se.value)}switch(Re=Y?Fa(Y):window,s){case"focusin":(Oy(Re)||Re.contentEditable==="true")&&(Ma=Re,qf=Y,lc=null);break;case"focusout":lc=qf=Ma=null;break;case"mousedown":Kf=!0;break;case"contextmenu":case"mouseup":case"dragend":Kf=!1,qy(ce,c,oe);break;case"selectionchange":if(MC)break;case"keydown":case"keyup":qy(ce,c,oe)}var De;if(Bf)e:{switch(s){case"compositionstart":var Fe="onCompositionStart";break e;case"compositionend":Fe="onCompositionEnd";break e;case"compositionupdate":Fe="onCompositionUpdate";break e}Fe=void 0}else ja?jy(s,c)&&(Fe="onCompositionEnd"):s==="keydown"&&c.keyCode===229&&(Fe="onCompositionStart");Fe&&(Py&&c.locale!=="ko"&&(ja||Fe!=="onCompositionStart"?Fe==="onCompositionEnd"&&ja&&(De=zu()):(er=oe,Na="value"in er?er.value:er.textContent,ja=!0)),Re=Qu(Y,Fe),0<Re.length&&(Fe=new E(Fe,s,null,c,oe),ce.push({event:Fe,listeners:Re}),De?Fe.data=De:(De=My(c),De!==null&&(Fe.data=De)))),(De=bC?TC(s,c):SC(s,c))&&(Y=Qu(Y,"onBeforeInput"),0<Y.length&&(oe=new E("onBeforeInput","beforeinput",null,c,oe),ce.push({event:oe,listeners:Y}),oe.data=De))}t0(ce,o)})}function dc(s,o,c){return{instance:s,listener:o,currentTarget:c}}function Qu(s,o){for(var c=o+"Capture",f=[];s!==null;){var g=s,w=g.stateNode;g.tag===5&&w!==null&&(g=w,w=Ft(s,c),w!=null&&f.unshift(dc(s,w,g)),w=Ft(s,o),w!=null&&f.push(dc(s,w,g))),s=s.return}return f}function La(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function r0(s,o,c,f,g){for(var w=o._reactName,T=[];c!==null&&c!==f;){var M=c,F=M.alternate,Y=M.stateNode;if(F!==null&&F===f)break;M.tag===5&&Y!==null&&(M=Y,g?(F=Ft(c,w),F!=null&&T.unshift(dc(c,F,M))):g||(F=Ft(c,w),F!=null&&T.push(dc(c,F,M)))),c=c.return}T.length!==0&&s.push({event:o,listeners:T})}var FC=/\r\n?/g,UC=/\u0000|\uFFFD/g;function s0(s){return(typeof s=="string"?s:""+s).replace(FC,`
`).replace(UC,"")}function Xu(s,o,c){if(o=s0(o),s0(s)!==o&&c)throw Error(n(425))}function Ju(){}var Zf=null,ep=null;function tp(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var np=typeof setTimeout=="function"?setTimeout:void 0,zC=typeof clearTimeout=="function"?clearTimeout:void 0,i0=typeof Promise=="function"?Promise:void 0,BC=typeof queueMicrotask=="function"?queueMicrotask:typeof i0<"u"?function(s){return i0.resolve(null).then(s).catch($C)}:np;function $C(s){setTimeout(function(){throw s})}function rp(s,o){var c=o,f=0;do{var g=c.nextSibling;if(s.removeChild(c),g&&g.nodeType===8)if(c=g.data,c==="/$"){if(f===0){s.removeChild(g),xi(o);return}f--}else c!=="$"&&c!=="$?"&&c!=="$!"||f++;c=g}while(c);xi(o)}function Si(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return s}function o0(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var c=s.data;if(c==="$"||c==="$!"||c==="$?"){if(o===0)return s;o--}else c==="/$"&&o++}s=s.previousSibling}return null}var Va=Math.random().toString(36).slice(2),us="__reactFiber$"+Va,hc="__reactProps$"+Va,$s="__reactContainer$"+Va,sp="__reactEvents$"+Va,WC="__reactListeners$"+Va,HC="__reactHandles$"+Va;function ko(s){var o=s[us];if(o)return o;for(var c=s.parentNode;c;){if(o=c[$s]||c[us]){if(c=o.alternate,o.child!==null||c!==null&&c.child!==null)for(s=o0(s);s!==null;){if(c=s[us])return c;s=o0(s)}return o}s=c,c=s.parentNode}return null}function fc(s){return s=s[us]||s[$s],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Fa(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(n(33))}function Zu(s){return s[hc]||null}var ip=[],Ua=-1;function Ii(s){return{current:s}}function xt(s){0>Ua||(s.current=ip[Ua],ip[Ua]=null,Ua--)}function mt(s,o){Ua++,ip[Ua]=s.current,s.current=o}var Ci={},wn=Ii(Ci),On=Ii(!1),Ao=Ci;function za(s,o){var c=s.type.contextTypes;if(!c)return Ci;var f=s.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===o)return f.__reactInternalMemoizedMaskedChildContext;var g={},w;for(w in c)g[w]=o[w];return f&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=o,s.__reactInternalMemoizedMaskedChildContext=g),g}function Ln(s){return s=s.childContextTypes,s!=null}function ed(){xt(On),xt(wn)}function a0(s,o,c){if(wn.current!==Ci)throw Error(n(168));mt(wn,o),mt(On,c)}function l0(s,o,c){var f=s.stateNode;if(o=o.childContextTypes,typeof f.getChildContext!="function")return c;f=f.getChildContext();for(var g in f)if(!(g in o))throw Error(n(108,re(s)||"Unknown",g));return ie({},c,f)}function td(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Ci,Ao=wn.current,mt(wn,s),mt(On,On.current),!0}function c0(s,o,c){var f=s.stateNode;if(!f)throw Error(n(169));c?(s=l0(s,o,Ao),f.__reactInternalMemoizedMergedChildContext=s,xt(On),xt(wn),mt(wn,s)):xt(On),mt(On,c)}var Ws=null,nd=!1,op=!1;function u0(s){Ws===null?Ws=[s]:Ws.push(s)}function qC(s){nd=!0,u0(s)}function Ni(){if(!op&&Ws!==null){op=!0;var s=0,o=Ze;try{var c=Ws;for(Ze=1;s<c.length;s++){var f=c[s];do f=f(!0);while(f!==null)}Ws=null,nd=!1}catch(g){throw Ws!==null&&(Ws=Ws.slice(s+1)),$l(xa,Ni),g}finally{Ze=o,op=!1}}return null}var Ba=[],$a=0,rd=null,sd=0,gr=[],vr=0,Po=null,Hs=1,qs="";function Ro(s,o){Ba[$a++]=sd,Ba[$a++]=rd,rd=s,sd=o}function d0(s,o,c){gr[vr++]=Hs,gr[vr++]=qs,gr[vr++]=Po,Po=s;var f=Hs;s=qs;var g=32-Jn(f)-1;f&=~(1<<g),c+=1;var w=32-Jn(o)+g;if(30<w){var T=g-g%5;w=(f&(1<<T)-1).toString(32),f>>=T,g-=T,Hs=1<<32-Jn(o)+g|c<<g|f,qs=w+s}else Hs=1<<w|c<<g|f,qs=s}function ap(s){s.return!==null&&(Ro(s,1),d0(s,1,0))}function lp(s){for(;s===rd;)rd=Ba[--$a],Ba[$a]=null,sd=Ba[--$a],Ba[$a]=null;for(;s===Po;)Po=gr[--vr],gr[vr]=null,qs=gr[--vr],gr[vr]=null,Hs=gr[--vr],gr[vr]=null}var rr=null,sr=null,Tt=!1,Rr=null;function h0(s,o){var c=xr(5,null,null,0);c.elementType="DELETED",c.stateNode=o,c.return=s,o=s.deletions,o===null?(s.deletions=[c],s.flags|=16):o.push(c)}function f0(s,o){switch(s.tag){case 5:var c=s.type;return o=o.nodeType!==1||c.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(s.stateNode=o,rr=s,sr=Si(o.firstChild),!0):!1;case 6:return o=s.pendingProps===""||o.nodeType!==3?null:o,o!==null?(s.stateNode=o,rr=s,sr=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(c=Po!==null?{id:Hs,overflow:qs}:null,s.memoizedState={dehydrated:o,treeContext:c,retryLane:1073741824},c=xr(18,null,null,0),c.stateNode=o,c.return=s,s.child=c,rr=s,sr=null,!0):!1;default:return!1}}function cp(s){return(s.mode&1)!==0&&(s.flags&128)===0}function up(s){if(Tt){var o=sr;if(o){var c=o;if(!f0(s,o)){if(cp(s))throw Error(n(418));o=Si(c.nextSibling);var f=rr;o&&f0(s,o)?h0(f,c):(s.flags=s.flags&-4097|2,Tt=!1,rr=s)}}else{if(cp(s))throw Error(n(418));s.flags=s.flags&-4097|2,Tt=!1,rr=s}}}function p0(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;rr=s}function id(s){if(s!==rr)return!1;if(!Tt)return p0(s),Tt=!0,!1;var o;if((o=s.tag!==3)&&!(o=s.tag!==5)&&(o=s.type,o=o!=="head"&&o!=="body"&&!tp(s.type,s.memoizedProps)),o&&(o=sr)){if(cp(s))throw m0(),Error(n(418));for(;o;)h0(s,o),o=Si(o.nextSibling)}if(p0(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));e:{for(s=s.nextSibling,o=0;s;){if(s.nodeType===8){var c=s.data;if(c==="/$"){if(o===0){sr=Si(s.nextSibling);break e}o--}else c!=="$"&&c!=="$!"&&c!=="$?"||o++}s=s.nextSibling}sr=null}}else sr=rr?Si(s.stateNode.nextSibling):null;return!0}function m0(){for(var s=sr;s;)s=Si(s.nextSibling)}function Wa(){sr=rr=null,Tt=!1}function dp(s){Rr===null?Rr=[s]:Rr.push(s)}var KC=G.ReactCurrentBatchConfig;function pc(s,o,c){if(s=c.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(n(309));var f=c.stateNode}if(!f)throw Error(n(147,s));var g=f,w=""+s;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===w?o.ref:(o=function(T){var M=g.refs;T===null?delete M[w]:M[w]=T},o._stringRef=w,o)}if(typeof s!="string")throw Error(n(284));if(!c._owner)throw Error(n(290,s))}return s}function od(s,o){throw s=Object.prototype.toString.call(o),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s))}function g0(s){var o=s._init;return o(s._payload)}function v0(s){function o(H,$){if(s){var K=H.deletions;K===null?(H.deletions=[$],H.flags|=16):K.push($)}}function c(H,$){if(!s)return null;for(;$!==null;)o(H,$),$=$.sibling;return null}function f(H,$){for(H=new Map;$!==null;)$.key!==null?H.set($.key,$):H.set($.index,$),$=$.sibling;return H}function g(H,$){return H=Oi(H,$),H.index=0,H.sibling=null,H}function w(H,$,K){return H.index=K,s?(K=H.alternate,K!==null?(K=K.index,K<$?(H.flags|=2,$):K):(H.flags|=2,$)):(H.flags|=1048576,$)}function T(H){return s&&H.alternate===null&&(H.flags|=2),H}function M(H,$,K,de){return $===null||$.tag!==6?($=nm(K,H.mode,de),$.return=H,$):($=g($,K),$.return=H,$)}function F(H,$,K,de){var Ne=K.type;return Ne===P?oe(H,$,K.props.children,de,K.key):$!==null&&($.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===ae&&g0(Ne)===$.type)?(de=g($,K.props),de.ref=pc(H,$,K),de.return=H,de):(de=Ad(K.type,K.key,K.props,null,H.mode,de),de.ref=pc(H,$,K),de.return=H,de)}function Y(H,$,K,de){return $===null||$.tag!==4||$.stateNode.containerInfo!==K.containerInfo||$.stateNode.implementation!==K.implementation?($=rm(K,H.mode,de),$.return=H,$):($=g($,K.children||[]),$.return=H,$)}function oe(H,$,K,de,Ne){return $===null||$.tag!==7?($=Uo(K,H.mode,de,Ne),$.return=H,$):($=g($,K),$.return=H,$)}function ce(H,$,K){if(typeof $=="string"&&$!==""||typeof $=="number")return $=nm(""+$,H.mode,K),$.return=H,$;if(typeof $=="object"&&$!==null){switch($.$$typeof){case J:return K=Ad($.type,$.key,$.props,null,H.mode,K),K.ref=pc(H,null,$),K.return=H,K;case te:return $=rm($,H.mode,K),$.return=H,$;case ae:var de=$._init;return ce(H,de($._payload),K)}if(It($)||ue($))return $=Uo($,H.mode,K,null),$.return=H,$;od(H,$)}return null}function se(H,$,K,de){var Ne=$!==null?$.key:null;if(typeof K=="string"&&K!==""||typeof K=="number")return Ne!==null?null:M(H,$,""+K,de);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case J:return K.key===Ne?F(H,$,K,de):null;case te:return K.key===Ne?Y(H,$,K,de):null;case ae:return Ne=K._init,se(H,$,Ne(K._payload),de)}if(It(K)||ue(K))return Ne!==null?null:oe(H,$,K,de,null);od(H,K)}return null}function ye(H,$,K,de,Ne){if(typeof de=="string"&&de!==""||typeof de=="number")return H=H.get(K)||null,M($,H,""+de,Ne);if(typeof de=="object"&&de!==null){switch(de.$$typeof){case J:return H=H.get(de.key===null?K:de.key)||null,F($,H,de,Ne);case te:return H=H.get(de.key===null?K:de.key)||null,Y($,H,de,Ne);case ae:var Re=de._init;return ye(H,$,K,Re(de._payload),Ne)}if(It(de)||ue(de))return H=H.get(K)||null,oe($,H,de,Ne,null);od($,de)}return null}function Ee(H,$,K,de){for(var Ne=null,Re=null,De=$,Fe=$=0,sn=null;De!==null&&Fe<K.length;Fe++){De.index>Fe?(sn=De,De=null):sn=De.sibling;var it=se(H,De,K[Fe],de);if(it===null){De===null&&(De=sn);break}s&&De&&it.alternate===null&&o(H,De),$=w(it,$,Fe),Re===null?Ne=it:Re.sibling=it,Re=it,De=sn}if(Fe===K.length)return c(H,De),Tt&&Ro(H,Fe),Ne;if(De===null){for(;Fe<K.length;Fe++)De=ce(H,K[Fe],de),De!==null&&($=w(De,$,Fe),Re===null?Ne=De:Re.sibling=De,Re=De);return Tt&&Ro(H,Fe),Ne}for(De=f(H,De);Fe<K.length;Fe++)sn=ye(De,H,Fe,K[Fe],de),sn!==null&&(s&&sn.alternate!==null&&De.delete(sn.key===null?Fe:sn.key),$=w(sn,$,Fe),Re===null?Ne=sn:Re.sibling=sn,Re=sn);return s&&De.forEach(function(Li){return o(H,Li)}),Tt&&Ro(H,Fe),Ne}function Se(H,$,K,de){var Ne=ue(K);if(typeof Ne!="function")throw Error(n(150));if(K=Ne.call(K),K==null)throw Error(n(151));for(var Re=Ne=null,De=$,Fe=$=0,sn=null,it=K.next();De!==null&&!it.done;Fe++,it=K.next()){De.index>Fe?(sn=De,De=null):sn=De.sibling;var Li=se(H,De,it.value,de);if(Li===null){De===null&&(De=sn);break}s&&De&&Li.alternate===null&&o(H,De),$=w(Li,$,Fe),Re===null?Ne=Li:Re.sibling=Li,Re=Li,De=sn}if(it.done)return c(H,De),Tt&&Ro(H,Fe),Ne;if(De===null){for(;!it.done;Fe++,it=K.next())it=ce(H,it.value,de),it!==null&&($=w(it,$,Fe),Re===null?Ne=it:Re.sibling=it,Re=it);return Tt&&Ro(H,Fe),Ne}for(De=f(H,De);!it.done;Fe++,it=K.next())it=ye(De,H,Fe,it.value,de),it!==null&&(s&&it.alternate!==null&&De.delete(it.key===null?Fe:it.key),$=w(it,$,Fe),Re===null?Ne=it:Re.sibling=it,Re=it);return s&&De.forEach(function(IN){return o(H,IN)}),Tt&&Ro(H,Fe),Ne}function Ot(H,$,K,de){if(typeof K=="object"&&K!==null&&K.type===P&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case J:e:{for(var Ne=K.key,Re=$;Re!==null;){if(Re.key===Ne){if(Ne=K.type,Ne===P){if(Re.tag===7){c(H,Re.sibling),$=g(Re,K.props.children),$.return=H,H=$;break e}}else if(Re.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===ae&&g0(Ne)===Re.type){c(H,Re.sibling),$=g(Re,K.props),$.ref=pc(H,Re,K),$.return=H,H=$;break e}c(H,Re);break}else o(H,Re);Re=Re.sibling}K.type===P?($=Uo(K.props.children,H.mode,de,K.key),$.return=H,H=$):(de=Ad(K.type,K.key,K.props,null,H.mode,de),de.ref=pc(H,$,K),de.return=H,H=de)}return T(H);case te:e:{for(Re=K.key;$!==null;){if($.key===Re)if($.tag===4&&$.stateNode.containerInfo===K.containerInfo&&$.stateNode.implementation===K.implementation){c(H,$.sibling),$=g($,K.children||[]),$.return=H,H=$;break e}else{c(H,$);break}else o(H,$);$=$.sibling}$=rm(K,H.mode,de),$.return=H,H=$}return T(H);case ae:return Re=K._init,Ot(H,$,Re(K._payload),de)}if(It(K))return Ee(H,$,K,de);if(ue(K))return Se(H,$,K,de);od(H,K)}return typeof K=="string"&&K!==""||typeof K=="number"?(K=""+K,$!==null&&$.tag===6?(c(H,$.sibling),$=g($,K),$.return=H,H=$):(c(H,$),$=nm(K,H.mode,de),$.return=H,H=$),T(H)):c(H,$)}return Ot}var Ha=v0(!0),y0=v0(!1),ad=Ii(null),ld=null,qa=null,hp=null;function fp(){hp=qa=ld=null}function pp(s){var o=ad.current;xt(ad),s._currentValue=o}function mp(s,o,c){for(;s!==null;){var f=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,f!==null&&(f.childLanes|=o)):f!==null&&(f.childLanes&o)!==o&&(f.childLanes|=o),s===c)break;s=s.return}}function Ka(s,o){ld=s,hp=qa=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&o)!==0&&(Vn=!0),s.firstContext=null)}function yr(s){var o=s._currentValue;if(hp!==s)if(s={context:s,memoizedValue:o,next:null},qa===null){if(ld===null)throw Error(n(308));qa=s,ld.dependencies={lanes:0,firstContext:s}}else qa=qa.next=s;return o}var Do=null;function gp(s){Do===null?Do=[s]:Do.push(s)}function w0(s,o,c,f){var g=o.interleaved;return g===null?(c.next=c,gp(o)):(c.next=g.next,g.next=c),o.interleaved=c,Ks(s,f)}function Ks(s,o){s.lanes|=o;var c=s.alternate;for(c!==null&&(c.lanes|=o),c=s,s=s.return;s!==null;)s.childLanes|=o,c=s.alternate,c!==null&&(c.childLanes|=o),c=s,s=s.return;return c.tag===3?c.stateNode:null}var ki=!1;function vp(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _0(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function Gs(s,o){return{eventTime:s,lane:o,tag:0,payload:null,callback:null,next:null}}function Ai(s,o,c){var f=s.updateQueue;if(f===null)return null;if(f=f.shared,(rt&2)!==0){var g=f.pending;return g===null?o.next=o:(o.next=g.next,g.next=o),f.pending=o,Ks(s,c)}return g=f.interleaved,g===null?(o.next=o,gp(f)):(o.next=g.next,g.next=o),f.interleaved=o,Ks(s,c)}function cd(s,o,c){if(o=o.updateQueue,o!==null&&(o=o.shared,(c&4194240)!==0)){var f=o.lanes;f&=s.pendingLanes,c|=f,o.lanes=c,Yl(s,c)}}function x0(s,o){var c=s.updateQueue,f=s.alternate;if(f!==null&&(f=f.updateQueue,c===f)){var g=null,w=null;if(c=c.firstBaseUpdate,c!==null){do{var T={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};w===null?g=w=T:w=w.next=T,c=c.next}while(c!==null);w===null?g=w=o:w=w.next=o}else g=w=o;c={baseState:f.baseState,firstBaseUpdate:g,lastBaseUpdate:w,shared:f.shared,effects:f.effects},s.updateQueue=c;return}s=c.lastBaseUpdate,s===null?c.firstBaseUpdate=o:s.next=o,c.lastBaseUpdate=o}function ud(s,o,c,f){var g=s.updateQueue;ki=!1;var w=g.firstBaseUpdate,T=g.lastBaseUpdate,M=g.shared.pending;if(M!==null){g.shared.pending=null;var F=M,Y=F.next;F.next=null,T===null?w=Y:T.next=Y,T=F;var oe=s.alternate;oe!==null&&(oe=oe.updateQueue,M=oe.lastBaseUpdate,M!==T&&(M===null?oe.firstBaseUpdate=Y:M.next=Y,oe.lastBaseUpdate=F))}if(w!==null){var ce=g.baseState;T=0,oe=Y=F=null,M=w;do{var se=M.lane,ye=M.eventTime;if((f&se)===se){oe!==null&&(oe=oe.next={eventTime:ye,lane:0,tag:M.tag,payload:M.payload,callback:M.callback,next:null});e:{var Ee=s,Se=M;switch(se=o,ye=c,Se.tag){case 1:if(Ee=Se.payload,typeof Ee=="function"){ce=Ee.call(ye,ce,se);break e}ce=Ee;break e;case 3:Ee.flags=Ee.flags&-65537|128;case 0:if(Ee=Se.payload,se=typeof Ee=="function"?Ee.call(ye,ce,se):Ee,se==null)break e;ce=ie({},ce,se);break e;case 2:ki=!0}}M.callback!==null&&M.lane!==0&&(s.flags|=64,se=g.effects,se===null?g.effects=[M]:se.push(M))}else ye={eventTime:ye,lane:se,tag:M.tag,payload:M.payload,callback:M.callback,next:null},oe===null?(Y=oe=ye,F=ce):oe=oe.next=ye,T|=se;if(M=M.next,M===null){if(M=g.shared.pending,M===null)break;se=M,M=se.next,se.next=null,g.lastBaseUpdate=se,g.shared.pending=null}}while(!0);if(oe===null&&(F=ce),g.baseState=F,g.firstBaseUpdate=Y,g.lastBaseUpdate=oe,o=g.shared.interleaved,o!==null){g=o;do T|=g.lane,g=g.next;while(g!==o)}else w===null&&(g.shared.lanes=0);Oo|=T,s.lanes=T,s.memoizedState=ce}}function E0(s,o,c){if(s=o.effects,o.effects=null,s!==null)for(o=0;o<s.length;o++){var f=s[o],g=f.callback;if(g!==null){if(f.callback=null,f=c,typeof g!="function")throw Error(n(191,g));g.call(f)}}}var mc={},ds=Ii(mc),gc=Ii(mc),vc=Ii(mc);function jo(s){if(s===mc)throw Error(n(174));return s}function yp(s,o){switch(mt(vc,o),mt(gc,s),mt(ds,mc),s=o.nodeType,s){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:hi(null,"");break;default:s=s===8?o.parentNode:o,o=s.namespaceURI||null,s=s.tagName,o=hi(o,s)}xt(ds),mt(ds,o)}function Ga(){xt(ds),xt(gc),xt(vc)}function b0(s){jo(vc.current);var o=jo(ds.current),c=hi(o,s.type);o!==c&&(mt(gc,s),mt(ds,c))}function wp(s){gc.current===s&&(xt(ds),xt(gc))}var Ct=Ii(0);function dd(s){for(var o=s;o!==null;){if(o.tag===13){var c=o.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var _p=[];function xp(){for(var s=0;s<_p.length;s++)_p[s]._workInProgressVersionPrimary=null;_p.length=0}var hd=G.ReactCurrentDispatcher,Ep=G.ReactCurrentBatchConfig,Mo=0,Nt=null,Gt=null,nn=null,fd=!1,yc=!1,wc=0,GC=0;function _n(){throw Error(n(321))}function bp(s,o){if(o===null)return!1;for(var c=0;c<o.length&&c<s.length;c++)if(!Pr(s[c],o[c]))return!1;return!0}function Tp(s,o,c,f,g,w){if(Mo=w,Nt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,hd.current=s===null||s.memoizedState===null?JC:ZC,s=c(f,g),yc){w=0;do{if(yc=!1,wc=0,25<=w)throw Error(n(301));w+=1,nn=Gt=null,o.updateQueue=null,hd.current=eN,s=c(f,g)}while(yc)}if(hd.current=gd,o=Gt!==null&&Gt.next!==null,Mo=0,nn=Gt=Nt=null,fd=!1,o)throw Error(n(300));return s}function Sp(){var s=wc!==0;return wc=0,s}function hs(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nn===null?Nt.memoizedState=nn=s:nn=nn.next=s,nn}function wr(){if(Gt===null){var s=Nt.alternate;s=s!==null?s.memoizedState:null}else s=Gt.next;var o=nn===null?Nt.memoizedState:nn.next;if(o!==null)nn=o,Gt=s;else{if(s===null)throw Error(n(310));Gt=s,s={memoizedState:Gt.memoizedState,baseState:Gt.baseState,baseQueue:Gt.baseQueue,queue:Gt.queue,next:null},nn===null?Nt.memoizedState=nn=s:nn=nn.next=s}return nn}function _c(s,o){return typeof o=="function"?o(s):o}function Ip(s){var o=wr(),c=o.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=s;var f=Gt,g=f.baseQueue,w=c.pending;if(w!==null){if(g!==null){var T=g.next;g.next=w.next,w.next=T}f.baseQueue=g=w,c.pending=null}if(g!==null){w=g.next,f=f.baseState;var M=T=null,F=null,Y=w;do{var oe=Y.lane;if((Mo&oe)===oe)F!==null&&(F=F.next={lane:0,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),f=Y.hasEagerState?Y.eagerState:s(f,Y.action);else{var ce={lane:oe,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null};F===null?(M=F=ce,T=f):F=F.next=ce,Nt.lanes|=oe,Oo|=oe}Y=Y.next}while(Y!==null&&Y!==w);F===null?T=f:F.next=M,Pr(f,o.memoizedState)||(Vn=!0),o.memoizedState=f,o.baseState=T,o.baseQueue=F,c.lastRenderedState=f}if(s=c.interleaved,s!==null){g=s;do w=g.lane,Nt.lanes|=w,Oo|=w,g=g.next;while(g!==s)}else g===null&&(c.lanes=0);return[o.memoizedState,c.dispatch]}function Cp(s){var o=wr(),c=o.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=s;var f=c.dispatch,g=c.pending,w=o.memoizedState;if(g!==null){c.pending=null;var T=g=g.next;do w=s(w,T.action),T=T.next;while(T!==g);Pr(w,o.memoizedState)||(Vn=!0),o.memoizedState=w,o.baseQueue===null&&(o.baseState=w),c.lastRenderedState=w}return[w,f]}function T0(){}function S0(s,o){var c=Nt,f=wr(),g=o(),w=!Pr(f.memoizedState,g);if(w&&(f.memoizedState=g,Vn=!0),f=f.queue,Np(N0.bind(null,c,f,s),[s]),f.getSnapshot!==o||w||nn!==null&&nn.memoizedState.tag&1){if(c.flags|=2048,xc(9,C0.bind(null,c,f,g,o),void 0,null),rn===null)throw Error(n(349));(Mo&30)!==0||I0(c,o,g)}return g}function I0(s,o,c){s.flags|=16384,s={getSnapshot:o,value:c},o=Nt.updateQueue,o===null?(o={lastEffect:null,stores:null},Nt.updateQueue=o,o.stores=[s]):(c=o.stores,c===null?o.stores=[s]:c.push(s))}function C0(s,o,c,f){o.value=c,o.getSnapshot=f,k0(o)&&A0(s)}function N0(s,o,c){return c(function(){k0(o)&&A0(s)})}function k0(s){var o=s.getSnapshot;s=s.value;try{var c=o();return!Pr(s,c)}catch{return!0}}function A0(s){var o=Ks(s,1);o!==null&&Or(o,s,1,-1)}function P0(s){var o=hs();return typeof s=="function"&&(s=s()),o.memoizedState=o.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_c,lastRenderedState:s},o.queue=s,s=s.dispatch=XC.bind(null,Nt,s),[o.memoizedState,s]}function xc(s,o,c,f){return s={tag:s,create:o,destroy:c,deps:f,next:null},o=Nt.updateQueue,o===null?(o={lastEffect:null,stores:null},Nt.updateQueue=o,o.lastEffect=s.next=s):(c=o.lastEffect,c===null?o.lastEffect=s.next=s:(f=c.next,c.next=s,s.next=f,o.lastEffect=s)),s}function R0(){return wr().memoizedState}function pd(s,o,c,f){var g=hs();Nt.flags|=s,g.memoizedState=xc(1|o,c,void 0,f===void 0?null:f)}function md(s,o,c,f){var g=wr();f=f===void 0?null:f;var w=void 0;if(Gt!==null){var T=Gt.memoizedState;if(w=T.destroy,f!==null&&bp(f,T.deps)){g.memoizedState=xc(o,c,w,f);return}}Nt.flags|=s,g.memoizedState=xc(1|o,c,w,f)}function D0(s,o){return pd(8390656,8,s,o)}function Np(s,o){return md(2048,8,s,o)}function j0(s,o){return md(4,2,s,o)}function M0(s,o){return md(4,4,s,o)}function O0(s,o){if(typeof o=="function")return s=s(),o(s),function(){o(null)};if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function L0(s,o,c){return c=c!=null?c.concat([s]):null,md(4,4,O0.bind(null,o,s),c)}function kp(){}function V0(s,o){var c=wr();o=o===void 0?null:o;var f=c.memoizedState;return f!==null&&o!==null&&bp(o,f[1])?f[0]:(c.memoizedState=[s,o],s)}function F0(s,o){var c=wr();o=o===void 0?null:o;var f=c.memoizedState;return f!==null&&o!==null&&bp(o,f[1])?f[0]:(s=s(),c.memoizedState=[s,o],s)}function U0(s,o,c){return(Mo&21)===0?(s.baseState&&(s.baseState=!1,Vn=!0),s.memoizedState=c):(Pr(c,o)||(c=Kl(),Nt.lanes|=c,Oo|=c,s.baseState=!0),o)}function YC(s,o){var c=Ze;Ze=c!==0&&4>c?c:4,s(!0);var f=Ep.transition;Ep.transition={};try{s(!1),o()}finally{Ze=c,Ep.transition=f}}function z0(){return wr().memoizedState}function QC(s,o,c){var f=ji(s);if(c={lane:f,action:c,hasEagerState:!1,eagerState:null,next:null},B0(s))$0(o,c);else if(c=w0(s,o,c,f),c!==null){var g=Pn();Or(c,s,f,g),W0(c,o,f)}}function XC(s,o,c){var f=ji(s),g={lane:f,action:c,hasEagerState:!1,eagerState:null,next:null};if(B0(s))$0(o,g);else{var w=s.alternate;if(s.lanes===0&&(w===null||w.lanes===0)&&(w=o.lastRenderedReducer,w!==null))try{var T=o.lastRenderedState,M=w(T,c);if(g.hasEagerState=!0,g.eagerState=M,Pr(M,T)){var F=o.interleaved;F===null?(g.next=g,gp(o)):(g.next=F.next,F.next=g),o.interleaved=g;return}}catch{}finally{}c=w0(s,o,g,f),c!==null&&(g=Pn(),Or(c,s,f,g),W0(c,o,f))}}function B0(s){var o=s.alternate;return s===Nt||o!==null&&o===Nt}function $0(s,o){yc=fd=!0;var c=s.pending;c===null?o.next=o:(o.next=c.next,c.next=o),s.pending=o}function W0(s,o,c){if((c&4194240)!==0){var f=o.lanes;f&=s.pendingLanes,c|=f,o.lanes=c,Yl(s,c)}}var gd={readContext:yr,useCallback:_n,useContext:_n,useEffect:_n,useImperativeHandle:_n,useInsertionEffect:_n,useLayoutEffect:_n,useMemo:_n,useReducer:_n,useRef:_n,useState:_n,useDebugValue:_n,useDeferredValue:_n,useTransition:_n,useMutableSource:_n,useSyncExternalStore:_n,useId:_n,unstable_isNewReconciler:!1},JC={readContext:yr,useCallback:function(s,o){return hs().memoizedState=[s,o===void 0?null:o],s},useContext:yr,useEffect:D0,useImperativeHandle:function(s,o,c){return c=c!=null?c.concat([s]):null,pd(4194308,4,O0.bind(null,o,s),c)},useLayoutEffect:function(s,o){return pd(4194308,4,s,o)},useInsertionEffect:function(s,o){return pd(4,2,s,o)},useMemo:function(s,o){var c=hs();return o=o===void 0?null:o,s=s(),c.memoizedState=[s,o],s},useReducer:function(s,o,c){var f=hs();return o=c!==void 0?c(o):o,f.memoizedState=f.baseState=o,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:o},f.queue=s,s=s.dispatch=QC.bind(null,Nt,s),[f.memoizedState,s]},useRef:function(s){var o=hs();return s={current:s},o.memoizedState=s},useState:P0,useDebugValue:kp,useDeferredValue:function(s){return hs().memoizedState=s},useTransition:function(){var s=P0(!1),o=s[0];return s=YC.bind(null,s[1]),hs().memoizedState=s,[o,s]},useMutableSource:function(){},useSyncExternalStore:function(s,o,c){var f=Nt,g=hs();if(Tt){if(c===void 0)throw Error(n(407));c=c()}else{if(c=o(),rn===null)throw Error(n(349));(Mo&30)!==0||I0(f,o,c)}g.memoizedState=c;var w={value:c,getSnapshot:o};return g.queue=w,D0(N0.bind(null,f,w,s),[s]),f.flags|=2048,xc(9,C0.bind(null,f,w,c,o),void 0,null),c},useId:function(){var s=hs(),o=rn.identifierPrefix;if(Tt){var c=qs,f=Hs;c=(f&~(1<<32-Jn(f)-1)).toString(32)+c,o=":"+o+"R"+c,c=wc++,0<c&&(o+="H"+c.toString(32)),o+=":"}else c=GC++,o=":"+o+"r"+c.toString(32)+":";return s.memoizedState=o},unstable_isNewReconciler:!1},ZC={readContext:yr,useCallback:V0,useContext:yr,useEffect:Np,useImperativeHandle:L0,useInsertionEffect:j0,useLayoutEffect:M0,useMemo:F0,useReducer:Ip,useRef:R0,useState:function(){return Ip(_c)},useDebugValue:kp,useDeferredValue:function(s){var o=wr();return U0(o,Gt.memoizedState,s)},useTransition:function(){var s=Ip(_c)[0],o=wr().memoizedState;return[s,o]},useMutableSource:T0,useSyncExternalStore:S0,useId:z0,unstable_isNewReconciler:!1},eN={readContext:yr,useCallback:V0,useContext:yr,useEffect:Np,useImperativeHandle:L0,useInsertionEffect:j0,useLayoutEffect:M0,useMemo:F0,useReducer:Cp,useRef:R0,useState:function(){return Cp(_c)},useDebugValue:kp,useDeferredValue:function(s){var o=wr();return Gt===null?o.memoizedState=s:U0(o,Gt.memoizedState,s)},useTransition:function(){var s=Cp(_c)[0],o=wr().memoizedState;return[s,o]},useMutableSource:T0,useSyncExternalStore:S0,useId:z0,unstable_isNewReconciler:!1};function Dr(s,o){if(s&&s.defaultProps){o=ie({},o),s=s.defaultProps;for(var c in s)o[c]===void 0&&(o[c]=s[c]);return o}return o}function Ap(s,o,c,f){o=s.memoizedState,c=c(f,o),c=c==null?o:ie({},o,c),s.memoizedState=c,s.lanes===0&&(s.updateQueue.baseState=c)}var vd={isMounted:function(s){return(s=s._reactInternals)?kr(s)===s:!1},enqueueSetState:function(s,o,c){s=s._reactInternals;var f=Pn(),g=ji(s),w=Gs(f,g);w.payload=o,c!=null&&(w.callback=c),o=Ai(s,w,g),o!==null&&(Or(o,s,g,f),cd(o,s,g))},enqueueReplaceState:function(s,o,c){s=s._reactInternals;var f=Pn(),g=ji(s),w=Gs(f,g);w.tag=1,w.payload=o,c!=null&&(w.callback=c),o=Ai(s,w,g),o!==null&&(Or(o,s,g,f),cd(o,s,g))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var c=Pn(),f=ji(s),g=Gs(c,f);g.tag=2,o!=null&&(g.callback=o),o=Ai(s,g,f),o!==null&&(Or(o,s,f,c),cd(o,s,f))}};function H0(s,o,c,f,g,w,T){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(f,w,T):o.prototype&&o.prototype.isPureReactComponent?!ac(c,f)||!ac(g,w):!0}function q0(s,o,c){var f=!1,g=Ci,w=o.contextType;return typeof w=="object"&&w!==null?w=yr(w):(g=Ln(o)?Ao:wn.current,f=o.contextTypes,w=(f=f!=null)?za(s,g):Ci),o=new o(c,w),s.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=vd,s.stateNode=o,o._reactInternals=s,f&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=g,s.__reactInternalMemoizedMaskedChildContext=w),o}function K0(s,o,c,f){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(c,f),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(c,f),o.state!==s&&vd.enqueueReplaceState(o,o.state,null)}function Pp(s,o,c,f){var g=s.stateNode;g.props=c,g.state=s.memoizedState,g.refs={},vp(s);var w=o.contextType;typeof w=="object"&&w!==null?g.context=yr(w):(w=Ln(o)?Ao:wn.current,g.context=za(s,w)),g.state=s.memoizedState,w=o.getDerivedStateFromProps,typeof w=="function"&&(Ap(s,o,w,c),g.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(o=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),o!==g.state&&vd.enqueueReplaceState(g,g.state,null),ud(s,c,g,f),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308)}function Ya(s,o){try{var c="",f=o;do c+=ge(f),f=f.return;while(f);var g=c}catch(w){g=`
Error generating stack: `+w.message+`
`+w.stack}return{value:s,source:o,stack:g,digest:null}}function Rp(s,o,c){return{value:s,source:null,stack:c??null,digest:o??null}}function Dp(s,o){try{console.error(o.value)}catch(c){setTimeout(function(){throw c})}}var tN=typeof WeakMap=="function"?WeakMap:Map;function G0(s,o,c){c=Gs(-1,c),c.tag=3,c.payload={element:null};var f=o.value;return c.callback=function(){Td||(Td=!0,Gp=f),Dp(s,o)},c}function Y0(s,o,c){c=Gs(-1,c),c.tag=3;var f=s.type.getDerivedStateFromError;if(typeof f=="function"){var g=o.value;c.payload=function(){return f(g)},c.callback=function(){Dp(s,o)}}var w=s.stateNode;return w!==null&&typeof w.componentDidCatch=="function"&&(c.callback=function(){Dp(s,o),typeof f!="function"&&(Ri===null?Ri=new Set([this]):Ri.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})}),c}function Q0(s,o,c){var f=s.pingCache;if(f===null){f=s.pingCache=new tN;var g=new Set;f.set(o,g)}else g=f.get(o),g===void 0&&(g=new Set,f.set(o,g));g.has(c)||(g.add(c),s=mN.bind(null,s,o,c),o.then(s,s))}function X0(s){do{var o;if((o=s.tag===13)&&(o=s.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return s;s=s.return}while(s!==null);return null}function J0(s,o,c,f,g){return(s.mode&1)===0?(s===o?s.flags|=65536:(s.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(o=Gs(-1,1),o.tag=2,Ai(c,o,1))),c.lanes|=1),s):(s.flags|=65536,s.lanes=g,s)}var nN=G.ReactCurrentOwner,Vn=!1;function An(s,o,c,f){o.child=s===null?y0(o,null,c,f):Ha(o,s.child,c,f)}function Z0(s,o,c,f,g){c=c.render;var w=o.ref;return Ka(o,g),f=Tp(s,o,c,f,w,g),c=Sp(),s!==null&&!Vn?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~g,Ys(s,o,g)):(Tt&&c&&ap(o),o.flags|=1,An(s,o,f,g),o.child)}function ew(s,o,c,f,g){if(s===null){var w=c.type;return typeof w=="function"&&!tm(w)&&w.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(o.tag=15,o.type=w,tw(s,o,w,f,g)):(s=Ad(c.type,null,f,o,o.mode,g),s.ref=o.ref,s.return=o,o.child=s)}if(w=s.child,(s.lanes&g)===0){var T=w.memoizedProps;if(c=c.compare,c=c!==null?c:ac,c(T,f)&&s.ref===o.ref)return Ys(s,o,g)}return o.flags|=1,s=Oi(w,f),s.ref=o.ref,s.return=o,o.child=s}function tw(s,o,c,f,g){if(s!==null){var w=s.memoizedProps;if(ac(w,f)&&s.ref===o.ref)if(Vn=!1,o.pendingProps=f=w,(s.lanes&g)!==0)(s.flags&131072)!==0&&(Vn=!0);else return o.lanes=s.lanes,Ys(s,o,g)}return jp(s,o,c,f,g)}function nw(s,o,c){var f=o.pendingProps,g=f.children,w=s!==null?s.memoizedState:null;if(f.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},mt(Xa,ir),ir|=c;else{if((c&1073741824)===0)return s=w!==null?w.baseLanes|c:c,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:s,cachePool:null,transitions:null},o.updateQueue=null,mt(Xa,ir),ir|=s,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=w!==null?w.baseLanes:c,mt(Xa,ir),ir|=f}else w!==null?(f=w.baseLanes|c,o.memoizedState=null):f=c,mt(Xa,ir),ir|=f;return An(s,o,g,c),o.child}function rw(s,o){var c=o.ref;(s===null&&c!==null||s!==null&&s.ref!==c)&&(o.flags|=512,o.flags|=2097152)}function jp(s,o,c,f,g){var w=Ln(c)?Ao:wn.current;return w=za(o,w),Ka(o,g),c=Tp(s,o,c,f,w,g),f=Sp(),s!==null&&!Vn?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~g,Ys(s,o,g)):(Tt&&f&&ap(o),o.flags|=1,An(s,o,c,g),o.child)}function sw(s,o,c,f,g){if(Ln(c)){var w=!0;td(o)}else w=!1;if(Ka(o,g),o.stateNode===null)wd(s,o),q0(o,c,f),Pp(o,c,f,g),f=!0;else if(s===null){var T=o.stateNode,M=o.memoizedProps;T.props=M;var F=T.context,Y=c.contextType;typeof Y=="object"&&Y!==null?Y=yr(Y):(Y=Ln(c)?Ao:wn.current,Y=za(o,Y));var oe=c.getDerivedStateFromProps,ce=typeof oe=="function"||typeof T.getSnapshotBeforeUpdate=="function";ce||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(M!==f||F!==Y)&&K0(o,T,f,Y),ki=!1;var se=o.memoizedState;T.state=se,ud(o,f,T,g),F=o.memoizedState,M!==f||se!==F||On.current||ki?(typeof oe=="function"&&(Ap(o,c,oe,f),F=o.memoizedState),(M=ki||H0(o,c,M,f,se,F,Y))?(ce||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(o.flags|=4194308)):(typeof T.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=f,o.memoizedState=F),T.props=f,T.state=F,T.context=Y,f=M):(typeof T.componentDidMount=="function"&&(o.flags|=4194308),f=!1)}else{T=o.stateNode,_0(s,o),M=o.memoizedProps,Y=o.type===o.elementType?M:Dr(o.type,M),T.props=Y,ce=o.pendingProps,se=T.context,F=c.contextType,typeof F=="object"&&F!==null?F=yr(F):(F=Ln(c)?Ao:wn.current,F=za(o,F));var ye=c.getDerivedStateFromProps;(oe=typeof ye=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(M!==ce||se!==F)&&K0(o,T,f,F),ki=!1,se=o.memoizedState,T.state=se,ud(o,f,T,g);var Ee=o.memoizedState;M!==ce||se!==Ee||On.current||ki?(typeof ye=="function"&&(Ap(o,c,ye,f),Ee=o.memoizedState),(Y=ki||H0(o,c,Y,f,se,Ee,F)||!1)?(oe||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(f,Ee,F),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(f,Ee,F)),typeof T.componentDidUpdate=="function"&&(o.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof T.componentDidUpdate!="function"||M===s.memoizedProps&&se===s.memoizedState||(o.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||M===s.memoizedProps&&se===s.memoizedState||(o.flags|=1024),o.memoizedProps=f,o.memoizedState=Ee),T.props=f,T.state=Ee,T.context=F,f=Y):(typeof T.componentDidUpdate!="function"||M===s.memoizedProps&&se===s.memoizedState||(o.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||M===s.memoizedProps&&se===s.memoizedState||(o.flags|=1024),f=!1)}return Mp(s,o,c,f,w,g)}function Mp(s,o,c,f,g,w){rw(s,o);var T=(o.flags&128)!==0;if(!f&&!T)return g&&c0(o,c,!1),Ys(s,o,w);f=o.stateNode,nN.current=o;var M=T&&typeof c.getDerivedStateFromError!="function"?null:f.render();return o.flags|=1,s!==null&&T?(o.child=Ha(o,s.child,null,w),o.child=Ha(o,null,M,w)):An(s,o,M,w),o.memoizedState=f.state,g&&c0(o,c,!0),o.child}function iw(s){var o=s.stateNode;o.pendingContext?a0(s,o.pendingContext,o.pendingContext!==o.context):o.context&&a0(s,o.context,!1),yp(s,o.containerInfo)}function ow(s,o,c,f,g){return Wa(),dp(g),o.flags|=256,An(s,o,c,f),o.child}var Op={dehydrated:null,treeContext:null,retryLane:0};function Lp(s){return{baseLanes:s,cachePool:null,transitions:null}}function aw(s,o,c){var f=o.pendingProps,g=Ct.current,w=!1,T=(o.flags&128)!==0,M;if((M=T)||(M=s!==null&&s.memoizedState===null?!1:(g&2)!==0),M?(w=!0,o.flags&=-129):(s===null||s.memoizedState!==null)&&(g|=1),mt(Ct,g&1),s===null)return up(o),s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((o.mode&1)===0?o.lanes=1:s.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(T=f.children,s=f.fallback,w?(f=o.mode,w=o.child,T={mode:"hidden",children:T},(f&1)===0&&w!==null?(w.childLanes=0,w.pendingProps=T):w=Pd(T,f,0,null),s=Uo(s,f,c,null),w.return=o,s.return=o,w.sibling=s,o.child=w,o.child.memoizedState=Lp(c),o.memoizedState=Op,s):Vp(o,T));if(g=s.memoizedState,g!==null&&(M=g.dehydrated,M!==null))return rN(s,o,T,f,M,g,c);if(w){w=f.fallback,T=o.mode,g=s.child,M=g.sibling;var F={mode:"hidden",children:f.children};return(T&1)===0&&o.child!==g?(f=o.child,f.childLanes=0,f.pendingProps=F,o.deletions=null):(f=Oi(g,F),f.subtreeFlags=g.subtreeFlags&14680064),M!==null?w=Oi(M,w):(w=Uo(w,T,c,null),w.flags|=2),w.return=o,f.return=o,f.sibling=w,o.child=f,f=w,w=o.child,T=s.child.memoizedState,T=T===null?Lp(c):{baseLanes:T.baseLanes|c,cachePool:null,transitions:T.transitions},w.memoizedState=T,w.childLanes=s.childLanes&~c,o.memoizedState=Op,f}return w=s.child,s=w.sibling,f=Oi(w,{mode:"visible",children:f.children}),(o.mode&1)===0&&(f.lanes=c),f.return=o,f.sibling=null,s!==null&&(c=o.deletions,c===null?(o.deletions=[s],o.flags|=16):c.push(s)),o.child=f,o.memoizedState=null,f}function Vp(s,o){return o=Pd({mode:"visible",children:o},s.mode,0,null),o.return=s,s.child=o}function yd(s,o,c,f){return f!==null&&dp(f),Ha(o,s.child,null,c),s=Vp(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function rN(s,o,c,f,g,w,T){if(c)return o.flags&256?(o.flags&=-257,f=Rp(Error(n(422))),yd(s,o,T,f)):o.memoizedState!==null?(o.child=s.child,o.flags|=128,null):(w=f.fallback,g=o.mode,f=Pd({mode:"visible",children:f.children},g,0,null),w=Uo(w,g,T,null),w.flags|=2,f.return=o,w.return=o,f.sibling=w,o.child=f,(o.mode&1)!==0&&Ha(o,s.child,null,T),o.child.memoizedState=Lp(T),o.memoizedState=Op,w);if((o.mode&1)===0)return yd(s,o,T,null);if(g.data==="$!"){if(f=g.nextSibling&&g.nextSibling.dataset,f)var M=f.dgst;return f=M,w=Error(n(419)),f=Rp(w,f,void 0),yd(s,o,T,f)}if(M=(T&s.childLanes)!==0,Vn||M){if(f=rn,f!==null){switch(T&-T){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}g=(g&(f.suspendedLanes|T))!==0?0:g,g!==0&&g!==w.retryLane&&(w.retryLane=g,Ks(s,g),Or(f,s,g,-1))}return em(),f=Rp(Error(n(421))),yd(s,o,T,f)}return g.data==="$?"?(o.flags|=128,o.child=s.child,o=gN.bind(null,s),g._reactRetry=o,null):(s=w.treeContext,sr=Si(g.nextSibling),rr=o,Tt=!0,Rr=null,s!==null&&(gr[vr++]=Hs,gr[vr++]=qs,gr[vr++]=Po,Hs=s.id,qs=s.overflow,Po=o),o=Vp(o,f.children),o.flags|=4096,o)}function lw(s,o,c){s.lanes|=o;var f=s.alternate;f!==null&&(f.lanes|=o),mp(s.return,o,c)}function Fp(s,o,c,f,g){var w=s.memoizedState;w===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:f,tail:c,tailMode:g}:(w.isBackwards=o,w.rendering=null,w.renderingStartTime=0,w.last=f,w.tail=c,w.tailMode=g)}function cw(s,o,c){var f=o.pendingProps,g=f.revealOrder,w=f.tail;if(An(s,o,f.children,c),f=Ct.current,(f&2)!==0)f=f&1|2,o.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&lw(s,c,o);else if(s.tag===19)lw(s,c,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}f&=1}if(mt(Ct,f),(o.mode&1)===0)o.memoizedState=null;else switch(g){case"forwards":for(c=o.child,g=null;c!==null;)s=c.alternate,s!==null&&dd(s)===null&&(g=c),c=c.sibling;c=g,c===null?(g=o.child,o.child=null):(g=c.sibling,c.sibling=null),Fp(o,!1,g,c,w);break;case"backwards":for(c=null,g=o.child,o.child=null;g!==null;){if(s=g.alternate,s!==null&&dd(s)===null){o.child=g;break}s=g.sibling,g.sibling=c,c=g,g=s}Fp(o,!0,c,null,w);break;case"together":Fp(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function wd(s,o){(o.mode&1)===0&&s!==null&&(s.alternate=null,o.alternate=null,o.flags|=2)}function Ys(s,o,c){if(s!==null&&(o.dependencies=s.dependencies),Oo|=o.lanes,(c&o.childLanes)===0)return null;if(s!==null&&o.child!==s.child)throw Error(n(153));if(o.child!==null){for(s=o.child,c=Oi(s,s.pendingProps),o.child=c,c.return=o;s.sibling!==null;)s=s.sibling,c=c.sibling=Oi(s,s.pendingProps),c.return=o;c.sibling=null}return o.child}function sN(s,o,c){switch(o.tag){case 3:iw(o),Wa();break;case 5:b0(o);break;case 1:Ln(o.type)&&td(o);break;case 4:yp(o,o.stateNode.containerInfo);break;case 10:var f=o.type._context,g=o.memoizedProps.value;mt(ad,f._currentValue),f._currentValue=g;break;case 13:if(f=o.memoizedState,f!==null)return f.dehydrated!==null?(mt(Ct,Ct.current&1),o.flags|=128,null):(c&o.child.childLanes)!==0?aw(s,o,c):(mt(Ct,Ct.current&1),s=Ys(s,o,c),s!==null?s.sibling:null);mt(Ct,Ct.current&1);break;case 19:if(f=(c&o.childLanes)!==0,(s.flags&128)!==0){if(f)return cw(s,o,c);o.flags|=128}if(g=o.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),mt(Ct,Ct.current),f)break;return null;case 22:case 23:return o.lanes=0,nw(s,o,c)}return Ys(s,o,c)}var uw,Up,dw,hw;uw=function(s,o){for(var c=o.child;c!==null;){if(c.tag===5||c.tag===6)s.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},Up=function(){},dw=function(s,o,c,f){var g=s.memoizedProps;if(g!==f){s=o.stateNode,jo(ds.current);var w=null;switch(c){case"input":g=Zt(s,g),f=Zt(s,f),w=[];break;case"select":g=ie({},g,{value:void 0}),f=ie({},f,{value:void 0}),w=[];break;case"textarea":g=Kt(s,g),f=Kt(s,f),w=[];break;default:typeof g.onClick!="function"&&typeof f.onClick=="function"&&(s.onclick=Ju)}Mn(c,f);var T;c=null;for(Y in g)if(!f.hasOwnProperty(Y)&&g.hasOwnProperty(Y)&&g[Y]!=null)if(Y==="style"){var M=g[Y];for(T in M)M.hasOwnProperty(T)&&(c||(c={}),c[T]="")}else Y!=="dangerouslySetInnerHTML"&&Y!=="children"&&Y!=="suppressContentEditableWarning"&&Y!=="suppressHydrationWarning"&&Y!=="autoFocus"&&(i.hasOwnProperty(Y)?w||(w=[]):(w=w||[]).push(Y,null));for(Y in f){var F=f[Y];if(M=g?.[Y],f.hasOwnProperty(Y)&&F!==M&&(F!=null||M!=null))if(Y==="style")if(M){for(T in M)!M.hasOwnProperty(T)||F&&F.hasOwnProperty(T)||(c||(c={}),c[T]="");for(T in F)F.hasOwnProperty(T)&&M[T]!==F[T]&&(c||(c={}),c[T]=F[T])}else c||(w||(w=[]),w.push(Y,c)),c=F;else Y==="dangerouslySetInnerHTML"?(F=F?F.__html:void 0,M=M?M.__html:void 0,F!=null&&M!==F&&(w=w||[]).push(Y,F)):Y==="children"?typeof F!="string"&&typeof F!="number"||(w=w||[]).push(Y,""+F):Y!=="suppressContentEditableWarning"&&Y!=="suppressHydrationWarning"&&(i.hasOwnProperty(Y)?(F!=null&&Y==="onScroll"&&_t("scroll",s),w||M===F||(w=[])):(w=w||[]).push(Y,F))}c&&(w=w||[]).push("style",c);var Y=w;(o.updateQueue=Y)&&(o.flags|=4)}},hw=function(s,o,c,f){c!==f&&(o.flags|=4)};function Ec(s,o){if(!Tt)switch(s.tailMode){case"hidden":o=s.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?s.tail=null:c.sibling=null;break;case"collapsed":c=s.tail;for(var f=null;c!==null;)c.alternate!==null&&(f=c),c=c.sibling;f===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:f.sibling=null}}function xn(s){var o=s.alternate!==null&&s.alternate.child===s.child,c=0,f=0;if(o)for(var g=s.child;g!==null;)c|=g.lanes|g.childLanes,f|=g.subtreeFlags&14680064,f|=g.flags&14680064,g.return=s,g=g.sibling;else for(g=s.child;g!==null;)c|=g.lanes|g.childLanes,f|=g.subtreeFlags,f|=g.flags,g.return=s,g=g.sibling;return s.subtreeFlags|=f,s.childLanes=c,o}function iN(s,o,c){var f=o.pendingProps;switch(lp(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xn(o),null;case 1:return Ln(o.type)&&ed(),xn(o),null;case 3:return f=o.stateNode,Ga(),xt(On),xt(wn),xp(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(s===null||s.child===null)&&(id(o)?o.flags|=4:s===null||s.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Rr!==null&&(Xp(Rr),Rr=null))),Up(s,o),xn(o),null;case 5:wp(o);var g=jo(vc.current);if(c=o.type,s!==null&&o.stateNode!=null)dw(s,o,c,f,g),s.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!f){if(o.stateNode===null)throw Error(n(166));return xn(o),null}if(s=jo(ds.current),id(o)){f=o.stateNode,c=o.type;var w=o.memoizedProps;switch(f[us]=o,f[hc]=w,s=(o.mode&1)!==0,c){case"dialog":_t("cancel",f),_t("close",f);break;case"iframe":case"object":case"embed":_t("load",f);break;case"video":case"audio":for(g=0;g<cc.length;g++)_t(cc[g],f);break;case"source":_t("error",f);break;case"img":case"image":case"link":_t("error",f),_t("load",f);break;case"details":_t("toggle",f);break;case"input":Gr(f,w),_t("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!w.multiple},_t("invalid",f);break;case"textarea":dr(f,w),_t("invalid",f)}Mn(c,w),g=null;for(var T in w)if(w.hasOwnProperty(T)){var M=w[T];T==="children"?typeof M=="string"?f.textContent!==M&&(w.suppressHydrationWarning!==!0&&Xu(f.textContent,M,s),g=["children",M]):typeof M=="number"&&f.textContent!==""+M&&(w.suppressHydrationWarning!==!0&&Xu(f.textContent,M,s),g=["children",""+M]):i.hasOwnProperty(T)&&M!=null&&T==="onScroll"&&_t("scroll",f)}switch(c){case"input":$e(f),di(f,w,!0);break;case"textarea":$e(f),Yr(f);break;case"select":case"option":break;default:typeof w.onClick=="function"&&(f.onclick=Ju)}f=g,o.updateQueue=f,f!==null&&(o.flags|=4)}else{T=g.nodeType===9?g:g.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=Qr(c)),s==="http://www.w3.org/1999/xhtml"?c==="script"?(s=T.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof f.is=="string"?s=T.createElement(c,{is:f.is}):(s=T.createElement(c),c==="select"&&(T=s,f.multiple?T.multiple=!0:f.size&&(T.size=f.size))):s=T.createElementNS(s,c),s[us]=o,s[hc]=f,uw(s,o,!1,!1),o.stateNode=s;e:{switch(T=gi(c,f),c){case"dialog":_t("cancel",s),_t("close",s),g=f;break;case"iframe":case"object":case"embed":_t("load",s),g=f;break;case"video":case"audio":for(g=0;g<cc.length;g++)_t(cc[g],s);g=f;break;case"source":_t("error",s),g=f;break;case"img":case"image":case"link":_t("error",s),_t("load",s),g=f;break;case"details":_t("toggle",s),g=f;break;case"input":Gr(s,f),g=Zt(s,f),_t("invalid",s);break;case"option":g=f;break;case"select":s._wrapperState={wasMultiple:!!f.multiple},g=ie({},f,{value:void 0}),_t("invalid",s);break;case"textarea":dr(s,f),g=Kt(s,f),_t("invalid",s);break;default:g=f}Mn(c,g),M=g;for(w in M)if(M.hasOwnProperty(w)){var F=M[w];w==="style"?pi(s,F):w==="dangerouslySetInnerHTML"?(F=F?F.__html:void 0,F!=null&&fi(s,F)):w==="children"?typeof F=="string"?(c!=="textarea"||F!=="")&&jn(s,F):typeof F=="number"&&jn(s,""+F):w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&w!=="autoFocus"&&(i.hasOwnProperty(w)?F!=null&&w==="onScroll"&&_t("scroll",s):F!=null&&W(s,w,F,T))}switch(c){case"input":$e(s),di(s,f,!1);break;case"textarea":$e(s),Yr(s);break;case"option":f.value!=null&&s.setAttribute("value",""+pe(f.value));break;case"select":s.multiple=!!f.multiple,w=f.value,w!=null?Yn(s,!!f.multiple,w,!1):f.defaultValue!=null&&Yn(s,!!f.multiple,f.defaultValue,!0);break;default:typeof g.onClick=="function"&&(s.onclick=Ju)}switch(c){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}}f&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return xn(o),null;case 6:if(s&&o.stateNode!=null)hw(s,o,s.memoizedProps,f);else{if(typeof f!="string"&&o.stateNode===null)throw Error(n(166));if(c=jo(vc.current),jo(ds.current),id(o)){if(f=o.stateNode,c=o.memoizedProps,f[us]=o,(w=f.nodeValue!==c)&&(s=rr,s!==null))switch(s.tag){case 3:Xu(f.nodeValue,c,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Xu(f.nodeValue,c,(s.mode&1)!==0)}w&&(o.flags|=4)}else f=(c.nodeType===9?c:c.ownerDocument).createTextNode(f),f[us]=o,o.stateNode=f}return xn(o),null;case 13:if(xt(Ct),f=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(Tt&&sr!==null&&(o.mode&1)!==0&&(o.flags&128)===0)m0(),Wa(),o.flags|=98560,w=!1;else if(w=id(o),f!==null&&f.dehydrated!==null){if(s===null){if(!w)throw Error(n(318));if(w=o.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(n(317));w[us]=o}else Wa(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;xn(o),w=!1}else Rr!==null&&(Xp(Rr),Rr=null),w=!0;if(!w)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=c,o):(f=f!==null,f!==(s!==null&&s.memoizedState!==null)&&f&&(o.child.flags|=8192,(o.mode&1)!==0&&(s===null||(Ct.current&1)!==0?Yt===0&&(Yt=3):em())),o.updateQueue!==null&&(o.flags|=4),xn(o),null);case 4:return Ga(),Up(s,o),s===null&&uc(o.stateNode.containerInfo),xn(o),null;case 10:return pp(o.type._context),xn(o),null;case 17:return Ln(o.type)&&ed(),xn(o),null;case 19:if(xt(Ct),w=o.memoizedState,w===null)return xn(o),null;if(f=(o.flags&128)!==0,T=w.rendering,T===null)if(f)Ec(w,!1);else{if(Yt!==0||s!==null&&(s.flags&128)!==0)for(s=o.child;s!==null;){if(T=dd(s),T!==null){for(o.flags|=128,Ec(w,!1),f=T.updateQueue,f!==null&&(o.updateQueue=f,o.flags|=4),o.subtreeFlags=0,f=c,c=o.child;c!==null;)w=c,s=f,w.flags&=14680066,T=w.alternate,T===null?(w.childLanes=0,w.lanes=s,w.child=null,w.subtreeFlags=0,w.memoizedProps=null,w.memoizedState=null,w.updateQueue=null,w.dependencies=null,w.stateNode=null):(w.childLanes=T.childLanes,w.lanes=T.lanes,w.child=T.child,w.subtreeFlags=0,w.deletions=null,w.memoizedProps=T.memoizedProps,w.memoizedState=T.memoizedState,w.updateQueue=T.updateQueue,w.type=T.type,s=T.dependencies,w.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),c=c.sibling;return mt(Ct,Ct.current&1|2),o.child}s=s.sibling}w.tail!==null&&wt()>Ja&&(o.flags|=128,f=!0,Ec(w,!1),o.lanes=4194304)}else{if(!f)if(s=dd(T),s!==null){if(o.flags|=128,f=!0,c=s.updateQueue,c!==null&&(o.updateQueue=c,o.flags|=4),Ec(w,!0),w.tail===null&&w.tailMode==="hidden"&&!T.alternate&&!Tt)return xn(o),null}else 2*wt()-w.renderingStartTime>Ja&&c!==1073741824&&(o.flags|=128,f=!0,Ec(w,!1),o.lanes=4194304);w.isBackwards?(T.sibling=o.child,o.child=T):(c=w.last,c!==null?c.sibling=T:o.child=T,w.last=T)}return w.tail!==null?(o=w.tail,w.rendering=o,w.tail=o.sibling,w.renderingStartTime=wt(),o.sibling=null,c=Ct.current,mt(Ct,f?c&1|2:c&1),o):(xn(o),null);case 22:case 23:return Zp(),f=o.memoizedState!==null,s!==null&&s.memoizedState!==null!==f&&(o.flags|=8192),f&&(o.mode&1)!==0?(ir&1073741824)!==0&&(xn(o),o.subtreeFlags&6&&(o.flags|=8192)):xn(o),null;case 24:return null;case 25:return null}throw Error(n(156,o.tag))}function oN(s,o){switch(lp(o),o.tag){case 1:return Ln(o.type)&&ed(),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return Ga(),xt(On),xt(wn),xp(),s=o.flags,(s&65536)!==0&&(s&128)===0?(o.flags=s&-65537|128,o):null;case 5:return wp(o),null;case 13:if(xt(Ct),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(n(340));Wa()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return xt(Ct),null;case 4:return Ga(),null;case 10:return pp(o.type._context),null;case 22:case 23:return Zp(),null;case 24:return null;default:return null}}var _d=!1,En=!1,aN=typeof WeakSet=="function"?WeakSet:Set,xe=null;function Qa(s,o){var c=s.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(f){Rt(s,o,f)}else c.current=null}function zp(s,o,c){try{c()}catch(f){Rt(s,o,f)}}var fw=!1;function lN(s,o){if(Zf=Us,s=Hy(),Hf(s)){if("selectionStart"in s)var c={start:s.selectionStart,end:s.selectionEnd};else e:{c=(c=s.ownerDocument)&&c.defaultView||window;var f=c.getSelection&&c.getSelection();if(f&&f.rangeCount!==0){c=f.anchorNode;var g=f.anchorOffset,w=f.focusNode;f=f.focusOffset;try{c.nodeType,w.nodeType}catch{c=null;break e}var T=0,M=-1,F=-1,Y=0,oe=0,ce=s,se=null;t:for(;;){for(var ye;ce!==c||g!==0&&ce.nodeType!==3||(M=T+g),ce!==w||f!==0&&ce.nodeType!==3||(F=T+f),ce.nodeType===3&&(T+=ce.nodeValue.length),(ye=ce.firstChild)!==null;)se=ce,ce=ye;for(;;){if(ce===s)break t;if(se===c&&++Y===g&&(M=T),se===w&&++oe===f&&(F=T),(ye=ce.nextSibling)!==null)break;ce=se,se=ce.parentNode}ce=ye}c=M===-1||F===-1?null:{start:M,end:F}}else c=null}c=c||{start:0,end:0}}else c=null;for(ep={focusedElem:s,selectionRange:c},Us=!1,xe=o;xe!==null;)if(o=xe,s=o.child,(o.subtreeFlags&1028)!==0&&s!==null)s.return=o,xe=s;else for(;xe!==null;){o=xe;try{var Ee=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(Ee!==null){var Se=Ee.memoizedProps,Ot=Ee.memoizedState,H=o.stateNode,$=H.getSnapshotBeforeUpdate(o.elementType===o.type?Se:Dr(o.type,Se),Ot);H.__reactInternalSnapshotBeforeUpdate=$}break;case 3:var K=o.stateNode.containerInfo;K.nodeType===1?K.textContent="":K.nodeType===9&&K.documentElement&&K.removeChild(K.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(de){Rt(o,o.return,de)}if(s=o.sibling,s!==null){s.return=o.return,xe=s;break}xe=o.return}return Ee=fw,fw=!1,Ee}function bc(s,o,c){var f=o.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var g=f=f.next;do{if((g.tag&s)===s){var w=g.destroy;g.destroy=void 0,w!==void 0&&zp(o,c,w)}g=g.next}while(g!==f)}}function xd(s,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var c=o=o.next;do{if((c.tag&s)===s){var f=c.create;c.destroy=f()}c=c.next}while(c!==o)}}function Bp(s){var o=s.ref;if(o!==null){var c=s.stateNode;switch(s.tag){case 5:s=c;break;default:s=c}typeof o=="function"?o(s):o.current=s}}function pw(s){var o=s.alternate;o!==null&&(s.alternate=null,pw(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&(delete o[us],delete o[hc],delete o[sp],delete o[WC],delete o[HC])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function mw(s){return s.tag===5||s.tag===3||s.tag===4}function gw(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||mw(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function $p(s,o,c){var f=s.tag;if(f===5||f===6)s=s.stateNode,o?c.nodeType===8?c.parentNode.insertBefore(s,o):c.insertBefore(s,o):(c.nodeType===8?(o=c.parentNode,o.insertBefore(s,c)):(o=c,o.appendChild(s)),c=c._reactRootContainer,c!=null||o.onclick!==null||(o.onclick=Ju));else if(f!==4&&(s=s.child,s!==null))for($p(s,o,c),s=s.sibling;s!==null;)$p(s,o,c),s=s.sibling}function Wp(s,o,c){var f=s.tag;if(f===5||f===6)s=s.stateNode,o?c.insertBefore(s,o):c.appendChild(s);else if(f!==4&&(s=s.child,s!==null))for(Wp(s,o,c),s=s.sibling;s!==null;)Wp(s,o,c),s=s.sibling}var un=null,jr=!1;function Pi(s,o,c){for(c=c.child;c!==null;)vw(s,o,c),c=c.sibling}function vw(s,o,c){if(Xn&&typeof Xn.onCommitFiberUnmount=="function")try{Xn.onCommitFiberUnmount(_o,c)}catch{}switch(c.tag){case 5:En||Qa(c,o);case 6:var f=un,g=jr;un=null,Pi(s,o,c),un=f,jr=g,un!==null&&(jr?(s=un,c=c.stateNode,s.nodeType===8?s.parentNode.removeChild(c):s.removeChild(c)):un.removeChild(c.stateNode));break;case 18:un!==null&&(jr?(s=un,c=c.stateNode,s.nodeType===8?rp(s.parentNode,c):s.nodeType===1&&rp(s,c),xi(s)):rp(un,c.stateNode));break;case 4:f=un,g=jr,un=c.stateNode.containerInfo,jr=!0,Pi(s,o,c),un=f,jr=g;break;case 0:case 11:case 14:case 15:if(!En&&(f=c.updateQueue,f!==null&&(f=f.lastEffect,f!==null))){g=f=f.next;do{var w=g,T=w.destroy;w=w.tag,T!==void 0&&((w&2)!==0||(w&4)!==0)&&zp(c,o,T),g=g.next}while(g!==f)}Pi(s,o,c);break;case 1:if(!En&&(Qa(c,o),f=c.stateNode,typeof f.componentWillUnmount=="function"))try{f.props=c.memoizedProps,f.state=c.memoizedState,f.componentWillUnmount()}catch(M){Rt(c,o,M)}Pi(s,o,c);break;case 21:Pi(s,o,c);break;case 22:c.mode&1?(En=(f=En)||c.memoizedState!==null,Pi(s,o,c),En=f):Pi(s,o,c);break;default:Pi(s,o,c)}}function yw(s){var o=s.updateQueue;if(o!==null){s.updateQueue=null;var c=s.stateNode;c===null&&(c=s.stateNode=new aN),o.forEach(function(f){var g=vN.bind(null,s,f);c.has(f)||(c.add(f),f.then(g,g))})}}function Mr(s,o){var c=o.deletions;if(c!==null)for(var f=0;f<c.length;f++){var g=c[f];try{var w=s,T=o,M=T;e:for(;M!==null;){switch(M.tag){case 5:un=M.stateNode,jr=!1;break e;case 3:un=M.stateNode.containerInfo,jr=!0;break e;case 4:un=M.stateNode.containerInfo,jr=!0;break e}M=M.return}if(un===null)throw Error(n(160));vw(w,T,g),un=null,jr=!1;var F=g.alternate;F!==null&&(F.return=null),g.return=null}catch(Y){Rt(g,o,Y)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)ww(o,s),o=o.sibling}function ww(s,o){var c=s.alternate,f=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(Mr(o,s),fs(s),f&4){try{bc(3,s,s.return),xd(3,s)}catch(Se){Rt(s,s.return,Se)}try{bc(5,s,s.return)}catch(Se){Rt(s,s.return,Se)}}break;case 1:Mr(o,s),fs(s),f&512&&c!==null&&Qa(c,c.return);break;case 5:if(Mr(o,s),fs(s),f&512&&c!==null&&Qa(c,c.return),s.flags&32){var g=s.stateNode;try{jn(g,"")}catch(Se){Rt(s,s.return,Se)}}if(f&4&&(g=s.stateNode,g!=null)){var w=s.memoizedProps,T=c!==null?c.memoizedProps:w,M=s.type,F=s.updateQueue;if(s.updateQueue=null,F!==null)try{M==="input"&&w.type==="radio"&&w.name!=null&&Gn(g,w),gi(M,T);var Y=gi(M,w);for(T=0;T<F.length;T+=2){var oe=F[T],ce=F[T+1];oe==="style"?pi(g,ce):oe==="dangerouslySetInnerHTML"?fi(g,ce):oe==="children"?jn(g,ce):W(g,oe,ce,Y)}switch(M){case"input":an(g,w);break;case"textarea":wa(g,w);break;case"select":var se=g._wrapperState.wasMultiple;g._wrapperState.wasMultiple=!!w.multiple;var ye=w.value;ye!=null?Yn(g,!!w.multiple,ye,!1):se!==!!w.multiple&&(w.defaultValue!=null?Yn(g,!!w.multiple,w.defaultValue,!0):Yn(g,!!w.multiple,w.multiple?[]:"",!1))}g[hc]=w}catch(Se){Rt(s,s.return,Se)}}break;case 6:if(Mr(o,s),fs(s),f&4){if(s.stateNode===null)throw Error(n(162));g=s.stateNode,w=s.memoizedProps;try{g.nodeValue=w}catch(Se){Rt(s,s.return,Se)}}break;case 3:if(Mr(o,s),fs(s),f&4&&c!==null&&c.memoizedState.isDehydrated)try{xi(o.containerInfo)}catch(Se){Rt(s,s.return,Se)}break;case 4:Mr(o,s),fs(s);break;case 13:Mr(o,s),fs(s),g=s.child,g.flags&8192&&(w=g.memoizedState!==null,g.stateNode.isHidden=w,!w||g.alternate!==null&&g.alternate.memoizedState!==null||(Kp=wt())),f&4&&yw(s);break;case 22:if(oe=c!==null&&c.memoizedState!==null,s.mode&1?(En=(Y=En)||oe,Mr(o,s),En=Y):Mr(o,s),fs(s),f&8192){if(Y=s.memoizedState!==null,(s.stateNode.isHidden=Y)&&!oe&&(s.mode&1)!==0)for(xe=s,oe=s.child;oe!==null;){for(ce=xe=oe;xe!==null;){switch(se=xe,ye=se.child,se.tag){case 0:case 11:case 14:case 15:bc(4,se,se.return);break;case 1:Qa(se,se.return);var Ee=se.stateNode;if(typeof Ee.componentWillUnmount=="function"){f=se,c=se.return;try{o=f,Ee.props=o.memoizedProps,Ee.state=o.memoizedState,Ee.componentWillUnmount()}catch(Se){Rt(f,c,Se)}}break;case 5:Qa(se,se.return);break;case 22:if(se.memoizedState!==null){Ew(ce);continue}}ye!==null?(ye.return=se,xe=ye):Ew(ce)}oe=oe.sibling}e:for(oe=null,ce=s;;){if(ce.tag===5){if(oe===null){oe=ce;try{g=ce.stateNode,Y?(w=g.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none"):(M=ce.stateNode,F=ce.memoizedProps.style,T=F!=null&&F.hasOwnProperty("display")?F.display:null,M.style.display=Xr("display",T))}catch(Se){Rt(s,s.return,Se)}}}else if(ce.tag===6){if(oe===null)try{ce.stateNode.nodeValue=Y?"":ce.memoizedProps}catch(Se){Rt(s,s.return,Se)}}else if((ce.tag!==22&&ce.tag!==23||ce.memoizedState===null||ce===s)&&ce.child!==null){ce.child.return=ce,ce=ce.child;continue}if(ce===s)break e;for(;ce.sibling===null;){if(ce.return===null||ce.return===s)break e;oe===ce&&(oe=null),ce=ce.return}oe===ce&&(oe=null),ce.sibling.return=ce.return,ce=ce.sibling}}break;case 19:Mr(o,s),fs(s),f&4&&yw(s);break;case 21:break;default:Mr(o,s),fs(s)}}function fs(s){var o=s.flags;if(o&2){try{e:{for(var c=s.return;c!==null;){if(mw(c)){var f=c;break e}c=c.return}throw Error(n(160))}switch(f.tag){case 5:var g=f.stateNode;f.flags&32&&(jn(g,""),f.flags&=-33);var w=gw(s);Wp(s,w,g);break;case 3:case 4:var T=f.stateNode.containerInfo,M=gw(s);$p(s,M,T);break;default:throw Error(n(161))}}catch(F){Rt(s,s.return,F)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function cN(s,o,c){xe=s,_w(s)}function _w(s,o,c){for(var f=(s.mode&1)!==0;xe!==null;){var g=xe,w=g.child;if(g.tag===22&&f){var T=g.memoizedState!==null||_d;if(!T){var M=g.alternate,F=M!==null&&M.memoizedState!==null||En;M=_d;var Y=En;if(_d=T,(En=F)&&!Y)for(xe=g;xe!==null;)T=xe,F=T.child,T.tag===22&&T.memoizedState!==null?bw(g):F!==null?(F.return=T,xe=F):bw(g);for(;w!==null;)xe=w,_w(w),w=w.sibling;xe=g,_d=M,En=Y}xw(s)}else(g.subtreeFlags&8772)!==0&&w!==null?(w.return=g,xe=w):xw(s)}}function xw(s){for(;xe!==null;){var o=xe;if((o.flags&8772)!==0){var c=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:En||xd(5,o);break;case 1:var f=o.stateNode;if(o.flags&4&&!En)if(c===null)f.componentDidMount();else{var g=o.elementType===o.type?c.memoizedProps:Dr(o.type,c.memoizedProps);f.componentDidUpdate(g,c.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var w=o.updateQueue;w!==null&&E0(o,w,f);break;case 3:var T=o.updateQueue;if(T!==null){if(c=null,o.child!==null)switch(o.child.tag){case 5:c=o.child.stateNode;break;case 1:c=o.child.stateNode}E0(o,T,c)}break;case 5:var M=o.stateNode;if(c===null&&o.flags&4){c=M;var F=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":F.autoFocus&&c.focus();break;case"img":F.src&&(c.src=F.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var Y=o.alternate;if(Y!==null){var oe=Y.memoizedState;if(oe!==null){var ce=oe.dehydrated;ce!==null&&xi(ce)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}En||o.flags&512&&Bp(o)}catch(se){Rt(o,o.return,se)}}if(o===s){xe=null;break}if(c=o.sibling,c!==null){c.return=o.return,xe=c;break}xe=o.return}}function Ew(s){for(;xe!==null;){var o=xe;if(o===s){xe=null;break}var c=o.sibling;if(c!==null){c.return=o.return,xe=c;break}xe=o.return}}function bw(s){for(;xe!==null;){var o=xe;try{switch(o.tag){case 0:case 11:case 15:var c=o.return;try{xd(4,o)}catch(F){Rt(o,c,F)}break;case 1:var f=o.stateNode;if(typeof f.componentDidMount=="function"){var g=o.return;try{f.componentDidMount()}catch(F){Rt(o,g,F)}}var w=o.return;try{Bp(o)}catch(F){Rt(o,w,F)}break;case 5:var T=o.return;try{Bp(o)}catch(F){Rt(o,T,F)}}}catch(F){Rt(o,o.return,F)}if(o===s){xe=null;break}var M=o.sibling;if(M!==null){M.return=o.return,xe=M;break}xe=o.return}}var uN=Math.ceil,Ed=G.ReactCurrentDispatcher,Hp=G.ReactCurrentOwner,_r=G.ReactCurrentBatchConfig,rt=0,rn=null,Bt=null,dn=0,ir=0,Xa=Ii(0),Yt=0,Tc=null,Oo=0,bd=0,qp=0,Sc=null,Fn=null,Kp=0,Ja=1/0,Qs=null,Td=!1,Gp=null,Ri=null,Sd=!1,Di=null,Id=0,Ic=0,Yp=null,Cd=-1,Nd=0;function Pn(){return(rt&6)!==0?wt():Cd!==-1?Cd:Cd=wt()}function ji(s){return(s.mode&1)===0?1:(rt&2)!==0&&dn!==0?dn&-dn:KC.transition!==null?(Nd===0&&(Nd=Kl()),Nd):(s=Ze,s!==0||(s=window.event,s=s===void 0?16:Ca(s.type)),s)}function Or(s,o,c,f){if(50<Ic)throw Ic=0,Yp=null,Error(n(185));To(s,c,f),((rt&2)===0||s!==rn)&&(s===rn&&((rt&2)===0&&(bd|=c),Yt===4&&Mi(s,dn)),Un(s,f),c===1&&rt===0&&(o.mode&1)===0&&(Ja=wt()+500,nd&&Ni()))}function Un(s,o){var c=s.callbackNode;bo(s,o);var f=Ls(s,s===rn?dn:0);if(f===0)c!==null&&_a(c),s.callbackNode=null,s.callbackPriority=0;else if(o=f&-f,s.callbackPriority!==o){if(c!=null&&_a(c),o===1)s.tag===0?qC(Sw.bind(null,s)):u0(Sw.bind(null,s)),BC(function(){(rt&6)===0&&Ni()}),c=null;else{switch(es(f)){case 1:c=xa;break;case 4:c=Wl;break;case 16:c=wo;break;case 536870912:c=Ea;break;default:c=wo}c=Dw(c,Tw.bind(null,s))}s.callbackPriority=o,s.callbackNode=c}}function Tw(s,o){if(Cd=-1,Nd=0,(rt&6)!==0)throw Error(n(327));var c=s.callbackNode;if(Za()&&s.callbackNode!==c)return null;var f=Ls(s,s===rn?dn:0);if(f===0)return null;if((f&30)!==0||(f&s.expiredLanes)!==0||o)o=kd(s,f);else{o=f;var g=rt;rt|=2;var w=Cw();(rn!==s||dn!==o)&&(Qs=null,Ja=wt()+500,Vo(s,o));do try{fN();break}catch(M){Iw(s,M)}while(!0);fp(),Ed.current=w,rt=g,Bt!==null?o=0:(rn=null,dn=0,o=Yt)}if(o!==0){if(o===2&&(g=ql(s),g!==0&&(f=g,o=Qp(s,g))),o===1)throw c=Tc,Vo(s,0),Mi(s,f),Un(s,wt()),c;if(o===6)Mi(s,f);else{if(g=s.current.alternate,(f&30)===0&&!dN(g)&&(o=kd(s,f),o===2&&(w=ql(s),w!==0&&(f=w,o=Qp(s,w))),o===1))throw c=Tc,Vo(s,0),Mi(s,f),Un(s,wt()),c;switch(s.finishedWork=g,s.finishedLanes=f,o){case 0:case 1:throw Error(n(345));case 2:Fo(s,Fn,Qs);break;case 3:if(Mi(s,f),(f&130023424)===f&&(o=Kp+500-wt(),10<o)){if(Ls(s,0)!==0)break;if(g=s.suspendedLanes,(g&f)!==f){Pn(),s.pingedLanes|=s.suspendedLanes&g;break}s.timeoutHandle=np(Fo.bind(null,s,Fn,Qs),o);break}Fo(s,Fn,Qs);break;case 4:if(Mi(s,f),(f&4194240)===f)break;for(o=s.eventTimes,g=-1;0<f;){var T=31-Jn(f);w=1<<T,T=o[T],T>g&&(g=T),f&=~w}if(f=g,f=wt()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*uN(f/1960))-f,10<f){s.timeoutHandle=np(Fo.bind(null,s,Fn,Qs),f);break}Fo(s,Fn,Qs);break;case 5:Fo(s,Fn,Qs);break;default:throw Error(n(329))}}}return Un(s,wt()),s.callbackNode===c?Tw.bind(null,s):null}function Qp(s,o){var c=Sc;return s.current.memoizedState.isDehydrated&&(Vo(s,o).flags|=256),s=kd(s,o),s!==2&&(o=Fn,Fn=c,o!==null&&Xp(o)),s}function Xp(s){Fn===null?Fn=s:Fn.push.apply(Fn,s)}function dN(s){for(var o=s;;){if(o.flags&16384){var c=o.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var f=0;f<c.length;f++){var g=c[f],w=g.getSnapshot;g=g.value;try{if(!Pr(w(),g))return!1}catch{return!1}}}if(c=o.child,o.subtreeFlags&16384&&c!==null)c.return=o,o=c;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Mi(s,o){for(o&=~qp,o&=~bd,s.suspendedLanes|=o,s.pingedLanes&=~o,s=s.expirationTimes;0<o;){var c=31-Jn(o),f=1<<c;s[c]=-1,o&=~f}}function Sw(s){if((rt&6)!==0)throw Error(n(327));Za();var o=Ls(s,0);if((o&1)===0)return Un(s,wt()),null;var c=kd(s,o);if(s.tag!==0&&c===2){var f=ql(s);f!==0&&(o=f,c=Qp(s,f))}if(c===1)throw c=Tc,Vo(s,0),Mi(s,o),Un(s,wt()),c;if(c===6)throw Error(n(345));return s.finishedWork=s.current.alternate,s.finishedLanes=o,Fo(s,Fn,Qs),Un(s,wt()),null}function Jp(s,o){var c=rt;rt|=1;try{return s(o)}finally{rt=c,rt===0&&(Ja=wt()+500,nd&&Ni())}}function Lo(s){Di!==null&&Di.tag===0&&(rt&6)===0&&Za();var o=rt;rt|=1;var c=_r.transition,f=Ze;try{if(_r.transition=null,Ze=1,s)return s()}finally{Ze=f,_r.transition=c,rt=o,(rt&6)===0&&Ni()}}function Zp(){ir=Xa.current,xt(Xa)}function Vo(s,o){s.finishedWork=null,s.finishedLanes=0;var c=s.timeoutHandle;if(c!==-1&&(s.timeoutHandle=-1,zC(c)),Bt!==null)for(c=Bt.return;c!==null;){var f=c;switch(lp(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&ed();break;case 3:Ga(),xt(On),xt(wn),xp();break;case 5:wp(f);break;case 4:Ga();break;case 13:xt(Ct);break;case 19:xt(Ct);break;case 10:pp(f.type._context);break;case 22:case 23:Zp()}c=c.return}if(rn=s,Bt=s=Oi(s.current,null),dn=ir=o,Yt=0,Tc=null,qp=bd=Oo=0,Fn=Sc=null,Do!==null){for(o=0;o<Do.length;o++)if(c=Do[o],f=c.interleaved,f!==null){c.interleaved=null;var g=f.next,w=c.pending;if(w!==null){var T=w.next;w.next=g,f.next=T}c.pending=f}Do=null}return s}function Iw(s,o){do{var c=Bt;try{if(fp(),hd.current=gd,fd){for(var f=Nt.memoizedState;f!==null;){var g=f.queue;g!==null&&(g.pending=null),f=f.next}fd=!1}if(Mo=0,nn=Gt=Nt=null,yc=!1,wc=0,Hp.current=null,c===null||c.return===null){Yt=1,Tc=o,Bt=null;break}e:{var w=s,T=c.return,M=c,F=o;if(o=dn,M.flags|=32768,F!==null&&typeof F=="object"&&typeof F.then=="function"){var Y=F,oe=M,ce=oe.tag;if((oe.mode&1)===0&&(ce===0||ce===11||ce===15)){var se=oe.alternate;se?(oe.updateQueue=se.updateQueue,oe.memoizedState=se.memoizedState,oe.lanes=se.lanes):(oe.updateQueue=null,oe.memoizedState=null)}var ye=X0(T);if(ye!==null){ye.flags&=-257,J0(ye,T,M,w,o),ye.mode&1&&Q0(w,Y,o),o=ye,F=Y;var Ee=o.updateQueue;if(Ee===null){var Se=new Set;Se.add(F),o.updateQueue=Se}else Ee.add(F);break e}else{if((o&1)===0){Q0(w,Y,o),em();break e}F=Error(n(426))}}else if(Tt&&M.mode&1){var Ot=X0(T);if(Ot!==null){(Ot.flags&65536)===0&&(Ot.flags|=256),J0(Ot,T,M,w,o),dp(Ya(F,M));break e}}w=F=Ya(F,M),Yt!==4&&(Yt=2),Sc===null?Sc=[w]:Sc.push(w),w=T;do{switch(w.tag){case 3:w.flags|=65536,o&=-o,w.lanes|=o;var H=G0(w,F,o);x0(w,H);break e;case 1:M=F;var $=w.type,K=w.stateNode;if((w.flags&128)===0&&(typeof $.getDerivedStateFromError=="function"||K!==null&&typeof K.componentDidCatch=="function"&&(Ri===null||!Ri.has(K)))){w.flags|=65536,o&=-o,w.lanes|=o;var de=Y0(w,M,o);x0(w,de);break e}}w=w.return}while(w!==null)}kw(c)}catch(Ne){o=Ne,Bt===c&&c!==null&&(Bt=c=c.return);continue}break}while(!0)}function Cw(){var s=Ed.current;return Ed.current=gd,s===null?gd:s}function em(){(Yt===0||Yt===3||Yt===2)&&(Yt=4),rn===null||(Oo&268435455)===0&&(bd&268435455)===0||Mi(rn,dn)}function kd(s,o){var c=rt;rt|=2;var f=Cw();(rn!==s||dn!==o)&&(Qs=null,Vo(s,o));do try{hN();break}catch(g){Iw(s,g)}while(!0);if(fp(),rt=c,Ed.current=f,Bt!==null)throw Error(n(261));return rn=null,dn=0,Yt}function hN(){for(;Bt!==null;)Nw(Bt)}function fN(){for(;Bt!==null&&!yo();)Nw(Bt)}function Nw(s){var o=Rw(s.alternate,s,ir);s.memoizedProps=s.pendingProps,o===null?kw(s):Bt=o,Hp.current=null}function kw(s){var o=s;do{var c=o.alternate;if(s=o.return,(o.flags&32768)===0){if(c=iN(c,o,ir),c!==null){Bt=c;return}}else{if(c=oN(c,o),c!==null){c.flags&=32767,Bt=c;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{Yt=6,Bt=null;return}}if(o=o.sibling,o!==null){Bt=o;return}Bt=o=s}while(o!==null);Yt===0&&(Yt=5)}function Fo(s,o,c){var f=Ze,g=_r.transition;try{_r.transition=null,Ze=1,pN(s,o,c,f)}finally{_r.transition=g,Ze=f}return null}function pN(s,o,c,f){do Za();while(Di!==null);if((rt&6)!==0)throw Error(n(327));c=s.finishedWork;var g=s.finishedLanes;if(c===null)return null;if(s.finishedWork=null,s.finishedLanes=0,c===s.current)throw Error(n(177));s.callbackNode=null,s.callbackPriority=0;var w=c.lanes|c.childLanes;if(Uf(s,w),s===rn&&(Bt=rn=null,dn=0),(c.subtreeFlags&2064)===0&&(c.flags&2064)===0||Sd||(Sd=!0,Dw(wo,function(){return Za(),null})),w=(c.flags&15990)!==0,(c.subtreeFlags&15990)!==0||w){w=_r.transition,_r.transition=null;var T=Ze;Ze=1;var M=rt;rt|=4,Hp.current=null,lN(s,c),ww(c,s),jC(ep),Us=!!Zf,ep=Zf=null,s.current=c,cN(c),Os(),rt=M,Ze=T,_r.transition=w}else s.current=c;if(Sd&&(Sd=!1,Di=s,Id=g),w=s.pendingLanes,w===0&&(Ri=null),Ou(c.stateNode),Un(s,wt()),o!==null)for(f=s.onRecoverableError,c=0;c<o.length;c++)g=o[c],f(g.value,{componentStack:g.stack,digest:g.digest});if(Td)throw Td=!1,s=Gp,Gp=null,s;return(Id&1)!==0&&s.tag!==0&&Za(),w=s.pendingLanes,(w&1)!==0?s===Yp?Ic++:(Ic=0,Yp=s):Ic=0,Ni(),null}function Za(){if(Di!==null){var s=es(Id),o=_r.transition,c=Ze;try{if(_r.transition=null,Ze=16>s?16:s,Di===null)var f=!1;else{if(s=Di,Di=null,Id=0,(rt&6)!==0)throw Error(n(331));var g=rt;for(rt|=4,xe=s.current;xe!==null;){var w=xe,T=w.child;if((xe.flags&16)!==0){var M=w.deletions;if(M!==null){for(var F=0;F<M.length;F++){var Y=M[F];for(xe=Y;xe!==null;){var oe=xe;switch(oe.tag){case 0:case 11:case 15:bc(8,oe,w)}var ce=oe.child;if(ce!==null)ce.return=oe,xe=ce;else for(;xe!==null;){oe=xe;var se=oe.sibling,ye=oe.return;if(pw(oe),oe===Y){xe=null;break}if(se!==null){se.return=ye,xe=se;break}xe=ye}}}var Ee=w.alternate;if(Ee!==null){var Se=Ee.child;if(Se!==null){Ee.child=null;do{var Ot=Se.sibling;Se.sibling=null,Se=Ot}while(Se!==null)}}xe=w}}if((w.subtreeFlags&2064)!==0&&T!==null)T.return=w,xe=T;else e:for(;xe!==null;){if(w=xe,(w.flags&2048)!==0)switch(w.tag){case 0:case 11:case 15:bc(9,w,w.return)}var H=w.sibling;if(H!==null){H.return=w.return,xe=H;break e}xe=w.return}}var $=s.current;for(xe=$;xe!==null;){T=xe;var K=T.child;if((T.subtreeFlags&2064)!==0&&K!==null)K.return=T,xe=K;else e:for(T=$;xe!==null;){if(M=xe,(M.flags&2048)!==0)try{switch(M.tag){case 0:case 11:case 15:xd(9,M)}}catch(Ne){Rt(M,M.return,Ne)}if(M===T){xe=null;break e}var de=M.sibling;if(de!==null){de.return=M.return,xe=de;break e}xe=M.return}}if(rt=g,Ni(),Xn&&typeof Xn.onPostCommitFiberRoot=="function")try{Xn.onPostCommitFiberRoot(_o,s)}catch{}f=!0}return f}finally{Ze=c,_r.transition=o}}return!1}function Aw(s,o,c){o=Ya(c,o),o=G0(s,o,1),s=Ai(s,o,1),o=Pn(),s!==null&&(To(s,1,o),Un(s,o))}function Rt(s,o,c){if(s.tag===3)Aw(s,s,c);else for(;o!==null;){if(o.tag===3){Aw(o,s,c);break}else if(o.tag===1){var f=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Ri===null||!Ri.has(f))){s=Ya(c,s),s=Y0(o,s,1),o=Ai(o,s,1),s=Pn(),o!==null&&(To(o,1,s),Un(o,s));break}}o=o.return}}function mN(s,o,c){var f=s.pingCache;f!==null&&f.delete(o),o=Pn(),s.pingedLanes|=s.suspendedLanes&c,rn===s&&(dn&c)===c&&(Yt===4||Yt===3&&(dn&130023424)===dn&&500>wt()-Kp?Vo(s,0):qp|=c),Un(s,o)}function Pw(s,o){o===0&&((s.mode&1)===0?o=1:(o=yi,yi<<=1,(yi&130023424)===0&&(yi=4194304)));var c=Pn();s=Ks(s,o),s!==null&&(To(s,o,c),Un(s,c))}function gN(s){var o=s.memoizedState,c=0;o!==null&&(c=o.retryLane),Pw(s,c)}function vN(s,o){var c=0;switch(s.tag){case 13:var f=s.stateNode,g=s.memoizedState;g!==null&&(c=g.retryLane);break;case 19:f=s.stateNode;break;default:throw Error(n(314))}f!==null&&f.delete(o),Pw(s,c)}var Rw;Rw=function(s,o,c){if(s!==null)if(s.memoizedProps!==o.pendingProps||On.current)Vn=!0;else{if((s.lanes&c)===0&&(o.flags&128)===0)return Vn=!1,sN(s,o,c);Vn=(s.flags&131072)!==0}else Vn=!1,Tt&&(o.flags&1048576)!==0&&d0(o,sd,o.index);switch(o.lanes=0,o.tag){case 2:var f=o.type;wd(s,o),s=o.pendingProps;var g=za(o,wn.current);Ka(o,c),g=Tp(null,o,f,s,g,c);var w=Sp();return o.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,Ln(f)?(w=!0,td(o)):w=!1,o.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,vp(o),g.updater=vd,o.stateNode=g,g._reactInternals=o,Pp(o,f,s,c),o=Mp(null,o,f,!0,w,c)):(o.tag=0,Tt&&w&&ap(o),An(null,o,g,c),o=o.child),o;case 16:f=o.elementType;e:{switch(wd(s,o),s=o.pendingProps,g=f._init,f=g(f._payload),o.type=f,g=o.tag=wN(f),s=Dr(f,s),g){case 0:o=jp(null,o,f,s,c);break e;case 1:o=sw(null,o,f,s,c);break e;case 11:o=Z0(null,o,f,s,c);break e;case 14:o=ew(null,o,f,Dr(f.type,s),c);break e}throw Error(n(306,f,""))}return o;case 0:return f=o.type,g=o.pendingProps,g=o.elementType===f?g:Dr(f,g),jp(s,o,f,g,c);case 1:return f=o.type,g=o.pendingProps,g=o.elementType===f?g:Dr(f,g),sw(s,o,f,g,c);case 3:e:{if(iw(o),s===null)throw Error(n(387));f=o.pendingProps,w=o.memoizedState,g=w.element,_0(s,o),ud(o,f,null,c);var T=o.memoizedState;if(f=T.element,w.isDehydrated)if(w={element:f,isDehydrated:!1,cache:T.cache,pendingSuspenseBoundaries:T.pendingSuspenseBoundaries,transitions:T.transitions},o.updateQueue.baseState=w,o.memoizedState=w,o.flags&256){g=Ya(Error(n(423)),o),o=ow(s,o,f,c,g);break e}else if(f!==g){g=Ya(Error(n(424)),o),o=ow(s,o,f,c,g);break e}else for(sr=Si(o.stateNode.containerInfo.firstChild),rr=o,Tt=!0,Rr=null,c=y0(o,null,f,c),o.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(Wa(),f===g){o=Ys(s,o,c);break e}An(s,o,f,c)}o=o.child}return o;case 5:return b0(o),s===null&&up(o),f=o.type,g=o.pendingProps,w=s!==null?s.memoizedProps:null,T=g.children,tp(f,g)?T=null:w!==null&&tp(f,w)&&(o.flags|=32),rw(s,o),An(s,o,T,c),o.child;case 6:return s===null&&up(o),null;case 13:return aw(s,o,c);case 4:return yp(o,o.stateNode.containerInfo),f=o.pendingProps,s===null?o.child=Ha(o,null,f,c):An(s,o,f,c),o.child;case 11:return f=o.type,g=o.pendingProps,g=o.elementType===f?g:Dr(f,g),Z0(s,o,f,g,c);case 7:return An(s,o,o.pendingProps,c),o.child;case 8:return An(s,o,o.pendingProps.children,c),o.child;case 12:return An(s,o,o.pendingProps.children,c),o.child;case 10:e:{if(f=o.type._context,g=o.pendingProps,w=o.memoizedProps,T=g.value,mt(ad,f._currentValue),f._currentValue=T,w!==null)if(Pr(w.value,T)){if(w.children===g.children&&!On.current){o=Ys(s,o,c);break e}}else for(w=o.child,w!==null&&(w.return=o);w!==null;){var M=w.dependencies;if(M!==null){T=w.child;for(var F=M.firstContext;F!==null;){if(F.context===f){if(w.tag===1){F=Gs(-1,c&-c),F.tag=2;var Y=w.updateQueue;if(Y!==null){Y=Y.shared;var oe=Y.pending;oe===null?F.next=F:(F.next=oe.next,oe.next=F),Y.pending=F}}w.lanes|=c,F=w.alternate,F!==null&&(F.lanes|=c),mp(w.return,c,o),M.lanes|=c;break}F=F.next}}else if(w.tag===10)T=w.type===o.type?null:w.child;else if(w.tag===18){if(T=w.return,T===null)throw Error(n(341));T.lanes|=c,M=T.alternate,M!==null&&(M.lanes|=c),mp(T,c,o),T=w.sibling}else T=w.child;if(T!==null)T.return=w;else for(T=w;T!==null;){if(T===o){T=null;break}if(w=T.sibling,w!==null){w.return=T.return,T=w;break}T=T.return}w=T}An(s,o,g.children,c),o=o.child}return o;case 9:return g=o.type,f=o.pendingProps.children,Ka(o,c),g=yr(g),f=f(g),o.flags|=1,An(s,o,f,c),o.child;case 14:return f=o.type,g=Dr(f,o.pendingProps),g=Dr(f.type,g),ew(s,o,f,g,c);case 15:return tw(s,o,o.type,o.pendingProps,c);case 17:return f=o.type,g=o.pendingProps,g=o.elementType===f?g:Dr(f,g),wd(s,o),o.tag=1,Ln(f)?(s=!0,td(o)):s=!1,Ka(o,c),q0(o,f,g),Pp(o,f,g,c),Mp(null,o,f,!0,s,c);case 19:return cw(s,o,c);case 22:return nw(s,o,c)}throw Error(n(156,o.tag))};function Dw(s,o){return $l(s,o)}function yN(s,o,c,f){this.tag=s,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xr(s,o,c,f){return new yN(s,o,c,f)}function tm(s){return s=s.prototype,!(!s||!s.isReactComponent)}function wN(s){if(typeof s=="function")return tm(s)?1:0;if(s!=null){if(s=s.$$typeof,s===U)return 11;if(s===ke)return 14}return 2}function Oi(s,o){var c=s.alternate;return c===null?(c=xr(s.tag,o,s.key,s.mode),c.elementType=s.elementType,c.type=s.type,c.stateNode=s.stateNode,c.alternate=s,s.alternate=c):(c.pendingProps=o,c.type=s.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=s.flags&14680064,c.childLanes=s.childLanes,c.lanes=s.lanes,c.child=s.child,c.memoizedProps=s.memoizedProps,c.memoizedState=s.memoizedState,c.updateQueue=s.updateQueue,o=s.dependencies,c.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},c.sibling=s.sibling,c.index=s.index,c.ref=s.ref,c}function Ad(s,o,c,f,g,w){var T=2;if(f=s,typeof s=="function")tm(s)&&(T=1);else if(typeof s=="string")T=5;else e:switch(s){case P:return Uo(c.children,g,w,o);case N:T=8,g|=8;break;case D:return s=xr(12,c,o,g|2),s.elementType=D,s.lanes=w,s;case R:return s=xr(13,c,o,g),s.elementType=R,s.lanes=w,s;case ve:return s=xr(19,c,o,g),s.elementType=ve,s.lanes=w,s;case X:return Pd(c,g,w,o);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case V:T=10;break e;case O:T=9;break e;case U:T=11;break e;case ke:T=14;break e;case ae:T=16,f=null;break e}throw Error(n(130,s==null?s:typeof s,""))}return o=xr(T,c,o,g),o.elementType=s,o.type=f,o.lanes=w,o}function Uo(s,o,c,f){return s=xr(7,s,f,o),s.lanes=c,s}function Pd(s,o,c,f){return s=xr(22,s,f,o),s.elementType=X,s.lanes=c,s.stateNode={isHidden:!1},s}function nm(s,o,c){return s=xr(6,s,null,o),s.lanes=c,s}function rm(s,o,c){return o=xr(4,s.children!==null?s.children:[],s.key,o),o.lanes=c,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}function _N(s,o,c,f,g){this.tag=o,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Gl(0),this.expirationTimes=Gl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gl(0),this.identifierPrefix=f,this.onRecoverableError=g,this.mutableSourceEagerHydrationData=null}function sm(s,o,c,f,g,w,T,M,F){return s=new _N(s,o,c,M,F),o===1?(o=1,w===!0&&(o|=8)):o=0,w=xr(3,null,null,o),s.current=w,w.stateNode=s,w.memoizedState={element:f,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},vp(w),s}function xN(s,o,c){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:te,key:f==null?null:""+f,children:s,containerInfo:o,implementation:c}}function jw(s){if(!s)return Ci;s=s._reactInternals;e:{if(kr(s)!==s||s.tag!==1)throw Error(n(170));var o=s;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(Ln(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(n(171))}if(s.tag===1){var c=s.type;if(Ln(c))return l0(s,c,o)}return o}function Mw(s,o,c,f,g,w,T,M,F){return s=sm(c,f,!0,s,g,w,T,M,F),s.context=jw(null),c=s.current,f=Pn(),g=ji(c),w=Gs(f,g),w.callback=o??null,Ai(c,w,g),s.current.lanes=g,To(s,g,f),Un(s,f),s}function Rd(s,o,c,f){var g=o.current,w=Pn(),T=ji(g);return c=jw(c),o.context===null?o.context=c:o.pendingContext=c,o=Gs(w,T),o.payload={element:s},f=f===void 0?null:f,f!==null&&(o.callback=f),s=Ai(g,o,T),s!==null&&(Or(s,g,T,w),cd(s,g,T)),T}function Dd(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function Ow(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var c=s.retryLane;s.retryLane=c!==0&&c<o?c:o}}function im(s,o){Ow(s,o),(s=s.alternate)&&Ow(s,o)}function EN(){return null}var Lw=typeof reportError=="function"?reportError:function(s){console.error(s)};function om(s){this._internalRoot=s}jd.prototype.render=om.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(n(409));Rd(s,o,null,null)},jd.prototype.unmount=om.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;Lo(function(){Rd(null,s,null,null)}),o[$s]=null}};function jd(s){this._internalRoot=s}jd.prototype.unstable_scheduleHydration=function(s){if(s){var o=Jl();s={blockedOn:null,target:s,priority:o};for(var c=0;c<Zn.length&&o!==0&&o<Zn[c].priority;c++);Zn.splice(c,0,s),c===0&&Sa(s)}};function am(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Md(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function Vw(){}function bN(s,o,c,f,g){if(g){if(typeof f=="function"){var w=f;f=function(){var Y=Dd(T);w.call(Y)}}var T=Mw(o,f,s,0,null,!1,!1,"",Vw);return s._reactRootContainer=T,s[$s]=T.current,uc(s.nodeType===8?s.parentNode:s),Lo(),T}for(;g=s.lastChild;)s.removeChild(g);if(typeof f=="function"){var M=f;f=function(){var Y=Dd(F);M.call(Y)}}var F=sm(s,0,!1,null,null,!1,!1,"",Vw);return s._reactRootContainer=F,s[$s]=F.current,uc(s.nodeType===8?s.parentNode:s),Lo(function(){Rd(o,F,c,f)}),F}function Od(s,o,c,f,g){var w=c._reactRootContainer;if(w){var T=w;if(typeof g=="function"){var M=g;g=function(){var F=Dd(T);M.call(F)}}Rd(o,T,s,g)}else T=bN(c,o,s,g,f);return Dd(T)}Ql=function(s){switch(s.tag){case 3:var o=s.stateNode;if(o.current.memoizedState.isDehydrated){var c=ot(o.pendingLanes);c!==0&&(Yl(o,c|1),Un(o,wt()),(rt&6)===0&&(Ja=wt()+500,Ni()))}break;case 13:Lo(function(){var f=Ks(s,1);if(f!==null){var g=Pn();Or(f,s,1,g)}}),im(s,1)}},ba=function(s){if(s.tag===13){var o=Ks(s,134217728);if(o!==null){var c=Pn();Or(o,s,134217728,c)}im(s,134217728)}},Xl=function(s){if(s.tag===13){var o=ji(s),c=Ks(s,o);if(c!==null){var f=Pn();Or(c,s,o,f)}im(s,o)}},Jl=function(){return Ze},Zl=function(s,o){var c=Ze;try{return Ze=s,o()}finally{Ze=c}},Cr=function(s,o,c){switch(o){case"input":if(an(s,c),o=c.name,c.type==="radio"&&o!=null){for(c=s;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<c.length;o++){var f=c[o];if(f!==s&&f.form===s.form){var g=Zu(f);if(!g)throw Error(n(90));qe(f),an(f,g)}}}break;case"textarea":wa(s,c);break;case"select":o=c.value,o!=null&&Yn(s,!!c.multiple,o,!1)}},jt=Jp,en=Lo;var TN={usingClientEntryPoint:!1,Events:[fc,Fa,Zu,Me,ht,Jp]},Cc={findFiberByHostInstance:ko,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},SN={bundleType:Cc.bundleType,version:Cc.version,rendererPackageName:Cc.rendererPackageName,rendererConfig:Cc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:G.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Mu(s),s===null?null:s.stateNode},findFiberByHostInstance:Cc.findFiberByHostInstance||EN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ld=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ld.isDisabled&&Ld.supportsFiber)try{_o=Ld.inject(SN),Xn=Ld}catch{}}return zn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=TN,zn.createPortal=function(s,o){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!am(o))throw Error(n(200));return xN(s,o,null,c)},zn.createRoot=function(s,o){if(!am(s))throw Error(n(299));var c=!1,f="",g=Lw;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onRecoverableError!==void 0&&(g=o.onRecoverableError)),o=sm(s,1,!1,null,null,c,!1,f,g),s[$s]=o.current,uc(s.nodeType===8?s.parentNode:s),new om(o)},zn.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=Mu(o),s=s===null?null:s.stateNode,s},zn.flushSync=function(s){return Lo(s)},zn.hydrate=function(s,o,c){if(!Md(o))throw Error(n(200));return Od(null,s,o,!0,c)},zn.hydrateRoot=function(s,o,c){if(!am(s))throw Error(n(405));var f=c!=null&&c.hydratedSources||null,g=!1,w="",T=Lw;if(c!=null&&(c.unstable_strictMode===!0&&(g=!0),c.identifierPrefix!==void 0&&(w=c.identifierPrefix),c.onRecoverableError!==void 0&&(T=c.onRecoverableError)),o=Mw(o,null,s,1,c??null,g,!1,w,T),s[$s]=o.current,uc(s),f)for(s=0;s<f.length;s++)c=f[s],g=c._getVersion,g=g(c._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[c,g]:o.mutableSourceEagerHydrationData.push(c,g);return new jd(o)},zn.render=function(s,o,c){if(!Md(o))throw Error(n(200));return Od(null,s,o,!1,c)},zn.unmountComponentAtNode=function(s){if(!Md(s))throw Error(n(40));return s._reactRootContainer?(Lo(function(){Od(null,null,s,!1,function(){s._reactRootContainer=null,s[$s]=null})}),!0):!1},zn.unstable_batchedUpdates=Jp,zn.unstable_renderSubtreeIntoContainer=function(s,o,c,f){if(!Md(c))throw Error(n(200));if(s==null||s._reactInternals===void 0)throw Error(n(38));return Od(s,o,c,!1,f)},zn.version="18.3.1-next-f1338f8080-20240426",zn}var qw;function AE(){if(qw)return um.exports;qw=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),um.exports=DN(),um.exports}var Kw;function jN(){if(Kw)return Vd;Kw=1;var t=AE();return Vd.createRoot=t.createRoot,Vd.hydrateRoot=t.hydrateRoot,Vd}var MN=jN(),C=Kg();const he=kE(C),PE=CN({__proto__:null,default:he},[C]),ON=()=>{};var Gw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RE=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},LN=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],l=t[n++],d=t[n++],p=((i&7)<<18|(a&63)<<12|(l&63)<<6|d&63)-65536;e[r++]=String.fromCharCode(55296+(p>>10)),e[r++]=String.fromCharCode(56320+(p&1023))}else{const a=t[n++],l=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|l&63)}}return e.join("")},DE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],l=i+1<t.length,d=l?t[i+1]:0,p=i+2<t.length,m=p?t[i+2]:0,y=a>>2,v=(a&3)<<4|d>>4;let x=(d&15)<<2|m>>6,I=m&63;p||(I=64,l||(x=64)),r.push(n[y],n[v],n[x],n[I])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(RE(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):LN(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],d=i<t.length?n[t.charAt(i)]:0;++i;const m=i<t.length?n[t.charAt(i)]:64;++i;const v=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||d==null||m==null||v==null)throw new VN;const x=a<<2|d>>4;if(r.push(x),m!==64){const I=d<<4&240|m>>2;if(r.push(I),v!==64){const k=m<<6&192|v;r.push(k)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class VN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const FN=function(t){const e=RE(t);return DE.encodeByteArray(e,!0)},gh=function(t){return FN(t).replace(/\./g,"")},jE=function(t){try{return DE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zN=()=>UN().__FIREBASE_DEFAULTS__,BN=()=>{if(typeof process>"u"||typeof Gw>"u")return;const t=Gw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},$N=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&jE(t[1]);return e&&JSON.parse(e)},Gh=()=>{try{return ON()||zN()||BN()||$N()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},ME=t=>Gh()?.emulatorHosts?.[t],OE=t=>{const e=ME(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},LE=()=>Gh()?.config,VE=t=>Gh()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ca(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Gg(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FE(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[gh(JSON.stringify(n)),gh(JSON.stringify(l)),""].join(".")}const Fc={};function HN(){const t={prod:[],emulator:[]};for(const e of Object.keys(Fc))Fc[e]?t.emulator.push(e):t.prod.push(e);return t}function qN(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Yw=!1;function Yg(t,e){if(typeof window>"u"||typeof document>"u"||!ca(window.location.host)||Fc[t]===e||Fc[t]||Yw)return;Fc[t]=e;function n(x){return`__firebase__banner__${x}`}const r="__firebase__banner",a=HN().prod.length>0;function l(){const x=document.getElementById(r);x&&x.remove()}function d(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function p(x,I){x.setAttribute("width","24"),x.setAttribute("id",I),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function m(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{Yw=!0,l()},x}function y(x,I){x.setAttribute("id",I),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function v(){const x=qN(r),I=n("text"),k=document.getElementById(I)||document.createElement("span"),S=n("learnmore"),b=document.getElementById(S)||document.createElement("a"),j=n("preprendIcon"),z=document.getElementById(j)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const W=x.element;d(W),y(b,S);const G=m();p(z,j),W.append(z,k,b,G),document.body.appendChild(W)}a?(k.innerText="Preview backend disconnected.",z.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(z.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,k.innerText="Preview backend running in this workspace."),k.setAttribute("id",I)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function In(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function KN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(In())}function GN(){const t=Gh()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function YN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function QN(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function XN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function JN(){const t=In();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function ZN(){return!GN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function UE(){try{return typeof indexedDB=="object"}catch{return!1}}function zE(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(n){e(n)}})}function ek(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tk="FirebaseError";class qr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=tk,Object.setPrototypeOf(this,qr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ua.prototype.create)}}class ua{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],l=a?nk(a,r):"Error",d=`${this.serviceName}: ${l} (${i}).`;return new qr(i,d,r)}}function nk(t,e){return t.replace(rk,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const rk=/\{\$([^}]+)}/g;function sk(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Yo(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],l=e[i];if(Qw(a)&&Qw(l)){if(!Yo(a,l))return!1}else if(a!==l)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Qw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Rc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,a]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function Dc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function ik(t,e){const n=new ok(t,e);return n.subscribe.bind(n)}class ok{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");ak(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=fm),i.error===void 0&&(i.error=fm),i.complete===void 0&&(i.complete=fm);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ak(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function fm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qt(t){return t&&t._delegate?t._delegate:t}class br{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lk{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new WN;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(uk(e))try{this.getOrInitializeService({instanceIdentifier:Bo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=Bo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Bo){return this.instances.has(e)}getOptions(e=Bo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,l]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(a);r===d&&l.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&e(a,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:ck(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Bo){return this.component?this.component.multipleInstances?e:Bo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ck(t){return t===Bo?void 0:t}function uk(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dk{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new lk(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Qe||(Qe={}));const hk={debug:Qe.DEBUG,verbose:Qe.VERBOSE,info:Qe.INFO,warn:Qe.WARN,error:Qe.ERROR,silent:Qe.SILENT},fk=Qe.INFO,pk={[Qe.DEBUG]:"log",[Qe.VERBOSE]:"log",[Qe.INFO]:"info",[Qe.WARN]:"warn",[Qe.ERROR]:"error"},mk=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=pk[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Qg{constructor(e){this.name=e,this._logLevel=fk,this._logHandler=mk,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Qe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?hk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Qe.DEBUG,...e),this._logHandler(this,Qe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Qe.VERBOSE,...e),this._logHandler(this,Qe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Qe.INFO,...e),this._logHandler(this,Qe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Qe.WARN,...e),this._logHandler(this,Qe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Qe.ERROR,...e),this._logHandler(this,Qe.ERROR,...e)}}const gk=(t,e)=>e.some(n=>t instanceof n);let Xw,Jw;function vk(){return Xw||(Xw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function yk(){return Jw||(Jw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const BE=new WeakMap,Jm=new WeakMap,$E=new WeakMap,pm=new WeakMap,Xg=new WeakMap;function wk(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",l)},a=()=>{n(ni(t.result)),i()},l=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&BE.set(n,t)}).catch(()=>{}),Xg.set(e,t),e}function _k(t){if(Jm.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",l),t.removeEventListener("abort",l)},a=()=>{n(),i()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",l),t.addEventListener("abort",l)});Jm.set(t,e)}let Zm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Jm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||$E.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ni(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function xk(t){Zm=t(Zm)}function Ek(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(mm(this),e,...n);return $E.set(r,e.sort?e.sort():[e]),ni(r)}:yk().includes(t)?function(...e){return t.apply(mm(this),e),ni(BE.get(this))}:function(...e){return ni(t.apply(mm(this),e))}}function bk(t){return typeof t=="function"?Ek(t):(t instanceof IDBTransaction&&_k(t),gk(t,vk())?new Proxy(t,Zm):t)}function ni(t){if(t instanceof IDBRequest)return wk(t);if(pm.has(t))return pm.get(t);const e=bk(t);return e!==t&&(pm.set(t,e),Xg.set(e,t)),e}const mm=t=>Xg.get(t);function Yh(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const l=indexedDB.open(t,e),d=ni(l);return r&&l.addEventListener("upgradeneeded",p=>{r(ni(l.result),p.oldVersion,p.newVersion,ni(l.transaction),p)}),n&&l.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),d.then(p=>{a&&p.addEventListener("close",()=>a()),i&&p.addEventListener("versionchange",m=>i(m.oldVersion,m.newVersion,m))}).catch(()=>{}),d}function gm(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",r=>e(r.oldVersion,r)),ni(n).then(()=>{})}const Tk=["get","getKey","getAll","getAllKeys","count"],Sk=["put","add","delete","clear"],vm=new Map;function Zw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(vm.get(e))return vm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Sk.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Tk.includes(n)))return;const a=async function(l,...d){const p=this.transaction(l,i?"readwrite":"readonly");let m=p.store;return r&&(m=m.index(d.shift())),(await Promise.all([m[n](...d),i&&p.done]))[0]};return vm.set(e,a),a}xk(t=>({...t,get:(e,n,r)=>Zw(e,n)||t.get(e,n,r),has:(e,n)=>!!Zw(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ik{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Ck(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Ck(t){return t.getComponent()?.type==="VERSION"}const eg="@firebase/app",e_="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ii=new Qg("@firebase/app"),Nk="@firebase/app-compat",kk="@firebase/analytics-compat",Ak="@firebase/analytics",Pk="@firebase/app-check-compat",Rk="@firebase/app-check",Dk="@firebase/auth",jk="@firebase/auth-compat",Mk="@firebase/database",Ok="@firebase/data-connect",Lk="@firebase/database-compat",Vk="@firebase/functions",Fk="@firebase/functions-compat",Uk="@firebase/installations",zk="@firebase/installations-compat",Bk="@firebase/messaging",$k="@firebase/messaging-compat",Wk="@firebase/performance",Hk="@firebase/performance-compat",qk="@firebase/remote-config",Kk="@firebase/remote-config-compat",Gk="@firebase/storage",Yk="@firebase/storage-compat",Qk="@firebase/firestore",Xk="@firebase/ai",Jk="@firebase/firestore-compat",Zk="firebase",eA="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tg="[DEFAULT]",tA={[eg]:"fire-core",[Nk]:"fire-core-compat",[Ak]:"fire-analytics",[kk]:"fire-analytics-compat",[Rk]:"fire-app-check",[Pk]:"fire-app-check-compat",[Dk]:"fire-auth",[jk]:"fire-auth-compat",[Mk]:"fire-rtdb",[Ok]:"fire-data-connect",[Lk]:"fire-rtdb-compat",[Vk]:"fire-fn",[Fk]:"fire-fn-compat",[Uk]:"fire-iid",[zk]:"fire-iid-compat",[Bk]:"fire-fcm",[$k]:"fire-fcm-compat",[Wk]:"fire-perf",[Hk]:"fire-perf-compat",[qk]:"fire-rc",[Kk]:"fire-rc-compat",[Gk]:"fire-gcs",[Yk]:"fire-gcs-compat",[Qk]:"fire-fst",[Jk]:"fire-fst-compat",[Xk]:"fire-vertex","fire-js":"fire-js",[Zk]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vh=new Map,nA=new Map,ng=new Map;function t_(t,e){try{t.container.addComponent(e)}catch(n){ii.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ur(t){const e=t.name;if(ng.has(e))return ii.debug(`There were multiple attempts to register component ${e}.`),!1;ng.set(e,t);for(const n of vh.values())t_(n,t);for(const n of nA.values())t_(n,t);return!0}function da(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ar(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ki=new ua("app","Firebase",rA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sA{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new br("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ki.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ha=eA;function WE(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:tg,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Ki.create("bad-app-name",{appName:String(i)});if(n||(n=LE()),!n)throw Ki.create("no-options");const a=vh.get(i);if(a){if(Yo(n,a.options)&&Yo(r,a.config))return a;throw Ki.create("duplicate-app",{appName:i})}const l=new dk(i);for(const p of ng.values())l.addComponent(p);const d=new sA(n,r,l);return vh.set(i,d),d}function Qh(t=tg){const e=vh.get(t);if(!e&&t===tg&&LE())return WE();if(!e)throw Ki.create("no-app",{appName:t});return e}function qn(t,e,n){let r=tA[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const l=[`Unable to register library "${r}" with version "${e}":`];i&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&a&&l.push("and"),a&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ii.warn(l.join(" "));return}Ur(new br(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iA="firebase-heartbeat-database",oA=1,qc="firebase-heartbeat-store";let ym=null;function HE(){return ym||(ym=Yh(iA,oA,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(qc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ki.create("idb-open",{originalErrorMessage:t.message})})),ym}async function aA(t){try{const n=(await HE()).transaction(qc),r=await n.objectStore(qc).get(qE(t));return await n.done,r}catch(e){if(e instanceof qr)ii.warn(e.message);else{const n=Ki.create("idb-get",{originalErrorMessage:e?.message});ii.warn(n.message)}}}async function n_(t,e){try{const r=(await HE()).transaction(qc,"readwrite");await r.objectStore(qc).put(e,qE(t)),await r.done}catch(n){if(n instanceof qr)ii.warn(n.message);else{const r=Ki.create("idb-set",{originalErrorMessage:n?.message});ii.warn(r.message)}}}function qE(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lA=1024,cA=30;class uA{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new hA(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=r_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>cA){const i=fA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ii.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=r_(),{heartbeatsToSend:n,unsentEntries:r}=dA(this._heartbeatsCache.heartbeats),i=gh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return ii.warn(e),""}}}function r_(){return new Date().toISOString().substring(0,10)}function dA(t,e=lA){const n=[];let r=t.slice();for(const i of t){const a=n.find(l=>l.agent===i.agent);if(a){if(a.dates.push(i.date),s_(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),s_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class hA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return UE()?zE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await aA(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return n_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return n_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function s_(t){return gh(JSON.stringify({version:2,heartbeats:t})).length}function fA(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pA(t){Ur(new br("platform-logger",e=>new Ik(e),"PRIVATE")),Ur(new br("heartbeat",e=>new uA(e),"PRIVATE")),qn(eg,e_,t),qn(eg,e_,"esm2020"),qn("fire-js","")}pA("");function KE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const mA=KE,GE=new ua("auth","Firebase",KE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yh=new Qg("@firebase/auth");function gA(t,...e){yh.logLevel<=Qe.WARN&&yh.warn(`Auth (${ha}): ${t}`,...e)}function th(t,...e){yh.logLevel<=Qe.ERROR&&yh.error(`Auth (${ha}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zr(t,...e){throw Jg(t,...e)}function ws(t,...e){return Jg(t,...e)}function YE(t,e,n){const r={...mA(),[e]:n};return new ua("auth","Firebase",r).create(e,{appName:t.name})}function ri(t){return YE(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Jg(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return GE.create(t,...e)}function Oe(t,e,...n){if(!t)throw Jg(e,...n)}function ei(t){const e="INTERNAL ASSERTION FAILED: "+t;throw th(e),new Error(e)}function oi(t,e){t||ei(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rg(){return typeof self<"u"&&self.location?.href||""}function vA(){return i_()==="http:"||i_()==="https:"}function i_(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(vA()||QN()||"connection"in navigator)?navigator.onLine:!0}function wA(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu{constructor(e,n){this.shortDelay=e,this.longDelay=n,oi(n>e,"Short delay should be less than long delay!"),this.isMobile=KN()||XN()}get(){return yA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zg(t,e){oi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ei("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ei("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ei("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _A={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xA=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],EA=new uu(3e4,6e4);function ao(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function lo(t,e,n,r,i={}){return XE(t,i,async()=>{let a={},l={};r&&(e==="GET"?l=r:a={body:JSON.stringify(r)});const d=cu({key:t.config.apiKey,...l}).slice(1),p=await t._getAdditionalHeaders();p["Content-Type"]="application/json",t.languageCode&&(p["X-Firebase-Locale"]=t.languageCode);const m={method:e,headers:p,...a};return YN()||(m.referrerPolicy="no-referrer"),t.emulatorConfig&&ca(t.emulatorConfig.host)&&(m.credentials="include"),QE.fetch()(await JE(t,t.config.apiHost,n,d),m)})}async function XE(t,e,n){t._canInitEmulator=!1;const r={..._A,...e};try{const i=new TA(t),a=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw Fd(t,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const d=a.ok?l.errorMessage:l.error.message,[p,m]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Fd(t,"credential-already-in-use",l);if(p==="EMAIL_EXISTS")throw Fd(t,"email-already-in-use",l);if(p==="USER_DISABLED")throw Fd(t,"user-disabled",l);const y=r[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw YE(t,y,m);zr(t,y)}}catch(i){if(i instanceof qr)throw i;zr(t,"network-request-failed",{message:String(i)})}}async function du(t,e,n,r,i={}){const a=await lo(t,e,n,r,i);return"mfaPendingCredential"in a&&zr(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function JE(t,e,n,r){const i=`${e}${n}?${r}`,a=t,l=a.config.emulator?Zg(t.config,i):`${t.config.apiScheme}://${i}`;return xA.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(l).toString():l}function bA(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class TA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ws(this.auth,"network-request-failed")),EA.get())})}}function Fd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=ws(t,e,r);return i.customData._tokenResponse=n,i}function o_(t){return t!==void 0&&t.enterprise!==void 0}class SA{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return bA(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function IA(t,e){return lo(t,"GET","/v2/recaptchaConfig",ao(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CA(t,e){return lo(t,"POST","/v1/accounts:delete",e)}async function wh(t,e){return lo(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function NA(t,e=!1){const n=qt(t),r=await n.getIdToken(e),i=ev(r);Oe(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,l=a?.sign_in_provider;return{claims:i,token:r,authTime:Uc(wm(i.auth_time)),issuedAtTime:Uc(wm(i.iat)),expirationTime:Uc(wm(i.exp)),signInProvider:l||null,signInSecondFactor:a?.sign_in_second_factor||null}}function wm(t){return Number(t)*1e3}function ev(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return th("JWT malformed, contained fewer than 3 sections"),null;try{const i=jE(n);return i?JSON.parse(i):(th("Failed to decode base64 JWT payload"),null)}catch(i){return th("Caught error parsing JWT payload as JSON",i?.toString()),null}}function a_(t){const e=ev(t);return Oe(e,"internal-error"),Oe(typeof e.exp<"u","internal-error"),Oe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof qr&&kA(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function kA({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AA{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Uc(this.lastLoginAt),this.creationTime=Uc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _h(t){const e=t.auth,n=await t.getIdToken(),r=await Kc(t,wh(e,{idToken:n}));Oe(r?.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const a=i.providerUserInfo?.length?ZE(i.providerUserInfo):[],l=RA(t.providerData,a),d=t.isAnonymous,p=!(t.email&&i.passwordHash)&&!l?.length,m=d?p:!1,y={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new sg(i.createdAt,i.lastLoginAt),isAnonymous:m};Object.assign(t,y)}async function PA(t){const e=qt(t);await _h(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function RA(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function ZE(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DA(t,e){const n=await XE(t,{},async()=>{const r=cu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,l=await JE(t,i,"/v1/token",`key=${a}`),d=await t._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:d,body:r};return t.emulatorConfig&&ca(t.emulatorConfig.host)&&(p.credentials="include"),QE.fetch()(l,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function jA(t,e){return lo(t,"POST","/v2/accounts:revokeToken",ao(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Oe(e.idToken,"internal-error"),Oe(typeof e.idToken<"u","internal-error"),Oe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):a_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Oe(e.length!==0,"internal-error");const n=a_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Oe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:a}=await DA(e,n);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:a}=n,l=new ul;return r&&(Oe(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(Oe(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),a&&(Oe(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ul,this.toJSON())}_performRefresh(){return ei("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vi(t,e){Oe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Vr{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new AA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new sg(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Kc(this,this.stsTokenManager.getToken(this.auth,e));return Oe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return NA(this,e)}reload(){return PA(this)}_assign(e){this!==e&&(Oe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Vr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await _h(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ar(this.auth.app))return Promise.reject(ri(this.auth));const e=await this.getIdToken();return await Kc(this,CA(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,a=n.phoneNumber??void 0,l=n.photoURL??void 0,d=n.tenantId??void 0,p=n._redirectEventId??void 0,m=n.createdAt??void 0,y=n.lastLoginAt??void 0,{uid:v,emailVerified:x,isAnonymous:I,providerData:k,stsTokenManager:S}=n;Oe(v&&S,e,"internal-error");const b=ul.fromJSON(this.name,S);Oe(typeof v=="string",e,"internal-error"),Vi(r,e.name),Vi(i,e.name),Oe(typeof x=="boolean",e,"internal-error"),Oe(typeof I=="boolean",e,"internal-error"),Vi(a,e.name),Vi(l,e.name),Vi(d,e.name),Vi(p,e.name),Vi(m,e.name),Vi(y,e.name);const j=new Vr({uid:v,auth:e,email:i,emailVerified:x,displayName:r,isAnonymous:I,photoURL:l,phoneNumber:a,tenantId:d,stsTokenManager:b,createdAt:m,lastLoginAt:y});return k&&Array.isArray(k)&&(j.providerData=k.map(z=>({...z}))),p&&(j._redirectEventId=p),j}static async _fromIdTokenResponse(e,n,r=!1){const i=new ul;i.updateFromServerResponse(n);const a=new Vr({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await _h(a),a}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Oe(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?ZE(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!a?.length,d=new ul;d.updateFromIdToken(r);const p=new Vr({uid:i.localId,auth:e,stsTokenManager:d,isAnonymous:l}),m={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new sg(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!a?.length};return Object.assign(p,m),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l_=new Map;function ti(t){oi(t instanceof Function,"Expected a class definition");let e=l_.get(t);return e?(oi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,l_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}e1.type="NONE";const c_=e1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nh(t,e,n){return`firebase:${t}:${e}:${n}`}class dl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=nh(this.userKey,i.apiKey,a),this.fullPersistenceKey=nh("persistence",i.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await wh(this.auth,{idToken:e}).catch(()=>{});return n?Vr._fromGetAccountInfoResponse(this.auth,n,e):null}return Vr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new dl(ti(c_),e,r);const i=(await Promise.all(n.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let a=i[0]||ti(c_);const l=nh(r,e.config.apiKey,e.name);let d=null;for(const m of n)try{const y=await m._get(l);if(y){let v;if(typeof y=="string"){const x=await wh(e,{idToken:y}).catch(()=>{});if(!x)break;v=await Vr._fromGetAccountInfoResponse(e,x,y)}else v=Vr._fromJSON(e,y);m!==a&&(d=v),a=m;break}}catch{}const p=i.filter(m=>m._shouldAllowMigration);return!a._shouldAllowMigration||!p.length?new dl(a,e,r):(a=p[0],d&&await a._set(l,d.toJSON()),await Promise.all(n.map(async m=>{if(m!==a)try{await m._remove(l)}catch{}})),new dl(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(s1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(t1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(o1(e))return"Blackberry";if(a1(e))return"Webos";if(n1(e))return"Safari";if((e.includes("chrome/")||r1(e))&&!e.includes("edge/"))return"Chrome";if(i1(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function t1(t=In()){return/firefox\//i.test(t)}function n1(t=In()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function r1(t=In()){return/crios\//i.test(t)}function s1(t=In()){return/iemobile/i.test(t)}function i1(t=In()){return/android/i.test(t)}function o1(t=In()){return/blackberry/i.test(t)}function a1(t=In()){return/webos/i.test(t)}function tv(t=In()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function MA(t=In()){return tv(t)&&!!window.navigator?.standalone}function OA(){return JN()&&document.documentMode===10}function l1(t=In()){return tv(t)||i1(t)||a1(t)||o1(t)||/windows phone/i.test(t)||s1(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c1(t,e=[]){let n;switch(t){case"Browser":n=u_(In());break;case"Worker":n=`${u_(In())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ha}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LA{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((l,d)=>{try{const p=e(a);l(p)}catch(p){d(p)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VA(t,e={}){return lo(t,"GET","/v2/passwordPolicy",ao(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FA=6;class UA{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??FA,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new d_(this),this.idTokenSubscription=new d_(this),this.beforeStateQueue=new LA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=GE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ti(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await dl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await wh(this,{idToken:e}),r=await Vr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ar(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=this.redirectUser?._redirectEventId,l=r?._redirectEventId,d=await this.tryRedirectSignIn(e);(!a||a===l)&&d?.user&&(r=d.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Oe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await _h(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=wA()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ar(this.app))return Promise.reject(ri(this));const n=e?qt(e):null;return n&&Oe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Oe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ar(this.app)?Promise.reject(ri(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ar(this.app)?Promise.reject(ri(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ti(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await VA(this),n=new UA(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ua("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await jA(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ti(e)||this._popupRedirectResolver;Oe(n,this,"argument-error"),this.redirectPersistenceManager=await dl.create(this,[ti(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let l=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Oe(d,this,"internal-error"),d.then(()=>{l||a(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,r,i);return()=>{l=!0,p()}}else{const p=e.addObserver(n);return()=>{l=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=c1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(ar(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&gA(`Error while retrieving App Check token: ${e.error}`),e?.token}}function fa(t){return qt(t)}class d_{constructor(e){this.auth=e,this.observer=null,this.addObserver=ik(n=>this.observer=n)}get next(){return Oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function BA(t){Xh=t}function u1(t){return Xh.loadJS(t)}function $A(){return Xh.recaptchaEnterpriseScript}function WA(){return Xh.gapiScript}function HA(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class qA{constructor(){this.enterprise=new KA}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class KA{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const GA="recaptcha-enterprise",d1="NO_RECAPTCHA";class YA{constructor(e){this.type=GA,this.auth=fa(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(l,d)=>{IA(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const m=new SA(p);return a.tenantId==null?a._agentRecaptchaConfig=m:a._tenantRecaptchaConfigs[a.tenantId]=m,l(m.siteKey)}}).catch(p=>{d(p)})})}function i(a,l,d){const p=window.grecaptcha;o_(p)?p.enterprise.ready(()=>{p.enterprise.execute(a,{action:e}).then(m=>{l(m)}).catch(()=>{l(d1)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new qA().execute("siteKey",{action:"verify"}):new Promise((a,l)=>{r(this.auth).then(d=>{if(!n&&o_(window.grecaptcha))i(d,a,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let p=$A();p.length!==0&&(p+=d),u1(p).then(()=>{i(d,a,l)}).catch(m=>{l(m)})}}).catch(d=>{l(d)})})}}async function h_(t,e,n,r=!1,i=!1){const a=new YA(t);let l;if(i)l=d1;else try{l=await a.verify(n)}catch{l=await a.verify(n,!0)}const d={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const p=d.phoneEnrollmentInfo.phoneNumber,m=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:m,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const p=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return r?Object.assign(d,{captchaResp:l}):Object.assign(d,{captchaResponse:l}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function ig(t,e,n,r,i){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await h_(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await h_(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QA(t,e){const n=da(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),a=n.getOptions();if(Yo(a,e??{}))return i;zr(i,"already-initialized")}return n.initialize({options:e})}function XA(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(ti);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function JA(t,e,n){const r=fa(t);Oe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=h1(e),{host:l,port:d}=ZA(e),p=d===null?"":`:${d}`,m={url:`${a}//${l}${p}/`},y=Object.freeze({host:l,port:d,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Oe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Oe(Yo(m,r.config.emulator)&&Yo(y,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=m,r.emulatorConfig=y,r.settings.appVerificationDisabledForTesting=!0,ca(l)?(Gg(`${a}//${l}${p}`),Yg("Auth",!0)):eP()}function h1(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function ZA(t){const e=h1(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:f_(r.substr(a.length+1))}}else{const[a,l]=r.split(":");return{host:a,port:f_(l)}}}function f_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function eP(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nv{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ei("not implemented")}_getIdTokenResponse(e){return ei("not implemented")}_linkToIdToken(e,n){return ei("not implemented")}_getReauthenticationResolver(e){return ei("not implemented")}}async function tP(t,e){return lo(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nP(t,e){return du(t,"POST","/v1/accounts:signInWithPassword",ao(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rP(t,e){return du(t,"POST","/v1/accounts:signInWithEmailLink",ao(t,e))}async function sP(t,e){return du(t,"POST","/v1/accounts:signInWithEmailLink",ao(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc extends nv{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Gc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Gc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ig(e,n,"signInWithPassword",nP);case"emailLink":return rP(e,{email:this._email,oobCode:this._password});default:zr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ig(e,r,"signUpPassword",tP);case"emailLink":return sP(e,{idToken:n,email:this._email,oobCode:this._password});default:zr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hl(t,e){return du(t,"POST","/v1/accounts:signInWithIdp",ao(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iP="http://localhost";class Qo extends nv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Qo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):zr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...a}=n;if(!r||!i)return null;const l=new Qo(r,i);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return hl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,hl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,hl(e,n)}buildRequest(){const e={requestUri:iP,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=cu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oP(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function aP(t){const e=Rc(Dc(t)).link,n=e?Rc(Dc(e)).deep_link_id:null,r=Rc(Dc(t)).deep_link_id;return(r?Rc(Dc(r)).link:null)||r||n||e||t}class rv{constructor(e){const n=Rc(Dc(e)),r=n.apiKey??null,i=n.oobCode??null,a=oP(n.mode??null);Oe(r&&i&&a,"argument-error"),this.apiKey=r,this.operation=a,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=aP(e);try{return new rv(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl{constructor(){this.providerId=Cl.PROVIDER_ID}static credential(e,n){return Gc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=rv.parseLink(n);return Oe(r,"argument-error"),Gc._fromEmailAndCode(e,r.code,r.tenantId)}}Cl.PROVIDER_ID="password";Cl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Cl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu extends f1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi extends hu{constructor(){super("facebook.com")}static credential(e){return Qo._fromParams({providerId:Bi.PROVIDER_ID,signInMethod:Bi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Bi.credentialFromTaggedObject(e)}static credentialFromError(e){return Bi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Bi.credential(e.oauthAccessToken)}catch{return null}}}Bi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Bi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i extends hu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Qo._fromParams({providerId:$i.PROVIDER_ID,signInMethod:$i.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return $i.credentialFromTaggedObject(e)}static credentialFromError(e){return $i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return $i.credential(n,r)}catch{return null}}}$i.GOOGLE_SIGN_IN_METHOD="google.com";$i.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi extends hu{constructor(){super("github.com")}static credential(e){return Qo._fromParams({providerId:Wi.PROVIDER_ID,signInMethod:Wi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Wi.credentialFromTaggedObject(e)}static credentialFromError(e){return Wi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Wi.credential(e.oauthAccessToken)}catch{return null}}}Wi.GITHUB_SIGN_IN_METHOD="github.com";Wi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi extends hu{constructor(){super("twitter.com")}static credential(e,n){return Qo._fromParams({providerId:Hi.PROVIDER_ID,signInMethod:Hi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Hi.credentialFromTaggedObject(e)}static credentialFromError(e){return Hi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Hi.credential(n,r)}catch{return null}}}Hi.TWITTER_SIGN_IN_METHOD="twitter.com";Hi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lP(t,e){return du(t,"POST","/v1/accounts:signUp",ao(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const a=await Vr._fromIdTokenResponse(e,r,i),l=p_(r);return new Xo({user:a,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=p_(r);return new Xo({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function p_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh extends qr{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,xh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new xh(e,n,r,i)}}function p1(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?xh._fromErrorAndOperation(t,a,e,r):a})}async function cP(t,e,n=!1){const r=await Kc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Xo._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uP(t,e,n=!1){const{auth:r}=t;if(ar(r.app))return Promise.reject(ri(r));const i="reauthenticate";try{const a=await Kc(t,p1(r,i,e,t),n);Oe(a.idToken,r,"internal-error");const l=ev(a.idToken);Oe(l,r,"internal-error");const{sub:d}=l;return Oe(t.uid===d,r,"user-mismatch"),Xo._forOperation(t,i,a)}catch(a){throw a?.code==="auth/user-not-found"&&zr(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m1(t,e,n=!1){if(ar(t.app))return Promise.reject(ri(t));const r="signIn",i=await p1(t,r,e),a=await Xo._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(a.user),a}async function dP(t,e){return m1(fa(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g1(t){const e=fa(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function hP(t,e,n){if(ar(t.app))return Promise.reject(ri(t));const r=fa(t),l=await ig(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",lP).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&g1(t),p}),d=await Xo._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(d.user),d}function fP(t,e,n){return ar(t.app)?Promise.reject(ri(t)):dP(qt(t),Cl.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&g1(t),r})}function pP(t,e,n,r){return qt(t).onIdTokenChanged(e,n,r)}function mP(t,e,n){return qt(t).beforeAuthStateChanged(e,n)}function gP(t,e,n,r){return qt(t).onAuthStateChanged(e,n,r)}function vP(t){return qt(t).signOut()}const Eh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Eh,"1"),this.storage.removeItem(Eh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yP=1e3,wP=10;class y1 extends v1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=l1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,d,p)=>{this.notifyListeners(l,p)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},a=this.storage.getItem(r);OA()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,wP):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},yP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}y1.type="LOCAL";const _P=y1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1 extends v1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}w1.type="SESSION";const _1=w1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xP(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Jh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:a}=n.data,l=this.handlersMap[i];if(!l?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const d=Array.from(l).map(async m=>m(n.origin,a)),p=await xP(d);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Jh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sv(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EP{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,l;return new Promise((d,p)=>{const m=sv("",20);i.port1.start();const y=setTimeout(()=>{p(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(v){const x=v;if(x.data.eventId===m)switch(x.data.status){case"ack":clearTimeout(y),a=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),d(x.data.response);break;default:clearTimeout(y),clearTimeout(a),p(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:m,data:n},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _s(){return window}function bP(t){_s().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x1(){return typeof _s().WorkerGlobalScope<"u"&&typeof _s().importScripts=="function"}async function TP(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function SP(){return navigator?.serviceWorker?.controller||null}function IP(){return x1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E1="firebaseLocalStorageDb",CP=1,bh="firebaseLocalStorage",b1="fbase_key";class fu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Zh(t,e){return t.transaction([bh],e?"readwrite":"readonly").objectStore(bh)}function NP(){const t=indexedDB.deleteDatabase(E1);return new fu(t).toPromise()}function og(){const t=indexedDB.open(E1,CP);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(bh,{keyPath:b1})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(bh)?e(r):(r.close(),await NP(),e(await og()))})})}async function m_(t,e,n){const r=Zh(t,!0).put({[b1]:e,value:n});return new fu(r).toPromise()}async function kP(t,e){const n=Zh(t,!1).get(e),r=await new fu(n).toPromise();return r===void 0?null:r.value}function g_(t,e){const n=Zh(t,!0).delete(e);return new fu(n).toPromise()}const AP=800,PP=3;class T1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await og(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>PP)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return x1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Jh._getInstance(IP()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await TP(),!this.activeServiceWorker)return;this.sender=new EP(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||SP()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await og();return await m_(e,Eh,"1"),await g_(e,Eh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>m_(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>kP(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>g_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=Zh(i,!1).getAll();return new fu(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),AP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}T1.type="LOCAL";const RP=T1;new uu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DP(t,e){return e?ti(e):(Oe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iv extends nv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return hl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return hl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return hl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function jP(t){return m1(t.auth,new iv(t),t.bypassAuthState)}function MP(t){const{auth:e,user:n}=t;return Oe(n,e,"internal-error"),uP(n,new iv(t),t.bypassAuthState)}async function OP(t){const{auth:e,user:n}=t;return Oe(n,e,"internal-error"),cP(n,new iv(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{constructor(e,n,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:a,error:l,type:d}=e;if(l){this.reject(l);return}const p={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return jP;case"linkViaPopup":case"linkViaRedirect":return OP;case"reauthViaPopup":case"reauthViaRedirect":return MP;default:zr(this.auth,"internal-error")}}resolve(e){oi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){oi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LP=new uu(2e3,1e4);class cl extends S1{constructor(e,n,r,i,a){super(e,n,i,a),this.provider=r,this.authWindow=null,this.pollId=null,cl.currentPopupAction&&cl.currentPopupAction.cancel(),cl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Oe(e,this.auth,"internal-error"),e}async onExecution(){oi(this.filter.length===1,"Popup operations only handle one event");const e=sv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ws(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ws(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,cl.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ws(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,LP.get())};e()}}cl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VP="pendingRedirect",rh=new Map;class FP extends S1{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=rh.get(this.auth._key());if(!e){try{const r=await UP(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}rh.set(this.auth._key(),e)}return this.bypassAuthState||rh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function UP(t,e){const n=$P(e),r=BP(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function zP(t,e){rh.set(t._key(),e)}function BP(t){return ti(t._redirectPersistence)}function $P(t){return nh(VP,t.config.apiKey,t.name)}async function WP(t,e,n=!1){if(ar(t.app))return Promise.reject(ri(t));const r=fa(t),i=DP(r,e),l=await new FP(r,i,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HP=600*1e3;class qP{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!KP(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!I1(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(ws(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=HP&&this.cachedEventUids.clear(),this.cachedEventUids.has(v_(e))}saveEventToCache(e){this.cachedEventUids.add(v_(e)),this.lastProcessedEventTime=Date.now()}}function v_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function I1({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function KP(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return I1(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GP(t,e={}){return lo(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,QP=/^https?/;async function XP(t){if(t.config.emulator)return;const{authorizedDomains:e}=await GP(t);for(const n of e)try{if(JP(n))return}catch{}zr(t,"unauthorized-domain")}function JP(t){const e=rg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!QP.test(n))return!1;if(YP.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZP=new uu(3e4,6e4);function y_(){const t=_s().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function eR(t){return new Promise((e,n)=>{function r(){y_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{y_(),n(ws(t,"network-request-failed"))},timeout:ZP.get()})}if(_s().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(_s().gapi?.load)r();else{const i=HA("iframefcb");return _s()[i]=()=>{gapi.load?r():n(ws(t,"network-request-failed"))},u1(`${WA()}?onload=${i}`).catch(a=>n(a))}}).catch(e=>{throw sh=null,e})}let sh=null;function tR(t){return sh=sh||eR(t),sh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nR=new uu(5e3,15e3),rR="__/auth/iframe",sR="emulator/auth/iframe",iR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},oR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function aR(t){const e=t.config;Oe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Zg(e,sR):`https://${t.config.authDomain}/${rR}`,r={apiKey:e.apiKey,appName:t.name,v:ha},i=oR.get(t.config.apiHost);i&&(r.eid=i);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${cu(r).slice(1)}`}async function lR(t){const e=await tR(t),n=_s().gapi;return Oe(n,t,"internal-error"),e.open({where:document.body,url:aR(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:iR,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const l=ws(t,"network-request-failed"),d=_s().setTimeout(()=>{a(l)},nR.get());function p(){_s().clearTimeout(d),i(r)}r.ping(p).then(p,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},uR=500,dR=600,hR="_blank",fR="http://localhost";class w_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function pR(t,e,n,r=uR,i=dR){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let d="";const p={...cR,width:r.toString(),height:i.toString(),top:a,left:l},m=In().toLowerCase();n&&(d=r1(m)?hR:n),t1(m)&&(e=e||fR,p.scrollbars="yes");const y=Object.entries(p).reduce((x,[I,k])=>`${x}${I}=${k},`,"");if(MA(m)&&d!=="_self")return mR(e||"",d),new w_(null);const v=window.open(e||"",d,y);Oe(v,t,"popup-blocked");try{v.focus()}catch{}return new w_(v)}function mR(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gR="__/auth/handler",vR="emulator/auth/handler",yR=encodeURIComponent("fac");async function __(t,e,n,r,i,a){Oe(t.config.authDomain,t,"auth-domain-config-required"),Oe(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ha,eventId:i};if(e instanceof f1){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",sk(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,v]of Object.entries({}))l[y]=v}if(e instanceof hu){const y=e.getScopes().filter(v=>v!=="");y.length>0&&(l.scopes=y.join(","))}t.tenantId&&(l.tid=t.tenantId);const d=l;for(const y of Object.keys(d))d[y]===void 0&&delete d[y];const p=await t._getAppCheckToken(),m=p?`#${yR}=${encodeURIComponent(p)}`:"";return`${wR(t)}?${cu(d).slice(1)}${m}`}function wR({config:t}){return t.emulator?Zg(t,vR):`https://${t.authDomain}/${gR}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _m="webStorageSupport";class _R{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_1,this._completeRedirectFn=WP,this._overrideRedirectResult=zP}async _openPopup(e,n,r,i){oi(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const a=await __(e,n,r,rg(),i);return pR(e,a,sv())}async _openRedirect(e,n,r,i){await this._originValidation(e);const a=await __(e,n,r,rg(),i);return bP(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:a}=this.eventManagers[n];return i?Promise.resolve(i):(oi(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await lR(e),r=new qP(e);return n.register("authEvent",i=>(Oe(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(_m,{type:_m},i=>{const a=i?.[0]?.[_m];a!==void 0&&n(!!a),zr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=XP(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return l1()||n1()||tv()}}const xR=_R;var x_="@firebase/auth",E_="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bR(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function TR(t){Ur(new br("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:l,authDomain:d}=r.options;Oe(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const p={apiKey:l,authDomain:d,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:c1(t)},m=new zA(r,i,a,p);return XA(m,n),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ur(new br("auth-internal",e=>{const n=fa(e.getProvider("auth").getImmediate());return(r=>new ER(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),qn(x_,E_,bR(t)),qn(x_,E_,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SR=300,IR=VE("authIdTokenMaxAge")||SR;let b_=null;const CR=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>IR)return;const i=n?.token;b_!==i&&(b_=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function NR(t=Qh()){const e=da(t,"auth");if(e.isInitialized())return e.getImmediate();const n=QA(t,{popupRedirectResolver:xR,persistence:[RP,_P,_1]}),r=VE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const l=CR(a.toString());mP(n,l,()=>l(n.currentUser)),pP(n,d=>l(d))}}const i=ME("auth");return i&&JA(n,`http://${i}`),n}function kR(){return document.getElementsByTagName("head")?.[0]??document}BA({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const a=ws("internal-error");a.customData=i,n(a)},r.type="text/javascript",r.charset="UTF-8",kR().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});TR("Browser");var AR="firebase",PR="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */qn(AR,PR,"app");var T_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Gi,C1;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,N){function D(){}D.prototype=N.prototype,P.F=N.prototype,P.prototype=new D,P.prototype.constructor=P,P.D=function(V,O,U){for(var R=Array(arguments.length-2),ve=2;ve<arguments.length;ve++)R[ve-2]=arguments[ve];return N.prototype[O].apply(V,R)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(P,N,D){D||(D=0);const V=Array(16);if(typeof N=="string")for(var O=0;O<16;++O)V[O]=N.charCodeAt(D++)|N.charCodeAt(D++)<<8|N.charCodeAt(D++)<<16|N.charCodeAt(D++)<<24;else for(O=0;O<16;++O)V[O]=N[D++]|N[D++]<<8|N[D++]<<16|N[D++]<<24;N=P.g[0],D=P.g[1],O=P.g[2];let U=P.g[3],R;R=N+(U^D&(O^U))+V[0]+3614090360&4294967295,N=D+(R<<7&4294967295|R>>>25),R=U+(O^N&(D^O))+V[1]+3905402710&4294967295,U=N+(R<<12&4294967295|R>>>20),R=O+(D^U&(N^D))+V[2]+606105819&4294967295,O=U+(R<<17&4294967295|R>>>15),R=D+(N^O&(U^N))+V[3]+3250441966&4294967295,D=O+(R<<22&4294967295|R>>>10),R=N+(U^D&(O^U))+V[4]+4118548399&4294967295,N=D+(R<<7&4294967295|R>>>25),R=U+(O^N&(D^O))+V[5]+1200080426&4294967295,U=N+(R<<12&4294967295|R>>>20),R=O+(D^U&(N^D))+V[6]+2821735955&4294967295,O=U+(R<<17&4294967295|R>>>15),R=D+(N^O&(U^N))+V[7]+4249261313&4294967295,D=O+(R<<22&4294967295|R>>>10),R=N+(U^D&(O^U))+V[8]+1770035416&4294967295,N=D+(R<<7&4294967295|R>>>25),R=U+(O^N&(D^O))+V[9]+2336552879&4294967295,U=N+(R<<12&4294967295|R>>>20),R=O+(D^U&(N^D))+V[10]+4294925233&4294967295,O=U+(R<<17&4294967295|R>>>15),R=D+(N^O&(U^N))+V[11]+2304563134&4294967295,D=O+(R<<22&4294967295|R>>>10),R=N+(U^D&(O^U))+V[12]+1804603682&4294967295,N=D+(R<<7&4294967295|R>>>25),R=U+(O^N&(D^O))+V[13]+4254626195&4294967295,U=N+(R<<12&4294967295|R>>>20),R=O+(D^U&(N^D))+V[14]+2792965006&4294967295,O=U+(R<<17&4294967295|R>>>15),R=D+(N^O&(U^N))+V[15]+1236535329&4294967295,D=O+(R<<22&4294967295|R>>>10),R=N+(O^U&(D^O))+V[1]+4129170786&4294967295,N=D+(R<<5&4294967295|R>>>27),R=U+(D^O&(N^D))+V[6]+3225465664&4294967295,U=N+(R<<9&4294967295|R>>>23),R=O+(N^D&(U^N))+V[11]+643717713&4294967295,O=U+(R<<14&4294967295|R>>>18),R=D+(U^N&(O^U))+V[0]+3921069994&4294967295,D=O+(R<<20&4294967295|R>>>12),R=N+(O^U&(D^O))+V[5]+3593408605&4294967295,N=D+(R<<5&4294967295|R>>>27),R=U+(D^O&(N^D))+V[10]+38016083&4294967295,U=N+(R<<9&4294967295|R>>>23),R=O+(N^D&(U^N))+V[15]+3634488961&4294967295,O=U+(R<<14&4294967295|R>>>18),R=D+(U^N&(O^U))+V[4]+3889429448&4294967295,D=O+(R<<20&4294967295|R>>>12),R=N+(O^U&(D^O))+V[9]+568446438&4294967295,N=D+(R<<5&4294967295|R>>>27),R=U+(D^O&(N^D))+V[14]+3275163606&4294967295,U=N+(R<<9&4294967295|R>>>23),R=O+(N^D&(U^N))+V[3]+4107603335&4294967295,O=U+(R<<14&4294967295|R>>>18),R=D+(U^N&(O^U))+V[8]+1163531501&4294967295,D=O+(R<<20&4294967295|R>>>12),R=N+(O^U&(D^O))+V[13]+2850285829&4294967295,N=D+(R<<5&4294967295|R>>>27),R=U+(D^O&(N^D))+V[2]+4243563512&4294967295,U=N+(R<<9&4294967295|R>>>23),R=O+(N^D&(U^N))+V[7]+1735328473&4294967295,O=U+(R<<14&4294967295|R>>>18),R=D+(U^N&(O^U))+V[12]+2368359562&4294967295,D=O+(R<<20&4294967295|R>>>12),R=N+(D^O^U)+V[5]+4294588738&4294967295,N=D+(R<<4&4294967295|R>>>28),R=U+(N^D^O)+V[8]+2272392833&4294967295,U=N+(R<<11&4294967295|R>>>21),R=O+(U^N^D)+V[11]+1839030562&4294967295,O=U+(R<<16&4294967295|R>>>16),R=D+(O^U^N)+V[14]+4259657740&4294967295,D=O+(R<<23&4294967295|R>>>9),R=N+(D^O^U)+V[1]+2763975236&4294967295,N=D+(R<<4&4294967295|R>>>28),R=U+(N^D^O)+V[4]+1272893353&4294967295,U=N+(R<<11&4294967295|R>>>21),R=O+(U^N^D)+V[7]+4139469664&4294967295,O=U+(R<<16&4294967295|R>>>16),R=D+(O^U^N)+V[10]+3200236656&4294967295,D=O+(R<<23&4294967295|R>>>9),R=N+(D^O^U)+V[13]+681279174&4294967295,N=D+(R<<4&4294967295|R>>>28),R=U+(N^D^O)+V[0]+3936430074&4294967295,U=N+(R<<11&4294967295|R>>>21),R=O+(U^N^D)+V[3]+3572445317&4294967295,O=U+(R<<16&4294967295|R>>>16),R=D+(O^U^N)+V[6]+76029189&4294967295,D=O+(R<<23&4294967295|R>>>9),R=N+(D^O^U)+V[9]+3654602809&4294967295,N=D+(R<<4&4294967295|R>>>28),R=U+(N^D^O)+V[12]+3873151461&4294967295,U=N+(R<<11&4294967295|R>>>21),R=O+(U^N^D)+V[15]+530742520&4294967295,O=U+(R<<16&4294967295|R>>>16),R=D+(O^U^N)+V[2]+3299628645&4294967295,D=O+(R<<23&4294967295|R>>>9),R=N+(O^(D|~U))+V[0]+4096336452&4294967295,N=D+(R<<6&4294967295|R>>>26),R=U+(D^(N|~O))+V[7]+1126891415&4294967295,U=N+(R<<10&4294967295|R>>>22),R=O+(N^(U|~D))+V[14]+2878612391&4294967295,O=U+(R<<15&4294967295|R>>>17),R=D+(U^(O|~N))+V[5]+4237533241&4294967295,D=O+(R<<21&4294967295|R>>>11),R=N+(O^(D|~U))+V[12]+1700485571&4294967295,N=D+(R<<6&4294967295|R>>>26),R=U+(D^(N|~O))+V[3]+2399980690&4294967295,U=N+(R<<10&4294967295|R>>>22),R=O+(N^(U|~D))+V[10]+4293915773&4294967295,O=U+(R<<15&4294967295|R>>>17),R=D+(U^(O|~N))+V[1]+2240044497&4294967295,D=O+(R<<21&4294967295|R>>>11),R=N+(O^(D|~U))+V[8]+1873313359&4294967295,N=D+(R<<6&4294967295|R>>>26),R=U+(D^(N|~O))+V[15]+4264355552&4294967295,U=N+(R<<10&4294967295|R>>>22),R=O+(N^(U|~D))+V[6]+2734768916&4294967295,O=U+(R<<15&4294967295|R>>>17),R=D+(U^(O|~N))+V[13]+1309151649&4294967295,D=O+(R<<21&4294967295|R>>>11),R=N+(O^(D|~U))+V[4]+4149444226&4294967295,N=D+(R<<6&4294967295|R>>>26),R=U+(D^(N|~O))+V[11]+3174756917&4294967295,U=N+(R<<10&4294967295|R>>>22),R=O+(N^(U|~D))+V[2]+718787259&4294967295,O=U+(R<<15&4294967295|R>>>17),R=D+(U^(O|~N))+V[9]+3951481745&4294967295,P.g[0]=P.g[0]+N&4294967295,P.g[1]=P.g[1]+(O+(R<<21&4294967295|R>>>11))&4294967295,P.g[2]=P.g[2]+O&4294967295,P.g[3]=P.g[3]+U&4294967295}r.prototype.v=function(P,N){N===void 0&&(N=P.length);const D=N-this.blockSize,V=this.C;let O=this.h,U=0;for(;U<N;){if(O==0)for(;U<=D;)i(this,P,U),U+=this.blockSize;if(typeof P=="string"){for(;U<N;)if(V[O++]=P.charCodeAt(U++),O==this.blockSize){i(this,V),O=0;break}}else for(;U<N;)if(V[O++]=P[U++],O==this.blockSize){i(this,V),O=0;break}}this.h=O,this.o+=N},r.prototype.A=function(){var P=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);P[0]=128;for(var N=1;N<P.length-8;++N)P[N]=0;N=this.o*8;for(var D=P.length-8;D<P.length;++D)P[D]=N&255,N/=256;for(this.v(P),P=Array(16),N=0,D=0;D<4;++D)for(let V=0;V<32;V+=8)P[N++]=this.g[D]>>>V&255;return P};function a(P,N){var D=d;return Object.prototype.hasOwnProperty.call(D,P)?D[P]:D[P]=N(P)}function l(P,N){this.h=N;const D=[];let V=!0;for(let O=P.length-1;O>=0;O--){const U=P[O]|0;V&&U==N||(D[O]=U,V=!1)}this.g=D}var d={};function p(P){return-128<=P&&P<128?a(P,function(N){return new l([N|0],N<0?-1:0)}):new l([P|0],P<0?-1:0)}function m(P){if(isNaN(P)||!isFinite(P))return v;if(P<0)return b(m(-P));const N=[];let D=1;for(let V=0;P>=D;V++)N[V]=P/D|0,D*=4294967296;return new l(N,0)}function y(P,N){if(P.length==0)throw Error("number format error: empty string");if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(P.charAt(0)=="-")return b(y(P.substring(1),N));if(P.indexOf("-")>=0)throw Error('number format error: interior "-" character');const D=m(Math.pow(N,8));let V=v;for(let U=0;U<P.length;U+=8){var O=Math.min(8,P.length-U);const R=parseInt(P.substring(U,U+O),N);O<8?(O=m(Math.pow(N,O)),V=V.j(O).add(m(R))):(V=V.j(D),V=V.add(m(R)))}return V}var v=p(0),x=p(1),I=p(16777216);t=l.prototype,t.m=function(){if(S(this))return-b(this).m();let P=0,N=1;for(let D=0;D<this.g.length;D++){const V=this.i(D);P+=(V>=0?V:4294967296+V)*N,N*=4294967296}return P},t.toString=function(P){if(P=P||10,P<2||36<P)throw Error("radix out of range: "+P);if(k(this))return"0";if(S(this))return"-"+b(this).toString(P);const N=m(Math.pow(P,6));var D=this;let V="";for(;;){const O=G(D,N).g;D=j(D,O.j(N));let U=((D.g.length>0?D.g[0]:D.h)>>>0).toString(P);if(D=O,k(D))return U+V;for(;U.length<6;)U="0"+U;V=U+V}},t.i=function(P){return P<0?0:P<this.g.length?this.g[P]:this.h};function k(P){if(P.h!=0)return!1;for(let N=0;N<P.g.length;N++)if(P.g[N]!=0)return!1;return!0}function S(P){return P.h==-1}t.l=function(P){return P=j(this,P),S(P)?-1:k(P)?0:1};function b(P){const N=P.g.length,D=[];for(let V=0;V<N;V++)D[V]=~P.g[V];return new l(D,~P.h).add(x)}t.abs=function(){return S(this)?b(this):this},t.add=function(P){const N=Math.max(this.g.length,P.g.length),D=[];let V=0;for(let O=0;O<=N;O++){let U=V+(this.i(O)&65535)+(P.i(O)&65535),R=(U>>>16)+(this.i(O)>>>16)+(P.i(O)>>>16);V=R>>>16,U&=65535,R&=65535,D[O]=R<<16|U}return new l(D,D[D.length-1]&-2147483648?-1:0)};function j(P,N){return P.add(b(N))}t.j=function(P){if(k(this)||k(P))return v;if(S(this))return S(P)?b(this).j(b(P)):b(b(this).j(P));if(S(P))return b(this.j(b(P)));if(this.l(I)<0&&P.l(I)<0)return m(this.m()*P.m());const N=this.g.length+P.g.length,D=[];for(var V=0;V<2*N;V++)D[V]=0;for(V=0;V<this.g.length;V++)for(let O=0;O<P.g.length;O++){const U=this.i(V)>>>16,R=this.i(V)&65535,ve=P.i(O)>>>16,ke=P.i(O)&65535;D[2*V+2*O]+=R*ke,z(D,2*V+2*O),D[2*V+2*O+1]+=U*ke,z(D,2*V+2*O+1),D[2*V+2*O+1]+=R*ve,z(D,2*V+2*O+1),D[2*V+2*O+2]+=U*ve,z(D,2*V+2*O+2)}for(P=0;P<N;P++)D[P]=D[2*P+1]<<16|D[2*P];for(P=N;P<2*N;P++)D[P]=0;return new l(D,0)};function z(P,N){for(;(P[N]&65535)!=P[N];)P[N+1]+=P[N]>>>16,P[N]&=65535,N++}function W(P,N){this.g=P,this.h=N}function G(P,N){if(k(N))throw Error("division by zero");if(k(P))return new W(v,v);if(S(P))return N=G(b(P),N),new W(b(N.g),b(N.h));if(S(N))return N=G(P,b(N)),new W(b(N.g),N.h);if(P.g.length>30){if(S(P)||S(N))throw Error("slowDivide_ only works with positive integers.");for(var D=x,V=N;V.l(P)<=0;)D=J(D),V=J(V);var O=te(D,1),U=te(V,1);for(V=te(V,2),D=te(D,2);!k(V);){var R=U.add(V);R.l(P)<=0&&(O=O.add(D),U=R),V=te(V,1),D=te(D,1)}return N=j(P,O.j(N)),new W(O,N)}for(O=v;P.l(N)>=0;){for(D=Math.max(1,Math.floor(P.m()/N.m())),V=Math.ceil(Math.log(D)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),U=m(D),R=U.j(N);S(R)||R.l(P)>0;)D-=V,U=m(D),R=U.j(N);k(U)&&(U=x),O=O.add(U),P=j(P,R)}return new W(O,P)}t.B=function(P){return G(this,P).h},t.and=function(P){const N=Math.max(this.g.length,P.g.length),D=[];for(let V=0;V<N;V++)D[V]=this.i(V)&P.i(V);return new l(D,this.h&P.h)},t.or=function(P){const N=Math.max(this.g.length,P.g.length),D=[];for(let V=0;V<N;V++)D[V]=this.i(V)|P.i(V);return new l(D,this.h|P.h)},t.xor=function(P){const N=Math.max(this.g.length,P.g.length),D=[];for(let V=0;V<N;V++)D[V]=this.i(V)^P.i(V);return new l(D,this.h^P.h)};function J(P){const N=P.g.length+1,D=[];for(let V=0;V<N;V++)D[V]=P.i(V)<<1|P.i(V-1)>>>31;return new l(D,P.h)}function te(P,N){const D=N>>5;N%=32;const V=P.g.length-D,O=[];for(let U=0;U<V;U++)O[U]=N>0?P.i(U+D)>>>N|P.i(U+D+1)<<32-N:P.i(U+D);return new l(O,P.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,C1=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.B,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=m,l.fromString=y,Gi=l}).apply(typeof T_<"u"?T_:typeof self<"u"?self:typeof window<"u"?window:{});var Ud=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var N1,jc,k1,ih,ag,A1,P1,R1;(function(){var t,e=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ud=="object"&&Ud];for(var _=0;_<h.length;++_){var E=h[_];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=n(this);function i(h,_){if(_)e:{var E=r;h=h.split(".");for(var A=0;A<h.length-1;A++){var q=h[A];if(!(q in E))break e;E=E[q]}h=h[h.length-1],A=E[h],_=_(A),_!=A&&_!=null&&e(E,h,{configurable:!0,writable:!0,value:_})}}i("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(h){return h||function(_){var E=[],A;for(A in _)Object.prototype.hasOwnProperty.call(_,A)&&E.push([A,_[A]]);return E}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},l=this||self;function d(h){var _=typeof h;return _=="object"&&h!=null||_=="function"}function p(h,_,E){return h.call.apply(h.bind,arguments)}function m(h,_,E){return m=p,m.apply(null,arguments)}function y(h,_){var E=Array.prototype.slice.call(arguments,1);return function(){var A=E.slice();return A.push.apply(A,arguments),h.apply(this,A)}}function v(h,_){function E(){}E.prototype=_.prototype,h.Z=_.prototype,h.prototype=new E,h.prototype.constructor=h,h.Ob=function(A,q,Q){for(var me=Array(arguments.length-2),ze=2;ze<arguments.length;ze++)me[ze-2]=arguments[ze];return _.prototype[q].apply(A,me)}}var x=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function I(h){const _=h.length;if(_>0){const E=Array(_);for(let A=0;A<_;A++)E[A]=h[A];return E}return[]}function k(h,_){for(let A=1;A<arguments.length;A++){const q=arguments[A];var E=typeof q;if(E=E!="object"?E:q?Array.isArray(q)?"array":E:"null",E=="array"||E=="object"&&typeof q.length=="number"){E=h.length||0;const Q=q.length||0;h.length=E+Q;for(let me=0;me<Q;me++)h[E+me]=q[me]}else h.push(q)}}class S{constructor(_,E){this.i=_,this.j=E,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function b(h){l.setTimeout(()=>{throw h},0)}function j(){var h=P;let _=null;return h.g&&(_=h.g,h.g=h.g.next,h.g||(h.h=null),_.next=null),_}class z{constructor(){this.h=this.g=null}add(_,E){const A=W.get();A.set(_,E),this.h?this.h.next=A:this.g=A,this.h=A}}var W=new S(()=>new G,h=>h.reset());class G{constructor(){this.next=this.g=this.h=null}set(_,E){this.h=_,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let J,te=!1,P=new z,N=()=>{const h=Promise.resolve(void 0);J=()=>{h.then(D)}};function D(){for(var h;h=j();){try{h.h.call(h.g)}catch(E){b(E)}var _=W;_.j(h),_.h<100&&(_.h++,h.next=_.g,_.g=h)}te=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(h,_){this.type=h,this.g=this.target=_,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var h=!1,_=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const E=()=>{};l.addEventListener("test",E,_),l.removeEventListener("test",E,_)}catch{}return h})();function R(h){return/^[\s\xa0]*$/.test(h)}function ve(h,_){O.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,_)}v(ve,O),ve.prototype.init=function(h,_){const E=this.type=h.type,A=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=_,_=h.relatedTarget,_||(E=="mouseover"?_=h.fromElement:E=="mouseout"&&(_=h.toElement)),this.relatedTarget=_,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&ve.Z.h.call(this)},ve.prototype.h=function(){ve.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var ke="closure_listenable_"+(Math.random()*1e6|0),ae=0;function X(h,_,E,A,q){this.listener=h,this.proxy=null,this.src=_,this.type=E,this.capture=!!A,this.ha=q,this.key=++ae,this.da=this.fa=!1}function L(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function ue(h,_,E){for(const A in h)_.call(E,h[A],A,h)}function ie(h,_){for(const E in h)_.call(void 0,h[E],E,h)}function B(h){const _={};for(const E in h)_[E]=h[E];return _}const Z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function le(h,_){let E,A;for(let q=1;q<arguments.length;q++){A=arguments[q];for(E in A)h[E]=A[E];for(let Q=0;Q<Z.length;Q++)E=Z[Q],Object.prototype.hasOwnProperty.call(A,E)&&(h[E]=A[E])}}function fe(h){this.src=h,this.g={},this.h=0}fe.prototype.add=function(h,_,E,A,q){const Q=h.toString();h=this.g[Q],h||(h=this.g[Q]=[],this.h++);const me=Ce(h,_,A,q);return me>-1?(_=h[me],E||(_.fa=!1)):(_=new X(_,this.src,Q,!!A,q),_.fa=E,h.push(_)),_};function ge(h,_){const E=_.type;if(E in h.g){var A=h.g[E],q=Array.prototype.indexOf.call(A,_,void 0),Q;(Q=q>=0)&&Array.prototype.splice.call(A,q,1),Q&&(L(_),h.g[E].length==0&&(delete h.g[E],h.h--))}}function Ce(h,_,E,A){for(let q=0;q<h.length;++q){const Q=h[q];if(!Q.da&&Q.listener==_&&Q.capture==!!E&&Q.ha==A)return q}return-1}var re="closure_lm_"+(Math.random()*1e6|0),pe={};function Ae(h,_,E,A,q){if(Array.isArray(_)){for(let Q=0;Q<_.length;Q++)Ae(h,_[Q],E,A,q);return null}return E=di(E),h&&h[ke]?h.J(_,E,d(A)?!!A.capture:!1,q):je(h,_,E,!1,A,q)}function je(h,_,E,A,q,Q){if(!_)throw Error("Invalid event type");const me=d(q)?!!q.capture:!!q;let ze=Gn(h);if(ze||(h[re]=ze=new fe(h)),E=ze.add(_,E,A,me,Q),E.proxy)return E;if(A=$e(),E.proxy=A,A.src=h,A.listener=E,h.addEventListener)U||(q=me),q===void 0&&(q=!1),h.addEventListener(_.toString(),A,q);else if(h.attachEvent)h.attachEvent(Zt(_.toString()),A);else if(h.addListener&&h.removeListener)h.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return E}function $e(){function h(E){return _.call(h.src,h.listener,E)}const _=Gr;return h}function qe(h,_,E,A,q){if(Array.isArray(_))for(var Q=0;Q<_.length;Q++)qe(h,_[Q],E,A,q);else A=d(A)?!!A.capture:!!A,E=di(E),h&&h[ke]?(h=h.i,Q=String(_).toString(),Q in h.g&&(_=h.g[Q],E=Ce(_,E,A,q),E>-1&&(L(_[E]),Array.prototype.splice.call(_,E,1),_.length==0&&(delete h.g[Q],h.h--)))):h&&(h=Gn(h))&&(_=h.g[_.toString()],h=-1,_&&(h=Ce(_,E,A,q)),(E=h>-1?_[h]:null)&&St(E))}function St(h){if(typeof h!="number"&&h&&!h.da){var _=h.src;if(_&&_[ke])ge(_.i,h);else{var E=h.type,A=h.proxy;_.removeEventListener?_.removeEventListener(E,A,h.capture):_.detachEvent?_.detachEvent(Zt(E),A):_.addListener&&_.removeListener&&_.removeListener(A),(E=Gn(_))?(ge(E,h),E.h==0&&(E.src=null,_[re]=null)):L(h)}}}function Zt(h){return h in pe?pe[h]:pe[h]="on"+h}function Gr(h,_){if(h.da)h=!0;else{_=new ve(_,this);const E=h.listener,A=h.ha||h.src;h.fa&&St(h),h=E.call(A,_)}return h}function Gn(h){return h=h[re],h instanceof fe?h:null}var an="__closure_events_fn_"+(Math.random()*1e9>>>0);function di(h){return typeof h=="function"?h:(h[an]||(h[an]=function(_){return h.handleEvent(_)}),h[an])}function lt(){V.call(this),this.i=new fe(this),this.M=this,this.G=null}v(lt,V),lt.prototype[ke]=!0,lt.prototype.removeEventListener=function(h,_,E,A){qe(this,h,_,E,A)};function It(h,_){var E,A=h.G;if(A)for(E=[];A;A=A.G)E.push(A);if(h=h.M,A=_.type||_,typeof _=="string")_=new O(_,h);else if(_ instanceof O)_.target=_.target||h;else{var q=_;_=new O(A,h),le(_,q)}q=!0;let Q,me;if(E)for(me=E.length-1;me>=0;me--)Q=_.g=E[me],q=Yn(Q,A,!0,_)&&q;if(Q=_.g=h,q=Yn(Q,A,!0,_)&&q,q=Yn(Q,A,!1,_)&&q,E)for(me=0;me<E.length;me++)Q=_.g=E[me],q=Yn(Q,A,!1,_)&&q}lt.prototype.N=function(){if(lt.Z.N.call(this),this.i){var h=this.i;for(const _ in h.g){const E=h.g[_];for(let A=0;A<E.length;A++)L(E[A]);delete h.g[_],h.h--}}this.G=null},lt.prototype.J=function(h,_,E,A){return this.i.add(String(h),_,!1,E,A)},lt.prototype.K=function(h,_,E,A){return this.i.add(String(h),_,!0,E,A)};function Yn(h,_,E,A){if(_=h.i.g[String(_)],!_)return!0;_=_.concat();let q=!0;for(let Q=0;Q<_.length;++Q){const me=_[Q];if(me&&!me.da&&me.capture==E){const ze=me.listener,Mt=me.ha||me.src;me.fa&&ge(h.i,me),q=ze.call(Mt,A)!==!1&&q}}return q&&!A.defaultPrevented}function Kt(h,_){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=m(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:l.setTimeout(h,_||0)}function dr(h){h.g=Kt(()=>{h.g=null,h.i&&(h.i=!1,dr(h))},h.l);const _=h.h;h.h=null,h.m.apply(null,_)}class wa extends V{constructor(_,E){super(),this.m=_,this.l=E,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:dr(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Yr(h){V.call(this),this.h=h,this.g={}}v(Yr,V);var Qr=[];function hi(h){ue(h.g,function(_,E){this.g.hasOwnProperty(E)&&St(_)},h),h.g={}}Yr.prototype.N=function(){Yr.Z.N.call(this),hi(this)},Yr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Tr=l.JSON.stringify,fi=l.JSON.parse,jn=class{stringify(h){return l.JSON.stringify(h,void 0)}parse(h){return l.JSON.parse(h,void 0)}};function Sr(){}function Ir(){}var Xr={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function pi(){O.call(this,"d")}v(pi,O);function mi(){O.call(this,"c")}v(mi,O);var Mn={},gi=null;function hr(){return gi=gi||new lt}Mn.Ia="serverreachability";function Nn(h){O.call(this,Mn.Ia,h)}v(Nn,O);function Cr(h){const _=hr();It(_,new Nn(_))}Mn.STAT_EVENT="statevent";function Nr(h,_){O.call(this,Mn.STAT_EVENT,h),this.stat=_}v(Nr,O);function yt(h){const _=hr();It(_,new Nr(_,h))}Mn.Ja="timingevent";function vi(h,_){O.call(this,Mn.Ja,h),this.size=_}v(vi,O);function Me(h,_){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){h()},_)}function ht(){this.g=!0}ht.prototype.ua=function(){this.g=!1};function jt(h,_,E,A,q,Q){h.info(function(){if(h.g)if(Q){var me="",ze=Q.split("&");for(let ut=0;ut<ze.length;ut++){var Mt=ze[ut].split("=");if(Mt.length>1){const zt=Mt[0];Mt=Mt[1];const nr=zt.split("_");me=nr.length>=2&&nr[1]=="type"?me+(zt+"="+Mt+"&"):me+(zt+"=redacted&")}}}else me=null;else me=Q;return"XMLHTTP REQ ("+A+") [attempt "+q+"]: "+_+`
`+E+`
`+me})}function en(h,_,E,A,q,Q,me){h.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+q+"]: "+_+`
`+E+`
`+Q+" "+me})}function kn(h,_,E,A){h.info(function(){return"XMLHTTP TEXT ("+_+"): "+Ft(h,E)+(A?" "+A:"")})}function Pt(h,_){h.info(function(){return"TIMEOUT: "+_})}ht.prototype.info=function(){};function Ft(h,_){if(!h.g)return _;if(!_)return null;try{const Q=JSON.parse(_);if(Q){for(h=0;h<Q.length;h++)if(Array.isArray(Q[h])){var E=Q[h];if(!(E.length<2)){var A=E[1];if(Array.isArray(A)&&!(A.length<1)){var q=A[0];if(q!="noop"&&q!="stop"&&q!="close")for(let me=1;me<A.length;me++)A[me]=""}}}}return Tr(Q)}catch{return _}}var Qn={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ut={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},vn;function fr(){}v(fr,Sr),fr.prototype.g=function(){return new XMLHttpRequest},vn=new fr;function tn(h){return encodeURIComponent(String(h))}function go(h){var _=1;h=h.split(":");const E=[];for(;_>0&&h.length;)E.push(h.shift()),_--;return h.length&&E.push(h.join(":")),E}function pr(h,_,E,A){this.j=h,this.i=_,this.l=E,this.S=A||1,this.V=new Yr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Pu}function Pu(){this.i=null,this.g="",this.h=!1}var Ru={},zl={};function kr(h,_,E){h.M=1,h.A=Ls(mr(_)),h.u=E,h.R=!0,Bl(h,null)}function Bl(h,_){h.F=Date.now(),vo(h),h.B=mr(h.A);var E=h.B,A=h.S;Array.isArray(A)||(A=[String(A)]),Jl(E.i,"t",A),h.C=0,E=h.j.L,h.h=new Pu,h.g=Bu(h.j,E?_:null,!h.u),h.P>0&&(h.O=new wa(m(h.Y,h,h.g),h.P)),_=h.V,E=h.g,A=h.ba;var q="readystatechange";Array.isArray(q)||(q&&(Qr[0]=q.toString()),q=Qr);for(let Q=0;Q<q.length;Q++){const me=Ae(E,q[Q],A||_.handleEvent,!1,_.h||_);if(!me)break;_.g[me.key]=me}_=h.J?B(h.J):{},h.u?(h.v||(h.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,_)):(h.v="GET",h.g.ea(h.B,h.v,null,_)),Cr(),jt(h.i,h.v,h.B,h.l,h.S,h.u)}pr.prototype.ba=function(h){h=h.target;const _=this.O;_&&ss(h)==3?_.j():this.Y(h)},pr.prototype.Y=function(h){try{if(h==this.g)e:{const ze=ss(this.g),Mt=this.g.ya(),ut=this.g.ca();if(!(ze<3)&&(ze!=3||this.g&&(this.h.h||this.g.la()||Uu(this.g)))){this.K||ze!=4||Mt==7||(Mt==8||ut<=0?Cr(3):Cr(2)),_a(this);var _=this.g.ca();this.X=_;var E=Du(this);if(this.o=_==200,en(this.i,this.v,this.B,this.l,this.S,ze,_),this.o){if(this.U&&!this.L){t:{if(this.g){var A,q=this.g;if((A=q.g?q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(A)){var Q=A;break t}}Q=null}if(h=Q)kn(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,wt(this,h);else{this.o=!1,this.m=3,yt(12),Os(this),yo(this);break e}}if(this.R){h=!0;let zt;for(;!this.K&&this.C<E.length;)if(zt=Mu(this,E),zt==zl){ze==4&&(this.m=4,yt(14),h=!1),kn(this.i,this.l,null,"[Incomplete Response]");break}else if(zt==Ru){this.m=4,yt(15),kn(this.i,this.l,E,"[Invalid Chunk]"),h=!1;break}else kn(this.i,this.l,zt,null),wt(this,zt);if(ju(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ze!=4||E.length!=0||this.h.h||(this.m=1,yt(16),h=!1),this.o=this.o&&h,!h)kn(this.i,this.l,E,"[Invalid Chunked Response]"),Os(this),yo(this);else if(E.length>0&&!this.W){this.W=!0;var me=this.j;me.g==this&&me.aa&&!me.P&&(me.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),Co(me),me.P=!0,yt(11))}}else kn(this.i,this.l,E,null),wt(this,E);ze==4&&Os(this),this.o&&!this.K&&(ze==4?Aa(this.j,this):(this.o=!1,vo(this)))}else ec(this.g),_==400&&E.indexOf("Unknown SID")>0?(this.m=3,yt(12)):(this.m=0,yt(13)),Os(this),yo(this)}}}catch{}finally{}};function Du(h){if(!ju(h))return h.g.la();const _=Uu(h.g);if(_==="")return"";let E="";const A=_.length,q=ss(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return Os(h),yo(h),"";h.h.i=new l.TextDecoder}for(let Q=0;Q<A;Q++)h.h.h=!0,E+=h.h.i.decode(_[Q],{stream:!(q&&Q==A-1)});return _.length=0,h.h.g+=E,h.C=0,h.h.g}function ju(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function Mu(h,_){var E=h.C,A=_.indexOf(`
`,E);return A==-1?zl:(E=Number(_.substring(E,A)),isNaN(E)?Ru:(A+=1,A+E>_.length?zl:(_=_.slice(A,A+E),h.C=A+E,_)))}pr.prototype.cancel=function(){this.K=!0,Os(this)};function vo(h){h.T=Date.now()+h.H,$l(h,h.H)}function $l(h,_){if(h.D!=null)throw Error("WatchDog timer not null");h.D=Me(m(h.aa,h),_)}function _a(h){h.D&&(l.clearTimeout(h.D),h.D=null)}pr.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(Pt(this.i,this.B),this.M!=2&&(Cr(),yt(17)),Os(this),this.m=2,yo(this)):$l(this,this.T-h)};function yo(h){h.j.I==0||h.K||Aa(h.j,h)}function Os(h){_a(h);var _=h.O;_&&typeof _.dispose=="function"&&_.dispose(),h.O=null,hi(h.V),h.g&&(_=h.g,h.g=null,_.abort(),_.dispose())}function wt(h,_){try{var E=h.j;if(E.I!=0&&(E.g==h||Hl(E.h,h))){if(!h.L&&Hl(E.h,h)&&E.I==3){try{var A=E.Ba.g.parse(_)}catch{A=null}if(Array.isArray(A)&&A.length==3){var q=A;if(q[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<h.F)ka(E),er(E);else break e;as(E),yt(18)}}else E.xa=q[1],0<E.xa-E.K&&q[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=Me(m(E.Va,E),6e3));wo(E.h)<=1&&E.ta&&(E.ta=void 0)}else tr(E,11)}else if((h.L||E.g==h)&&ka(E),!R(_))for(q=E.Ba.g.parse(_),_=0;_<q.length;_++){let ut=q[_];const zt=ut[0];if(!(zt<=E.K))if(E.K=zt,ut=ut[1],E.I==2)if(ut[0]=="c"){E.M=ut[1],E.ba=ut[2];const nr=ut[3];nr!=null&&(E.ka=nr,E.j.info("VER="+E.ka));const Bs=ut[4];Bs!=null&&(E.za=Bs,E.j.info("SVER="+E.za));const ls=ut[5];ls!=null&&typeof ls=="number"&&ls>0&&(A=1.5*ls,E.O=A,E.j.info("backChannelRequestTimeoutMs_="+A)),A=E;const cs=h.g;if(cs){const Da=cs.g?cs.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Da){var Q=A.h;Q.g||Da.indexOf("spdy")==-1&&Da.indexOf("quic")==-1&&Da.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(Ea(Q,Q.h),Q.h=null))}if(A.G){const rc=cs.g?cs.g.getResponseHeader("X-HTTP-Session-Id"):null;rc&&(A.wa=rc,ot(A.J,A.G,rc))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-h.F,E.j.info("Handshake RTT: "+E.T+"ms")),A=E;var me=h;if(A.na=nc(A,A.L?A.ba:null,A.W),me.L){_o(A.h,me);var ze=me,Mt=A.O;Mt&&(ze.H=Mt),ze.D&&(_a(ze),vo(ze)),A.g=me}else yn(A);E.i.length>0&&zs(E)}else ut[0]!="stop"&&ut[0]!="close"||tr(E,7);else E.I==3&&(ut[0]=="stop"||ut[0]=="close"?ut[0]=="stop"?tr(E,7):Ca(E):ut[0]!="noop"&&E.l&&E.l.qa(ut),E.A=0)}}Cr(4)}catch{}}var Ff=class{constructor(h,_){this.g=h,this.map=_}};function xa(h){this.l=h||10,l.PerformanceNavigationTiming?(h=l.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Wl(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function wo(h){return h.h?1:h.g?h.g.size:0}function Hl(h,_){return h.h?h.h==_:h.g?h.g.has(_):!1}function Ea(h,_){h.g?h.g.add(_):h.h=_}function _o(h,_){h.h&&h.h==_?h.h=null:h.g&&h.g.has(_)&&h.g.delete(_)}xa.prototype.cancel=function(){if(this.i=Xn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Xn(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let _=h.i;for(const E of h.g.values())_=_.concat(E.G);return _}return I(h.i)}var Ou=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Jn(h,_){if(h){h=h.split("&");for(let E=0;E<h.length;E++){const A=h[E].indexOf("=");let q,Q=null;A>=0?(q=h[E].substring(0,A),Q=h[E].substring(A+1)):q=h[E],_(q,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function Jr(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;h instanceof Jr?(this.l=h.l,xo(this,h.j),this.o=h.o,this.g=h.g,Zr(this,h.u),this.h=h.h,yi(this,Zl(h.i)),this.m=h.m):h&&(_=String(h).match(Ou))?(this.l=!1,xo(this,_[1]||"",!0),this.o=Eo(_[2]||""),this.g=Eo(_[3]||"",!0),Zr(this,_[4]),this.h=Eo(_[5]||"",!0),yi(this,_[6]||"",!0),this.m=Eo(_[7]||"")):(this.l=!1,this.i=new Ze(null,this.l))}Jr.prototype.toString=function(){const h=[];var _=this.j;_&&h.push(bo(_,Kl,!0),":");var E=this.g;return(E||_=="file")&&(h.push("//"),(_=this.o)&&h.push(bo(_,Kl,!0),"@"),h.push(tn(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&h.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&h.push("/"),h.push(bo(E,E.charAt(0)=="/"?To:Gl,!0))),(E=this.i.toString())&&h.push("?",E),(E=this.m)&&h.push("#",bo(E,Yl)),h.join("")},Jr.prototype.resolve=function(h){const _=mr(this);let E=!!h.j;E?xo(_,h.j):E=!!h.o,E?_.o=h.o:E=!!h.g,E?_.g=h.g:E=h.u!=null;var A=h.h;if(E)Zr(_,h.u);else if(E=!!h.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var q=_.h.lastIndexOf("/");q!=-1&&(A=_.h.slice(0,q+1)+A)}if(q=A,q==".."||q==".")A="";else if(q.indexOf("./")!=-1||q.indexOf("/.")!=-1){A=q.lastIndexOf("/",0)==0,q=q.split("/");const Q=[];for(let me=0;me<q.length;){const ze=q[me++];ze=="."?A&&me==q.length&&Q.push(""):ze==".."?((Q.length>1||Q.length==1&&Q[0]!="")&&Q.pop(),A&&me==q.length&&Q.push("")):(Q.push(ze),A=!0)}A=Q.join("/")}else A=q}return E?_.h=A:E=h.i.toString()!=="",E?yi(_,Zl(h.i)):E=!!h.m,E&&(_.m=h.m),_};function mr(h){return new Jr(h)}function xo(h,_,E){h.j=E?Eo(_,!0):_,h.j&&(h.j=h.j.replace(/:$/,""))}function Zr(h,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);h.u=_}else h.u=null}function yi(h,_,E){_ instanceof Ze?(h.i=_,Ta(h.i,h.l)):(E||(_=bo(_,Uf)),h.i=new Ze(_,h.l))}function ot(h,_,E){h.i.set(_,E)}function Ls(h){return ot(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Eo(h,_){return h?_?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function bo(h,_,E){return typeof h=="string"?(h=encodeURI(h).replace(_,ql),E&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function ql(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Kl=/[#\/\?@]/g,Gl=/[#\?:]/g,To=/[#\?]/g,Uf=/[#\?@]/g,Yl=/#/g;function Ze(h,_){this.h=this.g=null,this.i=h||null,this.j=!!_}function es(h){h.g||(h.g=new Map,h.h=0,h.i&&Jn(h.i,function(_,E){h.add(decodeURIComponent(_.replace(/\+/g," ")),E)}))}t=Ze.prototype,t.add=function(h,_){es(this),this.i=null,h=ts(this,h);let E=this.g.get(h);return E||this.g.set(h,E=[]),E.push(_),this.h+=1,this};function Ql(h,_){es(h),_=ts(h,_),h.g.has(_)&&(h.i=null,h.h-=h.g.get(_).length,h.g.delete(_))}function ba(h,_){return es(h),_=ts(h,_),h.g.has(_)}t.forEach=function(h,_){es(this),this.g.forEach(function(E,A){E.forEach(function(q){h.call(_,q,A,this)},this)},this)};function Xl(h,_){es(h);let E=[];if(typeof _=="string")ba(h,_)&&(E=E.concat(h.g.get(ts(h,_))));else for(h=Array.from(h.g.values()),_=0;_<h.length;_++)E=E.concat(h[_]);return E}t.set=function(h,_){return es(this),this.i=null,h=ts(this,h),ba(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[_]),this.h+=1,this},t.get=function(h,_){return h?(h=Xl(this,h),h.length>0?String(h[0]):_):_};function Jl(h,_,E){Ql(h,_),E.length>0&&(h.i=null,h.g.set(ts(h,_),I(E)),h.h+=E.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],_=Array.from(this.g.keys());for(let A=0;A<_.length;A++){var E=_[A];const q=tn(E);E=Xl(this,E);for(let Q=0;Q<E.length;Q++){let me=q;E[Q]!==""&&(me+="="+tn(E[Q])),h.push(me)}}return this.i=h.join("&")};function Zl(h){const _=new Ze;return _.i=h.i,h.g&&(_.g=new Map(h.g),_.h=h.h),_}function ts(h,_){return _=String(_),h.j&&(_=_.toLowerCase()),_}function Ta(h,_){_&&!h.j&&(es(h),h.i=null,h.g.forEach(function(E,A){const q=A.toLowerCase();A!=q&&(Ql(this,A),Jl(this,q,E))},h)),h.j=_}function ns(h,_){const E=new ht;if(l.Image){const A=new Image;A.onload=y(ln,E,"TestLoadImage: loaded",!0,_,A),A.onerror=y(ln,E,"TestLoadImage: error",!1,_,A),A.onabort=y(ln,E,"TestLoadImage: abort",!1,_,A),A.ontimeout=y(ln,E,"TestLoadImage: timeout",!1,_,A),l.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=h}else _(!1)}function rs(h,_){const E=new ht,A=new AbortController,q=setTimeout(()=>{A.abort(),ln(E,"TestPingServer: timeout",!1,_)},1e4);fetch(h,{signal:A.signal}).then(Q=>{clearTimeout(q),Q.ok?ln(E,"TestPingServer: ok",!0,_):ln(E,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(q),ln(E,"TestPingServer: error",!1,_)})}function ln(h,_,E,A,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),A(E)}catch{}}function So(){this.g=new jn}function Vs(h){this.i=h.Sb||null,this.h=h.ab||!1}v(Vs,Sr),Vs.prototype.g=function(){return new Zn(this.i,this.h)};function Zn(h,_){lt.call(this),this.H=h,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}v(Zn,lt),t=Zn.prototype,t.open=function(h,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=_,this.readyState=1,Ar(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(_.body=h),(this.H||l).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,wi(this)),this.readyState=0},t.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Ar(this)),this.g&&(this.readyState=3,Ar(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Lu(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function Lu(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}t.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var _=h.value?h.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!h.done}))&&(this.response=this.responseText+=_)}h.done?wi(this):Ar(this),this.readyState==3&&Lu(this)}},t.Oa=function(h){this.g&&(this.response=this.responseText=h,wi(this))},t.Na=function(h){this.g&&(this.response=h,wi(this))},t.ga=function(){this.g&&wi(this)};function wi(h){h.readyState=4,h.l=null,h.j=null,h.B=null,Ar(h)}t.setRequestHeader=function(h,_){this.A.append(h,_)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],_=this.h.entries();for(var E=_.next();!E.done;)E=E.value,h.push(E[0]+": "+E[1]),E=_.next();return h.join(`\r
`)};function Ar(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Zn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Vu(h){let _="";return ue(h,function(E,A){_+=A,_+=":",_+=E,_+=`\r
`}),_}function Sa(h,_,E){e:{for(A in E){var A=!1;break e}A=!0}A||(E=Vu(E),typeof h=="string"?E!=null&&tn(E):ot(h,_,E))}function ft(h){lt.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}v(ft,lt);var Fu=/^https?$/i,zf=["POST","PUT"];t=ft.prototype,t.Fa=function(h){this.H=h},t.ea=function(h,_,E,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);_=_?_.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():vn.g(),this.g.onreadystatechange=x(m(this.Ca,this));try{this.B=!0,this.g.open(_,String(h),!0),this.B=!1}catch(Q){_i(this,Q);return}if(h=E||"",E=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var q in A)E.set(q,A[q]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const Q of A.keys())E.set(Q,A.get(Q));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(E.keys()).find(Q=>Q.toLowerCase()=="content-type"),q=l.FormData&&h instanceof l.FormData,!(Array.prototype.indexOf.call(zf,_,void 0)>=0)||A||q||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,me]of E)this.g.setRequestHeader(Q,me);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(Q){_i(this,Q)}};function _i(h,_){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=_,h.o=5,xi(h),Us(h)}function xi(h){h.A||(h.A=!0,It(h,"complete"),It(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,It(this,"complete"),It(this,"abort"),Us(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Us(this,!0)),ft.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Fs(this):this.Xa())},t.Xa=function(){Fs(this)};function Fs(h){if(h.h&&typeof a<"u"){if(h.v&&ss(h)==4)setTimeout(h.Ca.bind(h),0);else if(It(h,"readystatechange"),ss(h)==4){h.h=!1;try{const Q=h.ca();e:switch(Q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var E;if(!(E=_)){var A;if(A=Q===0){let me=String(h.D).match(Ou)[1]||null;!me&&l.self&&l.self.location&&(me=l.self.location.protocol.slice(0,-1)),A=!Fu.test(me?me.toLowerCase():"")}E=A}if(E)It(h,"complete"),It(h,"success");else{h.o=6;try{var q=ss(h)>2?h.g.statusText:""}catch{q=""}h.l=q+" ["+h.ca()+"]",xi(h)}}finally{Us(h)}}}}function Us(h,_){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const E=h.g;h.g=null,_||It(h,"ready");try{E.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function ss(h){return h.g?h.g.readyState:0}t.ca=function(){try{return ss(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(h){if(this.g){var _=this.g.responseText;return h&&_.indexOf(h)==0&&(_=_.substring(h.length)),fi(_)}};function Uu(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function ec(h){const _={};h=(h.g&&ss(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<h.length;A++){if(R(h[A]))continue;var E=go(h[A]);const q=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const Q=_[q]||[];_[q]=Q,Q.push(E)}ie(_,function(A){return A.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function is(h,_,E){return E&&E.internalChannelParams&&E.internalChannelParams[h]||_}function Ia(h){this.za=0,this.i=[],this.j=new ht,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=is("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=is("baseRetryDelayMs",5e3,h),this.Za=is("retryDelaySeedMs",1e4,h),this.Ta=is("forwardChannelMaxRetries",2,h),this.va=is("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new xa(h&&h.concurrentRequestLimit),this.Ba=new So,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Ia.prototype,t.ka=8,t.I=1,t.connect=function(h,_,E,A){yt(0),this.W=h,this.H=_||{},E&&A!==void 0&&(this.H.OSID=E,this.H.OAID=A),this.F=this.X,this.J=nc(this,null,this.W),zs(this)};function Ca(h){if(Na(h),h.I==3){var _=h.V++,E=mr(h.J);if(ot(E,"SID",h.M),ot(E,"RID",_),ot(E,"TYPE","terminate"),os(h,E),_=new pr(h,h.j,_),_.M=2,_.A=Ls(mr(E)),E=!1,l.navigator&&l.navigator.sendBeacon)try{E=l.navigator.sendBeacon(_.A.toString(),"")}catch{}!E&&l.Image&&(new Image().src=_.A,E=!0),E||(_.g=Bu(_.j,null),_.g.ea(_.A)),_.F=Date.now(),vo(_)}No(h)}function er(h){h.g&&(Co(h),h.g.cancel(),h.g=null)}function Na(h){er(h),h.v&&(l.clearTimeout(h.v),h.v=null),ka(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&l.clearTimeout(h.m),h.m=null)}function zs(h){if(!Wl(h.h)&&!h.m){h.m=!0;var _=h.Ea;J||N(),te||(J(),te=!0),P.add(_,h),h.D=0}}function zu(h,_){return wo(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=_.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=Me(m(h.Ea,h,_),Pa(h,h.D)),h.D++,!0)}t.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const q=new pr(this,this.j,h);let Q=this.o;if(this.U&&(Q?(Q=B(Q),le(Q,this.U)):Q=this.U),this.u!==null||this.R||(q.J=Q,Q=null),this.S)e:{for(var _=0,E=0;E<this.i.length;E++){t:{var A=this.i[E];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(_+=A,_>4096){_=E;break e}if(_===4096||E===this.i.length-1){_=E+1;break e}}_=1e3}else _=1e3;_=tc(this,q,_),E=mr(this.J),ot(E,"RID",h),ot(E,"CVER",22),this.G&&ot(E,"X-HTTP-Session-Id",this.G),os(this,E),Q&&(this.R?_="headers="+tn(Vu(Q))+"&"+_:this.u&&Sa(E,this.u,Q)),Ea(this.h,q),this.Ra&&ot(E,"TYPE","init"),this.S?(ot(E,"$req",_),ot(E,"SID","null"),q.U=!0,kr(q,E,null)):kr(q,E,_),this.I=2}}else this.I==3&&(h?Io(this,h):this.i.length==0||Wl(this.h)||Io(this))};function Io(h,_){var E;_?E=_.l:E=h.V++;const A=mr(h.J);ot(A,"SID",h.M),ot(A,"RID",E),ot(A,"AID",h.K),os(h,A),h.u&&h.o&&Sa(A,h.u,h.o),E=new pr(h,h.j,E,h.D+1),h.u===null&&(E.J=h.o),_&&(h.i=_.G.concat(h.i)),_=tc(h,E,1e3),E.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),Ea(h.h,E),kr(E,A,_)}function os(h,_){h.H&&ue(h.H,function(E,A){ot(_,A,E)}),h.l&&ue({},function(E,A){ot(_,A,E)})}function tc(h,_,E){E=Math.min(h.i.length,E);const A=h.l?m(h.l.Ka,h.l,h):null;e:{var q=h.i;let ze=-1;for(;;){const Mt=["count="+E];ze==-1?E>0?(ze=q[0].g,Mt.push("ofs="+ze)):ze=0:Mt.push("ofs="+ze);let ut=!0;for(let zt=0;zt<E;zt++){var Q=q[zt].g;const nr=q[zt].map;if(Q-=ze,Q<0)ze=Math.max(0,q[zt].g-100),ut=!1;else try{Q="req"+Q+"_"||"";try{var me=nr instanceof Map?nr:Object.entries(nr);for(const[Bs,ls]of me){let cs=ls;d(ls)&&(cs=Tr(ls)),Mt.push(Q+Bs+"="+encodeURIComponent(cs))}}catch(Bs){throw Mt.push(Q+"type="+encodeURIComponent("_badmap")),Bs}}catch{A&&A(nr)}}if(ut){me=Mt.join("&");break e}}me=void 0}return h=h.i.splice(0,E),_.G=h,me}function yn(h){if(!h.g&&!h.v){h.Y=1;var _=h.Da;J||N(),te||(J(),te=!0),P.add(_,h),h.A=0}}function as(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=Me(m(h.Da,h),Pa(h,h.A)),h.A++,!0)}t.Da=function(){if(this.v=null,Ei(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=Me(m(this.Wa,this),h)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,yt(10),er(this),Ei(this))};function Co(h){h.B!=null&&(l.clearTimeout(h.B),h.B=null)}function Ei(h){h.g=new pr(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var _=mr(h.na);ot(_,"RID","rpc"),ot(_,"SID",h.M),ot(_,"AID",h.K),ot(_,"CI",h.F?"0":"1"),!h.F&&h.ia&&ot(_,"TO",h.ia),ot(_,"TYPE","xmlhttp"),os(h,_),h.u&&h.o&&Sa(_,h.u,h.o),h.O&&(h.g.H=h.O);var E=h.g;h=h.ba,E.M=1,E.A=Ls(mr(_)),E.u=null,E.R=!0,Bl(E,h)}t.Va=function(){this.C!=null&&(this.C=null,er(this),as(this),yt(19))};function ka(h){h.C!=null&&(l.clearTimeout(h.C),h.C=null)}function Aa(h,_){var E=null;if(h.g==_){ka(h),Co(h),h.g=null;var A=2}else if(Hl(h.h,_))E=_.G,_o(h.h,_),A=1;else return;if(h.I!=0){if(_.o)if(A==1){E=_.u?_.u.length:0,_=Date.now()-_.F;var q=h.D;A=hr(),It(A,new vi(A,E)),zs(h)}else yn(h);else if(q=_.m,q==3||q==0&&_.X>0||!(A==1&&zu(h,_)||A==2&&as(h)))switch(E&&E.length>0&&(_=h.h,_.i=_.i.concat(E)),q){case 1:tr(h,5);break;case 4:tr(h,10);break;case 3:tr(h,6);break;default:tr(h,2)}}}function Pa(h,_){let E=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(E*=2),E*_}function tr(h,_){if(h.j.info("Error code "+_),_==2){var E=m(h.bb,h),A=h.Ua;const q=!A;A=new Jr(A||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||xo(A,"https"),Ls(A),q?ns(A.toString(),E):rs(A.toString(),E)}else yt(2);h.I=0,h.l&&h.l.pa(_),No(h),Na(h)}t.bb=function(h){h?(this.j.info("Successfully pinged google.com"),yt(2)):(this.j.info("Failed to ping google.com"),yt(1))};function No(h){if(h.I=0,h.ja=[],h.l){const _=Xn(h.h);(_.length!=0||h.i.length!=0)&&(k(h.ja,_),k(h.ja,h.i),h.h.i.length=0,I(h.i),h.i.length=0),h.l.oa()}}function nc(h,_,E){var A=E instanceof Jr?mr(E):new Jr(E);if(A.g!="")_&&(A.g=_+"."+A.g),Zr(A,A.u);else{var q=l.location;A=q.protocol,_=_?_+"."+q.hostname:q.hostname,q=+q.port;const Q=new Jr(null);A&&xo(Q,A),_&&(Q.g=_),q&&Zr(Q,q),E&&(Q.h=E),A=Q}return E=h.G,_=h.wa,E&&_&&ot(A,E,_),ot(A,"VER",h.ka),os(h,A),A}function Bu(h,_,E){if(_&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=h.Aa&&!h.ma?new ft(new Vs({ab:E})):new ft(h.ma),_.Fa(h.L),_}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function $u(){}t=$u.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Ra(){}Ra.prototype.g=function(h,_){return new cn(h,_)};function cn(h,_){lt.call(this),this.g=new Ia(_),this.l=h,this.h=_&&_.messageUrlParams||null,h=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(h?h["X-WebChannel-Content-Type"]=_.messageContentType:h={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(h?h["X-WebChannel-Client-Profile"]=_.sa:h={"X-WebChannel-Client-Profile":_.sa}),this.g.U=h,(h=_&&_.Qb)&&!R(h)&&(this.g.u=h),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!R(_)&&(this.g.G=_,h=this.h,h!==null&&_ in h&&(h=this.h,_ in h&&delete h[_])),this.j=new bi(this)}v(cn,lt),cn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},cn.prototype.close=function(){Ca(this.g)},cn.prototype.o=function(h){var _=this.g;if(typeof h=="string"){var E={};E.__data__=h,h=E}else this.v&&(E={},E.__data__=Tr(h),h=E);_.i.push(new Ff(_.Ya++,h)),_.I==3&&zs(_)},cn.prototype.N=function(){this.g.l=null,delete this.j,Ca(this.g),delete this.g,cn.Z.N.call(this)};function Wu(h){pi.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var _=h.__sm__;if(_){e:{for(const E in _){h=E;break e}h=void 0}(this.i=h)&&(h=this.i,_=_!==null&&h in _?_[h]:void 0),this.data=_}else this.data=h}v(Wu,pi);function Hu(){mi.call(this),this.status=1}v(Hu,mi);function bi(h){this.g=h}v(bi,$u),bi.prototype.ra=function(){It(this.g,"a")},bi.prototype.qa=function(h){It(this.g,new Wu(h))},bi.prototype.pa=function(h){It(this.g,new Hu)},bi.prototype.oa=function(){It(this.g,"b")},Ra.prototype.createWebChannel=Ra.prototype.g,cn.prototype.send=cn.prototype.o,cn.prototype.open=cn.prototype.m,cn.prototype.close=cn.prototype.close,R1=function(){return new Ra},P1=function(){return hr()},A1=Mn,ag={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Qn.NO_ERROR=0,Qn.TIMEOUT=8,Qn.HTTP_ERROR=6,ih=Qn,Ut.COMPLETE="complete",k1=Ut,Ir.EventType=Xr,Xr.OPEN="a",Xr.CLOSE="b",Xr.ERROR="c",Xr.MESSAGE="d",lt.prototype.listen=lt.prototype.J,jc=Ir,ft.prototype.listenOnce=ft.prototype.K,ft.prototype.getLastError=ft.prototype.Ha,ft.prototype.getLastErrorCode=ft.prototype.ya,ft.prototype.getStatus=ft.prototype.ca,ft.prototype.getResponseJson=ft.prototype.La,ft.prototype.getResponseText=ft.prototype.la,ft.prototype.send=ft.prototype.ea,ft.prototype.setWithCredentials=ft.prototype.Fa,N1=ft}).apply(typeof Ud<"u"?Ud:typeof self<"u"?self:typeof window<"u"?window:{});const S_="@firebase/firestore",I_="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Tn.UNAUTHENTICATED=new Tn(null),Tn.GOOGLE_CREDENTIALS=new Tn("google-credentials-uid"),Tn.FIRST_PARTY=new Tn("first-party-uid"),Tn.MOCK_USER=new Tn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nl="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jo=new Qg("@firebase/firestore");function il(){return Jo.logLevel}function we(t,...e){if(Jo.logLevel<=Qe.DEBUG){const n=e.map(ov);Jo.debug(`Firestore (${Nl}): ${t}`,...n)}}function ai(t,...e){if(Jo.logLevel<=Qe.ERROR){const n=e.map(ov);Jo.error(`Firestore (${Nl}): ${t}`,...n)}}function vl(t,...e){if(Jo.logLevel<=Qe.WARN){const n=e.map(ov);Jo.warn(`Firestore (${Nl}): ${t}`,...n)}}function ov(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Le(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,D1(t,r,n)}function D1(t,e,n){let r=`FIRESTORE (${Nl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw ai(r),new Error(r)}function ct(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||D1(e,i,r)}function Be(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ie extends qr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class RR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Tn.UNAUTHENTICATED)))}shutdown(){}}class DR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class jR{constructor(e){this.t=e,this.currentUser=Tn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ct(this.o===void 0,42304);let r=this.i;const i=p=>this.i!==r?(r=this.i,n(p)):Promise.resolve();let a=new Yi;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Yi,e.enqueueRetryable((()=>i(this.currentUser)))};const l=()=>{const p=a;e.enqueueRetryable((async()=>{await p.promise,await i(this.currentUser)}))},d=p=>{we("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((p=>d(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(we("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Yi)}}),0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(we("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ct(typeof r.accessToken=="string",31837,{l:r}),new j1(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ct(e===null||typeof e=="string",2055,{h:e}),new Tn(e)}}class MR{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Tn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class OR{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new MR(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Tn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class C_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class LR{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ar(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ct(this.o===void 0,3512);const r=a=>{a.error!=null&&we("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.m;return this.m=a.token,we("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>r(a)))};const i=a=>{we("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>i(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):we("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new C_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(ct(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new C_(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VR(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class av{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=VR(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%62))}return r}}function Xe(t,e){return t<e?-1:t>e?1:0}function lg(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),a=e.charAt(r);if(i!==a)return xm(i)===xm(a)?Xe(i,a):xm(i)?1:-1}return Xe(t.length,e.length)}const FR=55296,UR=57343;function xm(t){const e=t.charCodeAt(0);return e>=FR&&e<=UR}function yl(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N_="__name__";class ms{constructor(e,n,r){n===void 0?n=0:n>e.length&&Le(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Le(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ms.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ms?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=ms.compareSegments(e.get(i),n.get(i));if(a!==0)return a}return Xe(e.length,n.length)}static compareSegments(e,n){const r=ms.isNumericId(e),i=ms.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?ms.extractNumericId(e).compare(ms.extractNumericId(n)):lg(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Gi.fromString(e.substring(4,e.length-2))}}class Et extends ms{construct(e,n,r){return new Et(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ie(ne.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new Et(n)}static emptyPath(){return new Et([])}}const zR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class fn extends ms{construct(e,n,r){return new fn(e,n,r)}static isValidIdentifier(e){return zR.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),fn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===N_}static keyField(){return new fn([N_])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new Ie(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;i<e.length;){const d=e[i];if(d==="\\"){if(i+1===e.length)throw new Ie(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[i+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new Ie(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=p,i+=2}else d==="`"?(l=!l,i++):d!=="."||l?(r+=d,i++):(a(),i++)}if(a(),l)throw new Ie(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new fn(n)}static emptyPath(){return new fn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{constructor(e){this.path=e}static fromPath(e){return new Pe(Et.fromString(e))}static fromName(e){return new Pe(Et.fromString(e).popFirst(5))}static empty(){return new Pe(Et.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Et.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Et.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Pe(new Et(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M1(t,e,n){if(!n)throw new Ie(ne.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function BR(t,e,n,r){if(e===!0&&r===!0)throw new Ie(ne.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function k_(t){if(!Pe.isDocumentKey(t))throw new Ie(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function A_(t){if(Pe.isDocumentKey(t))throw new Ie(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function O1(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function lv(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Le(12329,{type:typeof t})}function si(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ie(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=lv(t);throw new Ie(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wt(t,e){const n={typeString:t};return e&&(n.value=e),n}function pu(t,e){if(!O1(t))throw new Ie(ne.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const l=t[r];if(i&&typeof l!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(a!==void 0&&l!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new Ie(ne.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P_=-62135596800,R_=1e6;class bt{static now(){return bt.fromMillis(Date.now())}static fromDate(e){return bt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*R_);return new bt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ie(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ie(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<P_)throw new Ie(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ie(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/R_}_compareTo(e){return this.seconds===e.seconds?Xe(this.nanoseconds,e.nanoseconds):Xe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:bt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(pu(e,bt._jsonSchema))return new bt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-P_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}bt._jsonSchemaVersion="firestore/timestamp/1.0",bt._jsonSchema={type:Wt("string",bt._jsonSchemaVersion),seconds:Wt("number"),nanoseconds:Wt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue{static fromTimestamp(e){return new Ue(e)}static min(){return new Ue(new bt(0,0))}static max(){return new Ue(new bt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yc=-1;function $R(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Ue.fromTimestamp(r===1e9?new bt(n+1,0):new bt(n,r));return new Ji(i,Pe.empty(),e)}function WR(t){return new Ji(t.readTime,t.key,Yc)}class Ji{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ji(Ue.min(),Pe.empty(),Yc)}static max(){return new Ji(Ue.max(),Pe.empty(),Yc)}}function HR(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Pe.comparator(t.documentKey,e.documentKey),n!==0?n:Xe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class KR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kl(t){if(t.code!==ne.FAILED_PRECONDITION||t.message!==qR)throw t;we("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Le(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ee(((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ee?n:ee.resolve(n)}catch(n){return ee.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ee.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ee.reject(n)}static resolve(e){return new ee(((n,r)=>{n(e)}))}static reject(e){return new ee(((n,r)=>{r(e)}))}static waitFor(e){return new ee(((n,r)=>{let i=0,a=0,l=!1;e.forEach((d=>{++i,d.next((()=>{++a,l&&a===i&&n()}),(p=>r(p)))})),l=!0,a===i&&n()}))}static or(e){let n=ee.resolve(!1);for(const r of e)n=n.next((i=>i?ee.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,a)=>{r.push(n.call(this,i,a))})),this.waitFor(r)}static mapArray(e,n){return new ee(((r,i)=>{const a=e.length,l=new Array(a);let d=0;for(let p=0;p<a;p++){const m=p;n(e[m]).next((y=>{l[m]=y,++d,d===a&&r(l)}),(y=>i(y)))}}))}static doWhile(e,n){return new ee(((r,i)=>{const a=()=>{e()===!0?n().next((()=>{a()}),i):r()};a()}))}}function GR(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Al(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}ef.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cv=-1;function tf(t){return t==null}function Th(t){return t===0&&1/t==-1/0}function YR(t){return typeof t=="number"&&Number.isInteger(t)&&!Th(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L1="";function QR(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=D_(e)),e=XR(t.get(n),e);return D_(e)}function XR(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const a=t.charAt(i);switch(a){case"\0":n+="";break;case L1:n+="";break;default:n+=a}}return n}function D_(t){return t+L1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function co(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function V1(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(e,n){this.comparator=e,this.root=n||hn.EMPTY}insert(e,n){return new At(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,hn.BLACK,null,null))}remove(e){return new At(this.comparator,this.root.remove(e,this.comparator).copy(null,null,hn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new zd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new zd(this.root,e,this.comparator,!1)}getReverseIterator(){return new zd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new zd(this.root,e,this.comparator,!0)}}class zd{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class hn{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r??hn.RED,this.left=i??hn.EMPTY,this.right=a??hn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new hn(e??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return hn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return hn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,hn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,hn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Le(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Le(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Le(27949);return e+(this.isRed()?0:1)}}hn.EMPTY=null,hn.RED=!0,hn.BLACK=!1;hn.EMPTY=new class{constructor(){this.size=0}get key(){throw Le(57766)}get value(){throw Le(16141)}get color(){throw Le(16727)}get left(){throw Le(29726)}get right(){throw Le(36894)}copy(e,n,r,i,a){return this}insert(e,n,r){return new hn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.comparator=e,this.data=new At(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new M_(this.data.getIterator())}getIteratorFrom(e){return new M_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Jt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Jt(this.comparator);return n.data=e,n}}class M_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr{constructor(e){this.fields=e,e.sort(fn.comparator)}static empty(){return new lr([])}unionWith(e){let n=new Jt(fn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new lr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return yl(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new F1("Invalid base64 string: "+a):a}})(e);return new gn(n)}static fromUint8Array(e){const n=(function(i){let a="";for(let l=0;l<i.length;++l)a+=String.fromCharCode(i[l]);return a})(e);return new gn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Xe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}gn.EMPTY_BYTE_STRING=new gn("");const JR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zi(t){if(ct(!!t,39018),typeof t=="string"){let e=0;const n=JR.exec(t);if(ct(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Lt(t.seconds),nanos:Lt(t.nanos)}}function Lt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function eo(t){return typeof t=="string"?gn.fromBase64String(t):gn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U1="server_timestamp",z1="__type__",B1="__previous_value__",$1="__local_write_time__";function uv(t){return(t?.mapValue?.fields||{})[z1]?.stringValue===U1}function nf(t){const e=t.mapValue.fields[B1];return uv(e)?nf(e):e}function Qc(t){const e=Zi(t.mapValue.fields[$1].timestampValue);return new bt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{constructor(e,n,r,i,a,l,d,p,m,y){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=m,this.isUsingEmulator=y}}const Sh="(default)";class Xc{constructor(e,n){this.projectId=e,this.database=n||Sh}static empty(){return new Xc("","")}get isDefaultDatabase(){return this.database===Sh}isEqual(e){return e instanceof Xc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W1="__type__",e2="__max__",Bd={mapValue:{}},H1="__vector__",Ih="value";function to(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?uv(t)?4:n2(t)?9007199254740991:t2(t)?10:11:Le(28295,{value:t})}function Cs(t,e){if(t===e)return!0;const n=to(t);if(n!==to(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Qc(t).isEqual(Qc(e));case 3:return(function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const l=Zi(i.timestampValue),d=Zi(a.timestampValue);return l.seconds===d.seconds&&l.nanos===d.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,a){return eo(i.bytesValue).isEqual(eo(a.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,a){return Lt(i.geoPointValue.latitude)===Lt(a.geoPointValue.latitude)&&Lt(i.geoPointValue.longitude)===Lt(a.geoPointValue.longitude)})(t,e);case 2:return(function(i,a){if("integerValue"in i&&"integerValue"in a)return Lt(i.integerValue)===Lt(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const l=Lt(i.doubleValue),d=Lt(a.doubleValue);return l===d?Th(l)===Th(d):isNaN(l)&&isNaN(d)}return!1})(t,e);case 9:return yl(t.arrayValue.values||[],e.arrayValue.values||[],Cs);case 10:case 11:return(function(i,a){const l=i.mapValue.fields||{},d=a.mapValue.fields||{};if(j_(l)!==j_(d))return!1;for(const p in l)if(l.hasOwnProperty(p)&&(d[p]===void 0||!Cs(l[p],d[p])))return!1;return!0})(t,e);default:return Le(52216,{left:t})}}function Jc(t,e){return(t.values||[]).find((n=>Cs(n,e)))!==void 0}function wl(t,e){if(t===e)return 0;const n=to(t),r=to(e);if(n!==r)return Xe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Xe(t.booleanValue,e.booleanValue);case 2:return(function(a,l){const d=Lt(a.integerValue||a.doubleValue),p=Lt(l.integerValue||l.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1})(t,e);case 3:return O_(t.timestampValue,e.timestampValue);case 4:return O_(Qc(t),Qc(e));case 5:return lg(t.stringValue,e.stringValue);case 6:return(function(a,l){const d=eo(a),p=eo(l);return d.compareTo(p)})(t.bytesValue,e.bytesValue);case 7:return(function(a,l){const d=a.split("/"),p=l.split("/");for(let m=0;m<d.length&&m<p.length;m++){const y=Xe(d[m],p[m]);if(y!==0)return y}return Xe(d.length,p.length)})(t.referenceValue,e.referenceValue);case 8:return(function(a,l){const d=Xe(Lt(a.latitude),Lt(l.latitude));return d!==0?d:Xe(Lt(a.longitude),Lt(l.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return L_(t.arrayValue,e.arrayValue);case 10:return(function(a,l){const d=a.fields||{},p=l.fields||{},m=d[Ih]?.arrayValue,y=p[Ih]?.arrayValue,v=Xe(m?.values?.length||0,y?.values?.length||0);return v!==0?v:L_(m,y)})(t.mapValue,e.mapValue);case 11:return(function(a,l){if(a===Bd.mapValue&&l===Bd.mapValue)return 0;if(a===Bd.mapValue)return 1;if(l===Bd.mapValue)return-1;const d=a.fields||{},p=Object.keys(d),m=l.fields||{},y=Object.keys(m);p.sort(),y.sort();for(let v=0;v<p.length&&v<y.length;++v){const x=lg(p[v],y[v]);if(x!==0)return x;const I=wl(d[p[v]],m[y[v]]);if(I!==0)return I}return Xe(p.length,y.length)})(t.mapValue,e.mapValue);default:throw Le(23264,{he:n})}}function O_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Xe(t,e);const n=Zi(t),r=Zi(e),i=Xe(n.seconds,r.seconds);return i!==0?i:Xe(n.nanos,r.nanos)}function L_(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const a=wl(n[i],r[i]);if(a)return a}return Xe(n.length,r.length)}function _l(t){return cg(t)}function cg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=Zi(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return eo(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Pe.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const a of n.values||[])i?i=!1:r+=",",r+=cg(a);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const l of r)a?a=!1:i+=",",i+=`${l}:${cg(n.fields[l])}`;return i+"}"})(t.mapValue):Le(61005,{value:t})}function oh(t){switch(to(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=nf(t);return e?16+oh(e):16;case 5:return 2*t.stringValue.length;case 6:return eo(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,a)=>i+oh(a)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return co(r.fields,((a,l)=>{i+=a.length+oh(l)})),i})(t.mapValue);default:throw Le(13486,{value:t})}}function ug(t){return!!t&&"integerValue"in t}function dv(t){return!!t&&"arrayValue"in t}function V_(t){return!!t&&"nullValue"in t}function F_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ah(t){return!!t&&"mapValue"in t}function t2(t){return(t?.mapValue?.fields||{})[W1]?.stringValue===H1}function zc(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return co(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=zc(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=zc(t.arrayValue.values[n]);return e}return{...t}}function n2(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===e2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e){this.value=e}static empty(){return new Wn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!ah(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=zc(n)}setAll(e){let n=fn.emptyPath(),r={},i=[];e.forEach(((l,d)=>{if(!n.isImmediateParentOf(d)){const p=this.getFieldsMap(n);this.applyChanges(p,r,i),r={},i=[],n=d.popLast()}l?r[d.lastSegment()]=zc(l):i.push(d.lastSegment())}));const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());ah(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Cs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];ah(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){co(n,((i,a)=>e[i]=a));for(const i of r)delete e[i]}clone(){return new Wn(zc(this.value))}}function q1(t){const e=[];return co(t.fields,((n,r)=>{const i=new fn([n]);if(ah(r)){const a=q1(r.mapValue).fields;if(a.length===0)e.push(i);else for(const l of a)e.push(i.child(l))}else e.push(i)})),new lr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e,n,r,i,a,l,d){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=l,this.documentState=d}static newInvalidDocument(e){return new Sn(e,0,Ue.min(),Ue.min(),Ue.min(),Wn.empty(),0)}static newFoundDocument(e,n,r,i){return new Sn(e,1,n,Ue.min(),r,i,0)}static newNoDocument(e,n){return new Sn(e,2,n,Ue.min(),Ue.min(),Wn.empty(),0)}static newUnknownDocument(e,n){return new Sn(e,3,n,Ue.min(),Ue.min(),Wn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ue.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Wn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Wn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ue.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Sn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Sn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(e,n){this.position=e,this.inclusive=n}}function U_(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],l=t.position[i];if(a.field.isKeyField()?r=Pe.comparator(Pe.fromName(l.referenceValue),n.key):r=wl(l,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function z_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Cs(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(e,n="asc"){this.field=e,this.dir=n}}function r2(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{}class Xt extends K1{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new i2(e,n,r):n==="array-contains"?new l2(e,r):n==="in"?new c2(e,r):n==="not-in"?new u2(e,r):n==="array-contains-any"?new d2(e,r):new Xt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new o2(e,r):new a2(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(wl(n,this.value)):n!==null&&to(this.value)===to(n)&&this.matchesComparison(wl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Le(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ns extends K1{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Ns(e,n)}matches(e){return G1(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function G1(t){return t.op==="and"}function Y1(t){return s2(t)&&G1(t)}function s2(t){for(const e of t.filters)if(e instanceof Ns)return!1;return!0}function dg(t){if(t instanceof Xt)return t.field.canonicalString()+t.op.toString()+_l(t.value);if(Y1(t))return t.filters.map((e=>dg(e))).join(",");{const e=t.filters.map((n=>dg(n))).join(",");return`${t.op}(${e})`}}function Q1(t,e){return t instanceof Xt?(function(r,i){return i instanceof Xt&&r.op===i.op&&r.field.isEqual(i.field)&&Cs(r.value,i.value)})(t,e):t instanceof Ns?(function(r,i){return i instanceof Ns&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((a,l,d)=>a&&Q1(l,i.filters[d])),!0):!1})(t,e):void Le(19439)}function X1(t){return t instanceof Xt?(function(n){return`${n.field.canonicalString()} ${n.op} ${_l(n.value)}`})(t):t instanceof Ns?(function(n){return n.op.toString()+" {"+n.getFilters().map(X1).join(" ,")+"}"})(t):"Filter"}class i2 extends Xt{constructor(e,n,r){super(e,n,r),this.key=Pe.fromName(r.referenceValue)}matches(e){const n=Pe.comparator(e.key,this.key);return this.matchesComparison(n)}}class o2 extends Xt{constructor(e,n){super(e,"in",n),this.keys=J1("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class a2 extends Xt{constructor(e,n){super(e,"not-in",n),this.keys=J1("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function J1(t,e){return(e.arrayValue?.values||[]).map((n=>Pe.fromName(n.referenceValue)))}class l2 extends Xt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return dv(n)&&Jc(n.arrayValue,this.value)}}class c2 extends Xt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Jc(this.value.arrayValue,n)}}class u2 extends Xt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Jc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Jc(this.value.arrayValue,n)}}class d2 extends Xt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!dv(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Jc(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2{constructor(e,n=null,r=[],i=[],a=null,l=null,d=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=l,this.endAt=d,this.Te=null}}function B_(t,e=null,n=[],r=[],i=null,a=null,l=null){return new h2(t,e,n,r,i,a,l)}function hv(t){const e=Be(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>dg(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(a){return a.field.canonicalString()+a.dir})(r))).join(","),tf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>_l(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>_l(r))).join(",")),e.Te=n}return e.Te}function fv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!r2(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Q1(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!z_(t.startAt,e.startAt)&&z_(t.endAt,e.endAt)}function hg(t){return Pe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(e,n=null,r=[],i=[],a=null,l="F",d=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=l,this.startAt=d,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function f2(t,e,n,r,i,a,l,d){return new rf(t,e,n,r,i,a,l,d)}function sf(t){return new rf(t)}function $_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function p2(t){return t.collectionGroup!==null}function Bc(t){const e=Be(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let d=new Jt(fn.comparator);return l.filters.forEach((p=>{p.getFlattenedFilters().forEach((m=>{m.isInequality()&&(d=d.add(m.field))}))})),d})(e).forEach((a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new Nh(a,r))})),n.has(fn.keyField().canonicalString())||e.Ie.push(new Nh(fn.keyField(),r))}return e.Ie}function xs(t){const e=Be(t);return e.Ee||(e.Ee=m2(e,Bc(t))),e.Ee}function m2(t,e){if(t.limitType==="F")return B_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const a=i.dir==="desc"?"asc":"desc";return new Nh(i.field,a)}));const n=t.endAt?new Ch(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ch(t.startAt.position,t.startAt.inclusive):null;return B_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function fg(t,e,n){return new rf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function of(t,e){return fv(xs(t),xs(e))&&t.limitType===e.limitType}function Z1(t){return`${hv(xs(t))}|lt:${t.limitType}`}function ol(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>X1(i))).join(", ")}]`),tf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>_l(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>_l(i))).join(",")),`Target(${r})`})(xs(t))}; limitType=${t.limitType})`}function af(t,e){return e.isFoundDocument()&&(function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Pe.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(t,e)&&(function(r,i){for(const a of Bc(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(l,d,p){const m=U_(l,d,p);return l.inclusive?m<=0:m<0})(r.startAt,Bc(r),i)||r.endAt&&!(function(l,d,p){const m=U_(l,d,p);return l.inclusive?m>=0:m>0})(r.endAt,Bc(r),i))})(t,e)}function g2(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function eb(t){return(e,n)=>{let r=!1;for(const i of Bc(t)){const a=v2(i,e,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function v2(t,e,n){const r=t.field.isKeyField()?Pe.comparator(e.key,n.key):(function(a,l,d){const p=l.data.field(a),m=d.data.field(a);return p!==null&&m!==null?wl(p,m):Le(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Le(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){co(this.inner,((n,r)=>{for(const[i,a]of r)e(i,a)}))}isEmpty(){return V1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y2=new At(Pe.comparator);function li(){return y2}const tb=new At(Pe.comparator);function Mc(...t){let e=tb;for(const n of t)e=e.insert(n.key,n);return e}function nb(t){let e=tb;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Wo(){return $c()}function rb(){return $c()}function $c(){return new pa((t=>t.toString()),((t,e)=>t.isEqual(e)))}const w2=new At(Pe.comparator),_2=new Jt(Pe.comparator);function Je(...t){let e=_2;for(const n of t)e=e.add(n);return e}const x2=new Jt(Xe);function E2(){return x2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Th(e)?"-0":e}}function sb(t){return{integerValue:""+t}}function b2(t,e){return YR(e)?sb(e):pv(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(){this._=void 0}}function T2(t,e,n){return t instanceof Zc?(function(i,a){const l={fields:{[z1]:{stringValue:U1},[$1]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&uv(a)&&(a=nf(a)),a&&(l.fields[B1]=a),{mapValue:l}})(n,e):t instanceof eu?ob(t,e):t instanceof tu?ab(t,e):(function(i,a){const l=ib(i,a),d=W_(l)+W_(i.Ae);return ug(l)&&ug(i.Ae)?sb(d):pv(i.serializer,d)})(t,e)}function S2(t,e,n){return t instanceof eu?ob(t,e):t instanceof tu?ab(t,e):n}function ib(t,e){return t instanceof kh?(function(r){return ug(r)||(function(a){return!!a&&"doubleValue"in a})(r)})(e)?e:{integerValue:0}:null}class Zc extends lf{}class eu extends lf{constructor(e){super(),this.elements=e}}function ob(t,e){const n=lb(e);for(const r of t.elements)n.some((i=>Cs(i,r)))||n.push(r);return{arrayValue:{values:n}}}class tu extends lf{constructor(e){super(),this.elements=e}}function ab(t,e){let n=lb(e);for(const r of t.elements)n=n.filter((i=>!Cs(i,r)));return{arrayValue:{values:n}}}class kh extends lf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function W_(t){return Lt(t.integerValue||t.doubleValue)}function lb(t){return dv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{constructor(e,n){this.field=e,this.transform=n}}function C2(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof eu&&i instanceof eu||r instanceof tu&&i instanceof tu?yl(r.elements,i.elements,Cs):r instanceof kh&&i instanceof kh?Cs(r.Ae,i.Ae):r instanceof Zc&&i instanceof Zc})(t.transform,e.transform)}class N2{constructor(e,n){this.version=e,this.transformResults=n}}class Es{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Es}static exists(e){return new Es(void 0,e)}static updateTime(e){return new Es(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function lh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class cf{}function cb(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new db(t.key,Es.none()):new mu(t.key,t.data,Es.none());{const n=t.data,r=Wn.empty();let i=new Jt(fn.comparator);for(let a of e.fields)if(!i.has(a)){let l=n.field(a);l===null&&a.length>1&&(a=a.popLast(),l=n.field(a)),l===null?r.delete(a):r.set(a,l),i=i.add(a)}return new uo(t.key,r,new lr(i.toArray()),Es.none())}}function k2(t,e,n){t instanceof mu?(function(i,a,l){const d=i.value.clone(),p=q_(i.fieldTransforms,a,l.transformResults);d.setAll(p),a.convertToFoundDocument(l.version,d).setHasCommittedMutations()})(t,e,n):t instanceof uo?(function(i,a,l){if(!lh(i.precondition,a))return void a.convertToUnknownDocument(l.version);const d=q_(i.fieldTransforms,a,l.transformResults),p=a.data;p.setAll(ub(i)),p.setAll(d),a.convertToFoundDocument(l.version,p).setHasCommittedMutations()})(t,e,n):(function(i,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,n)}function Wc(t,e,n,r){return t instanceof mu?(function(a,l,d,p){if(!lh(a.precondition,l))return d;const m=a.value.clone(),y=K_(a.fieldTransforms,p,l);return m.setAll(y),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),null})(t,e,n,r):t instanceof uo?(function(a,l,d,p){if(!lh(a.precondition,l))return d;const m=K_(a.fieldTransforms,p,l),y=l.data;return y.setAll(ub(a)),y.setAll(m),l.convertToFoundDocument(l.version,y).setHasLocalMutations(),d===null?null:d.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((v=>v.field)))})(t,e,n,r):(function(a,l,d){return lh(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):d})(t,e,n)}function A2(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=ib(r.transform,i||null);a!=null&&(n===null&&(n=Wn.empty()),n.set(r.field,a))}return n||null}function H_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&yl(r,i,((a,l)=>C2(a,l)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class mu extends cf{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class uo extends cf{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function ub(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function q_(t,e,n){const r=new Map;ct(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const a=t[i],l=a.transform,d=e.data.field(a.field);r.set(a.field,S2(l,d,n[i]))}return r}function K_(t,e,n){const r=new Map;for(const i of t){const a=i.transform,l=n.data.field(i.field);r.set(i.field,T2(a,l,e))}return r}class db extends cf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class P2 extends cf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&k2(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Wc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Wc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=rb();return this.mutations.forEach((i=>{const a=e.get(i.key),l=a.overlayedDocument;let d=this.applyToLocalView(l,a.mutatedFields);d=n.has(i.key)?null:d;const p=cb(l,d);p!==null&&r.set(i.key,p),l.isValidDocument()||l.convertToNoDocument(Ue.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Je())}isEqual(e){return this.batchId===e.batchId&&yl(this.mutations,e.mutations,((n,r)=>H_(n,r)))&&yl(this.baseMutations,e.baseMutations,((n,r)=>H_(n,r)))}}class mv{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ct(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return w2})();const a=e.mutations;for(let l=0;l<a.length;l++)i=i.insert(a[l].key,r[l].version);return new mv(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let D2=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $t,tt;function M2(t){switch(t){case ne.OK:return Le(64938);case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return Le(15467,{code:t})}}function hb(t){if(t===void 0)return ai("GRPC error has no .code"),ne.UNKNOWN;switch(t){case $t.OK:return ne.OK;case $t.CANCELLED:return ne.CANCELLED;case $t.UNKNOWN:return ne.UNKNOWN;case $t.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case $t.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case $t.INTERNAL:return ne.INTERNAL;case $t.UNAVAILABLE:return ne.UNAVAILABLE;case $t.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case $t.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case $t.NOT_FOUND:return ne.NOT_FOUND;case $t.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case $t.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case $t.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case $t.ABORTED:return ne.ABORTED;case $t.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case $t.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case $t.DATA_LOSS:return ne.DATA_LOSS;default:return Le(39323,{code:t})}}(tt=$t||($t={}))[tt.OK=0]="OK",tt[tt.CANCELLED=1]="CANCELLED",tt[tt.UNKNOWN=2]="UNKNOWN",tt[tt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",tt[tt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",tt[tt.NOT_FOUND=5]="NOT_FOUND",tt[tt.ALREADY_EXISTS=6]="ALREADY_EXISTS",tt[tt.PERMISSION_DENIED=7]="PERMISSION_DENIED",tt[tt.UNAUTHENTICATED=16]="UNAUTHENTICATED",tt[tt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",tt[tt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",tt[tt.ABORTED=10]="ABORTED",tt[tt.OUT_OF_RANGE=11]="OUT_OF_RANGE",tt[tt.UNIMPLEMENTED=12]="UNIMPLEMENTED",tt[tt.INTERNAL=13]="INTERNAL",tt[tt.UNAVAILABLE=14]="UNAVAILABLE",tt[tt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O2(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L2=new Gi([4294967295,4294967295],0);function G_(t){const e=O2().encode(t),n=new C1;return n.update(e),new Uint8Array(n.digest())}function Y_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Gi([n,r],0),new Gi([i,a],0)]}class gv{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Oc(`Invalid padding: ${n}`);if(r<0)throw new Oc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Oc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Oc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Gi.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(Gi.fromNumber(r)));return i.compare(L2)===1&&(i=new Gi([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=G_(e),[r,i]=Y_(n);for(let a=0;a<this.hashCount;a++){const l=this.ye(r,i,a);if(!this.we(l))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new gv(a,i,n);return r.forEach((d=>l.insert(d))),l}insert(e){if(this.ge===0)return;const n=G_(e),[r,i]=Y_(n);for(let a=0;a<this.hashCount;a++){const l=this.ye(r,i,a);this.Se(l)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Oc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,gu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new uf(Ue.min(),i,new At(Xe),li(),Je())}}class gu{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new gu(r,n,Je(),Je(),Je())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class fb{constructor(e,n){this.targetId=e,this.Ce=n}}class pb{constructor(e,n,r=gn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Q_{constructor(){this.ve=0,this.Fe=X_(),this.Me=gn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Je(),n=Je(),r=Je();return this.Fe.forEach(((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Le(38017,{changeType:a})}})),new gu(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=X_()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ct(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class V2{constructor(e){this.Ge=e,this.ze=new Map,this.je=li(),this.Je=$d(),this.He=$d(),this.Ye=new At(Xe)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Le(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const a=i.target;if(hg(a))if(r===0){const l=new Pe(a.path);this.et(n,l,Sn.newNoDocument(l,Ue.min()))}else ct(r===1,20013,{expectedCount:r});else{const l=this._t(n);if(l!==r){const d=this.ut(e),p=d?this.ct(d,e,l):1;if(p!==0){this.it(n);const m=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,m)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=n;let l,d;try{l=eo(r).toUint8Array()}catch(p){if(p instanceof F1)return vl("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new gv(l,i,a)}catch(p){return vl(p instanceof Oc?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.ge===0?null:d}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((a=>{const l=this.Ge.ht(),d=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.mightContain(d)||(this.et(n,a,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((a,l)=>{const d=this.ot(l);if(d){if(a.current&&hg(d.target)){const p=new Pe(d.target.path);this.It(p).has(l)||this.Et(l,p)||this.et(l,p,Sn.newNoDocument(p,e))}a.Be&&(n.set(l,a.ke()),a.qe())}}));let r=Je();this.He.forEach(((a,l)=>{let d=!0;l.forEachWhile((p=>{const m=this.ot(p);return!m||m.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(r=r.add(a))})),this.je.forEach(((a,l)=>l.setReadTime(e)));const i=new uf(e,n,this.Ye,this.je,r);return this.je=li(),this.Je=$d(),this.He=$d(),this.Ye=new At(Xe),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new Q_,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Jt(Xe),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Jt(Xe),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||we("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Q_),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function $d(){return new At(Pe.comparator)}function X_(){return new At(Pe.comparator)}const F2={asc:"ASCENDING",desc:"DESCENDING"},U2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},z2={and:"AND",or:"OR"};class B2{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function pg(t,e){return t.useProto3Json||tf(e)?e:{value:e}}function Ah(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function mb(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function $2(t,e){return Ah(t,e.toTimestamp())}function bs(t){return ct(!!t,49232),Ue.fromTimestamp((function(n){const r=Zi(n);return new bt(r.seconds,r.nanos)})(t))}function vv(t,e){return mg(t,e).canonicalString()}function mg(t,e){const n=(function(i){return new Et(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function gb(t){const e=Et.fromString(t);return ct(xb(e),10190,{key:e.toString()}),e}function gg(t,e){return vv(t.databaseId,e.path)}function Em(t,e){const n=gb(e);if(n.get(1)!==t.databaseId.projectId)throw new Ie(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ie(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Pe(yb(n))}function vb(t,e){return vv(t.databaseId,e)}function W2(t){const e=gb(t);return e.length===4?Et.emptyPath():yb(e)}function vg(t){return new Et(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function yb(t){return ct(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function J_(t,e,n){return{name:gg(t,e),fields:n.value.mapValue.fields}}function H2(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Le(39313,{state:m})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=(function(m,y){return m.useProto3Json?(ct(y===void 0||typeof y=="string",58123),gn.fromBase64String(y||"")):(ct(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),gn.fromUint8Array(y||new Uint8Array))})(t,e.targetChange.resumeToken),l=e.targetChange.cause,d=l&&(function(m){const y=m.code===void 0?ne.UNKNOWN:hb(m.code);return new Ie(y,m.message||"")})(l);n=new pb(r,i,a,d||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Em(t,r.document.name),a=bs(r.document.updateTime),l=r.document.createTime?bs(r.document.createTime):Ue.min(),d=new Wn({mapValue:{fields:r.document.fields}}),p=Sn.newFoundDocument(i,a,l,d),m=r.targetIds||[],y=r.removedTargetIds||[];n=new ch(m,y,p.key,p)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Em(t,r.document),a=r.readTime?bs(r.readTime):Ue.min(),l=Sn.newNoDocument(i,a),d=r.removedTargetIds||[];n=new ch([],d,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Em(t,r.document),a=r.removedTargetIds||[];n=new ch([],a,i,null)}else{if(!("filter"in e))return Le(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,l=new j2(i,a),d=r.targetId;n=new fb(d,l)}}return n}function q2(t,e){let n;if(e instanceof mu)n={update:J_(t,e.key,e.value)};else if(e instanceof db)n={delete:gg(t,e.key)};else if(e instanceof uo)n={update:J_(t,e.key,e.data),updateMask:tD(e.fieldMask)};else{if(!(e instanceof P2))return Le(16599,{Vt:e.type});n={verify:gg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(a,l){const d=l.transform;if(d instanceof Zc)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof eu)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof tu)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof kh)return{fieldPath:l.field.canonicalString(),increment:d.Ae};throw Le(20930,{transform:l.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,a){return a.updateTime!==void 0?{updateTime:$2(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Le(27497)})(t,e.precondition)),n}function K2(t,e){return t&&t.length>0?(ct(e!==void 0,14353),t.map((n=>(function(i,a){let l=i.updateTime?bs(i.updateTime):bs(a);return l.isEqual(Ue.min())&&(l=bs(a)),new N2(l,i.transformResults||[])})(n,e)))):[]}function G2(t,e){return{documents:[vb(t,e.path)]}}function Y2(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=vb(t,i);const a=(function(m){if(m.length!==0)return _b(Ns.create(m,"and"))})(e.filters);a&&(n.structuredQuery.where=a);const l=(function(m){if(m.length!==0)return m.map((y=>(function(x){return{field:al(x.field),direction:J2(x.dir)}})(y)))})(e.orderBy);l&&(n.structuredQuery.orderBy=l);const d=pg(t,e.limit);return d!==null&&(n.structuredQuery.limit=d),e.startAt&&(n.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(e.endAt)),{ft:n,parent:i}}function Q2(t){let e=W2(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ct(r===1,65062);const y=n.from[0];y.allDescendants?i=y.collectionId:e=e.child(y.collectionId)}let a=[];n.where&&(a=(function(v){const x=wb(v);return x instanceof Ns&&Y1(x)?x.getFilters():[x]})(n.where));let l=[];n.orderBy&&(l=(function(v){return v.map((x=>(function(k){return new Nh(ll(k.field),(function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(k.direction))})(x)))})(n.orderBy));let d=null;n.limit&&(d=(function(v){let x;return x=typeof v=="object"?v.value:v,tf(x)?null:x})(n.limit));let p=null;n.startAt&&(p=(function(v){const x=!!v.before,I=v.values||[];return new Ch(I,x)})(n.startAt));let m=null;return n.endAt&&(m=(function(v){const x=!v.before,I=v.values||[];return new Ch(I,x)})(n.endAt)),f2(e,i,l,a,d,"F",p,m)}function X2(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Le(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function wb(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ll(n.unaryFilter.field);return Xt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=ll(n.unaryFilter.field);return Xt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=ll(n.unaryFilter.field);return Xt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=ll(n.unaryFilter.field);return Xt.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Le(61313);default:return Le(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Xt.create(ll(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Le(58110);default:return Le(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Ns.create(n.compositeFilter.filters.map((r=>wb(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Le(1026)}})(n.compositeFilter.op))})(t):Le(30097,{filter:t})}function J2(t){return F2[t]}function Z2(t){return U2[t]}function eD(t){return z2[t]}function al(t){return{fieldPath:t.canonicalString()}}function ll(t){return fn.fromServerFormat(t.fieldPath)}function _b(t){return t instanceof Xt?(function(n){if(n.op==="=="){if(F_(n.value))return{unaryFilter:{field:al(n.field),op:"IS_NAN"}};if(V_(n.value))return{unaryFilter:{field:al(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(F_(n.value))return{unaryFilter:{field:al(n.field),op:"IS_NOT_NAN"}};if(V_(n.value))return{unaryFilter:{field:al(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:al(n.field),op:Z2(n.op),value:n.value}}})(t):t instanceof Ns?(function(n){const r=n.getFilters().map((i=>_b(i)));return r.length===1?r[0]:{compositeFilter:{op:eD(n.op),filters:r}}})(t):Le(54877,{filter:t})}function tD(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function xb(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(e,n,r,i,a=Ue.min(),l=Ue.min(),d=gn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(e){return new qi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new qi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new qi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new qi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nD{constructor(e){this.yt=e}}function rD(t){const e=Q2({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?fg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{constructor(){this.Cn=new iD}addToCollectionParentIndex(e,n){return this.Cn.add(n),ee.resolve()}getCollectionParents(e,n){return ee.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ee.resolve()}deleteFieldIndex(e,n){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,n){return ee.resolve()}getDocumentsMatchingTarget(e,n){return ee.resolve(null)}getIndexType(e,n){return ee.resolve(0)}getFieldIndexes(e,n){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,n){return ee.resolve(Ji.min())}getMinOffsetFromCollectionGroup(e,n){return ee.resolve(Ji.min())}updateCollectionGroup(e,n,r){return ee.resolve()}updateIndexEntries(e,n){return ee.resolve()}}class iD{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Jt(Et.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Jt(Et.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Eb=41943040;class $n{static withCacheSize(e){return new $n(e,$n.DEFAULT_COLLECTION_PERCENTILE,$n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */$n.DEFAULT_COLLECTION_PERCENTILE=10,$n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,$n.DEFAULT=new $n(Eb,$n.DEFAULT_COLLECTION_PERCENTILE,$n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),$n.DISABLED=new $n(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new xl(0)}static cr(){return new xl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ex="LruGarbageCollector",oD=1048576;function tx([t,e],[n,r]){const i=Xe(t,n);return i===0?Xe(e,r):i}class aD{constructor(e){this.Ir=e,this.buffer=new Jt(tx),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();tx(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class lD{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){we(ex,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Al(n)?we(ex,"Ignoring IndexedDB error during garbage collection: ",n):await kl(n)}await this.Vr(3e5)}))}}class cD{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return ee.resolve(ef.ce);const r=new aD(n);return this.mr.forEachTarget(e,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(we("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(Z_)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(we("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Z_):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,a,l,d,p,m;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((v=>(v>this.params.maximumSequenceNumbersToCollect?(we("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),i=this.params.maximumSequenceNumbersToCollect):i=v,l=Date.now(),this.nthSequenceNumber(e,i)))).next((v=>(r=v,d=Date.now(),this.removeTargets(e,r,n)))).next((v=>(a=v,p=Date.now(),this.removeOrphanedDocuments(e,r)))).next((v=>(m=Date.now(),il()<=Qe.DEBUG&&we("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-y}ms
	Determined least recently used ${i} in `+(d-l)+`ms
	Removed ${a} targets in `+(p-d)+`ms
	Removed ${v} documents in `+(m-p)+`ms
Total Duration: ${m-y}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:v}))))}}function uD(t,e){return new cD(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dD{constructor(){this.changes=new pa((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Sn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ee.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hD{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&Wc(r.mutation,i,lr.empty(),bt.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Je()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Je()){const i=Wo();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((a=>{let l=Mc();return a.forEach(((d,p)=>{l=l.insert(d,p.overlayedDocument)})),l}))))}getOverlayedDocuments(e,n){const r=Wo();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Je())))}populateOverlays(e,n,r){const i=[];return r.forEach((a=>{n.has(a)||i.push(a)})),this.documentOverlayCache.getOverlays(e,i).next((a=>{a.forEach(((l,d)=>{n.set(l,d)}))}))}computeViews(e,n,r,i){let a=li();const l=$c(),d=(function(){return $c()})();return n.forEach(((p,m)=>{const y=r.get(m.key);i.has(m.key)&&(y===void 0||y.mutation instanceof uo)?a=a.insert(m.key,m):y!==void 0?(l.set(m.key,y.mutation.getFieldMask()),Wc(y.mutation,m,y.mutation.getFieldMask(),bt.now())):l.set(m.key,lr.empty())})),this.recalculateAndSaveOverlays(e,a).next((p=>(p.forEach(((m,y)=>l.set(m,y))),n.forEach(((m,y)=>d.set(m,new hD(y,l.get(m)??null)))),d)))}recalculateAndSaveOverlays(e,n){const r=$c();let i=new At(((l,d)=>l-d)),a=Je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((l=>{for(const d of l)d.keys().forEach((p=>{const m=n.get(p);if(m===null)return;let y=r.get(p)||lr.empty();y=d.applyToLocalView(m,y),r.set(p,y);const v=(i.get(d.batchId)||Je()).add(p);i=i.insert(d.batchId,v)}))})).next((()=>{const l=[],d=i.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),m=p.key,y=p.value,v=rb();y.forEach((x=>{if(!a.has(x)){const I=cb(n.get(x),r.get(x));I!==null&&v.set(x,I),a=a.add(x)}})),l.push(this.documentOverlayCache.saveOverlays(e,m,v))}return ee.waitFor(l)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return(function(l){return Pe.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):p2(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((a=>{const l=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):ee.resolve(Wo());let d=Yc,p=a;return l.next((m=>ee.forEach(m,((y,v)=>(d<v.largestBatchId&&(d=v.largestBatchId),a.get(y)?ee.resolve():this.remoteDocumentCache.getEntry(e,y).next((x=>{p=p.insert(y,x)}))))).next((()=>this.populateOverlays(e,m,a))).next((()=>this.computeViews(e,p,m,Je()))).next((y=>({batchId:d,changes:nb(y)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Pe(n)).next((r=>{let i=Mc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const a=n.collectionGroup;let l=Mc();return this.indexManager.getCollectionParents(e,a).next((d=>ee.forEach(d,(p=>{const m=(function(v,x){return new rf(x,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(n,p.child(a));return this.getDocumentsMatchingCollectionQuery(e,m,r,i).next((y=>{y.forEach(((v,x)=>{l=l.insert(v,x)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,i)))).next((l=>{a.forEach(((p,m)=>{const y=m.getKey();l.get(y)===null&&(l=l.insert(y,Sn.newInvalidDocument(y)))}));let d=Mc();return l.forEach(((p,m)=>{const y=a.get(p);y!==void 0&&Wc(y.mutation,m,lr.empty(),bt.now()),af(n,m)&&(d=d.insert(p,m))})),d}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ee.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:bs(i.createTime)}})(n)),ee.resolve()}getNamedQuery(e,n){return ee.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(i){return{name:i.name,query:rD(i.bundledQuery),readTime:bs(i.readTime)}})(n)),ee.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{constructor(){this.overlays=new At(Pe.comparator),this.qr=new Map}getOverlay(e,n){return ee.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Wo();return ee.forEach(n,(i=>this.getOverlay(e,i).next((a=>{a!==null&&r.set(i,a)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,a)=>{this.St(e,n,a)})),ee.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((a=>this.overlays=this.overlays.remove(a))),this.qr.delete(r)),ee.resolve()}getOverlaysForCollection(e,n,r){const i=Wo(),a=n.length+1,l=new Pe(n.child("")),d=this.overlays.getIteratorFrom(l);for(;d.hasNext();){const p=d.getNext().value,m=p.getKey();if(!n.isPrefixOf(m.path))break;m.path.length===a&&p.largestBatchId>r&&i.set(p.getKey(),p)}return ee.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new At(((m,y)=>m-y));const l=this.overlays.getIterator();for(;l.hasNext();){const m=l.getNext().value;if(m.getKey().getCollectionGroup()===n&&m.largestBatchId>r){let y=a.get(m.largestBatchId);y===null&&(y=Wo(),a=a.insert(m.largestBatchId,y)),y.set(m.getKey(),m)}}const d=Wo(),p=a.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((m,y)=>d.set(m,y))),!(d.size()>=i)););return ee.resolve(d)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new D2(n,r));let a=this.qr.get(n);a===void 0&&(a=Je(),this.qr.set(n,a)),this.qr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gD{constructor(){this.sessionToken=gn.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ee.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yv{constructor(){this.Qr=new Jt(on.$r),this.Ur=new Jt(on.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new on(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new on(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new Pe(new Et([])),r=new on(n,e),i=new on(n,e+1),a=[];return this.Ur.forEachInRange([r,i],(l=>{this.Gr(l),a.push(l.key)})),a}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Pe(new Et([])),r=new on(n,e),i=new on(n,e+1);let a=Je();return this.Ur.forEachInRange([r,i],(l=>{a=a.add(l.key)})),a}containsKey(e){const n=new on(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class on{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Pe.comparator(e.key,n.key)||Xe(e.Yr,n.Yr)}static Kr(e,n){return Xe(e.Yr,n.Yr)||Pe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Jt(on.$r)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new R2(a,n,r,i);this.mutationQueue.push(l);for(const d of i)this.Zr=this.Zr.add(new on(d.key,a)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return ee.resolve(l)}lookupMutationBatch(e,n){return ee.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),a=i<0?0:i;return ee.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?cv:this.tr-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new on(n,0),i=new on(n,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([r,i],(l=>{const d=this.Xr(l.Yr);a.push(d)})),ee.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Jt(Xe);return n.forEach((i=>{const a=new on(i,0),l=new on(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,l],(d=>{r=r.add(d.Yr)}))})),ee.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;Pe.isDocumentKey(a)||(a=a.child(""));const l=new on(new Pe(a),0);let d=new Jt(Xe);return this.Zr.forEachWhile((p=>{const m=p.key.path;return!!r.isPrefixOf(m)&&(m.length===i&&(d=d.add(p.Yr)),!0)}),l),ee.resolve(this.ti(d))}ti(e){const n=[];return e.forEach((r=>{const i=this.Xr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){ct(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return ee.forEach(n.mutations,(i=>{const a=new on(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new on(n,0),i=this.Zr.firstAfterOrEqual(r);return ee.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{constructor(e){this.ri=e,this.docs=(function(){return new At(Pe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,l=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ee.resolve(r?r.document.mutableCopy():Sn.newInvalidDocument(n))}getEntries(e,n){let r=li();return n.forEach((i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():Sn.newInvalidDocument(i))})),ee.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let a=li();const l=n.path,d=new Pe(l.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:m,value:{document:y}}=p.getNext();if(!l.isPrefixOf(m.path))break;m.path.length>l.length+1||HR(WR(y),r)<=0||(i.has(y.key)||af(n,y))&&(a=a.insert(y.key,y.mutableCopy()))}return ee.resolve(a)}getAllFromCollectionGroup(e,n,r,i){Le(9500)}ii(e,n){return ee.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new wD(this)}getSize(e){return ee.resolve(this.size)}}class wD extends dD{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)})),ee.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _D{constructor(e){this.persistence=e,this.si=new pa((n=>hv(n)),fv),this.lastRemoteSnapshotVersion=Ue.min(),this.highestTargetId=0,this.oi=0,this._i=new yv,this.targetCount=0,this.ai=xl.ur()}forEachTarget(e,n){return this.si.forEach(((r,i)=>n(i))),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),ee.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new xl(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ee.resolve()}updateTargetData(e,n){return this.Pr(n),ee.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.si.forEach(((l,d)=>{d.sequenceNumber<=n&&r.get(d.targetId)===null&&(this.si.delete(l),a.push(this.removeMatchingKeysForTargetId(e,d.targetId)),i++)})),ee.waitFor(a).next((()=>i))}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return ee.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),ee.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach((l=>{a.push(i.markPotentiallyOrphaned(e,l))})),ee.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ee.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return ee.resolve(r)}containsKey(e,n){return ee.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bb{constructor(e,n){this.ui={},this.overlays={},this.ci=new ef(0),this.li=!1,this.li=!0,this.hi=new gD,this.referenceDelegate=e(this),this.Pi=new _D(this),this.indexManager=new sD,this.remoteDocumentCache=(function(i){return new yD(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new nD(n),this.Ii=new pD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new mD,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new vD(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){we("MemoryPersistence","Starting transaction:",e);const i=new xD(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((a=>this.referenceDelegate.di(i).next((()=>a)))).toPromise().then((a=>(i.raiseOnCommittedEvent(),a)))}Ai(e,n){return ee.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class xD extends KR{constructor(e){super(),this.currentSequenceNumber=e}}class wv{constructor(e){this.persistence=e,this.Ri=new yv,this.Vi=null}static mi(e){return new wv(e)}get fi(){if(this.Vi)return this.Vi;throw Le(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),ee.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),ee.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ee.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((a=>this.fi.add(a.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.fi,(r=>{const i=Pe.fromPath(r);return this.gi(e,i).next((a=>{a||n.removeEntry(i,Ue.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ee.or([()=>ee.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Ph{constructor(e,n){this.persistence=e,this.pi=new pa((r=>QR(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=uD(this,n)}static mi(e,n){return new Ph(e,n)}Ei(){}di(e){return ee.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return ee.forEach(this.pi,((r,i)=>this.br(e,r,i).next((a=>a?ee.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ii(e,(l=>this.br(e,l,n).next((d=>{d||(r++,a.removeEntry(l,Ue.min()))})))).next((()=>a.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ee.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ee.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ee.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ee.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=oh(e.data.value)),n}br(e,n,r){return ee.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return ee.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _v{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=Je(),i=Je();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new _v(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ED{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return ZN()?8:GR(In())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const a={result:null};return this.ys(e,n).next((l=>{a.result=l})).next((()=>{if(!a.result)return this.ws(e,n,i,r).next((l=>{a.result=l}))})).next((()=>{if(a.result)return;const l=new ED;return this.Ss(e,n,l).next((d=>{if(a.result=d,this.Vs)return this.bs(e,n,l,d.size)}))})).next((()=>a.result))}bs(e,n,r,i){return r.documentReadCount<this.fs?(il()<=Qe.DEBUG&&we("QueryEngine","SDK will not create cache indexes for query:",ol(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ee.resolve()):(il()<=Qe.DEBUG&&we("QueryEngine","Query:",ol(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(il()<=Qe.DEBUG&&we("QueryEngine","The SDK decides to create cache indexes for query:",ol(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,xs(n))):ee.resolve())}ys(e,n){if($_(n))return ee.resolve(null);let r=xs(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=fg(n,null,"F"),r=xs(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((a=>{const l=Je(...a);return this.ps.getDocuments(e,l).next((d=>this.indexManager.getMinOffset(e,r).next((p=>{const m=this.Ds(n,d);return this.Cs(n,m,l,p.readTime)?this.ys(e,fg(n,null,"F")):this.vs(e,m,n,p)}))))})))))}ws(e,n,r,i){return $_(n)||i.isEqual(Ue.min())?ee.resolve(null):this.ps.getDocuments(e,r).next((a=>{const l=this.Ds(n,a);return this.Cs(n,l,r,i)?ee.resolve(null):(il()<=Qe.DEBUG&&we("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ol(n)),this.vs(e,l,n,$R(i,Yc)).next((d=>d)))}))}Ds(e,n){let r=new Jt(eb(e));return n.forEach(((i,a)=>{af(e,a)&&(r=r.add(a))})),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ss(e,n,r){return il()<=Qe.DEBUG&&we("QueryEngine","Using full collection scan to execute query:",ol(n)),this.ps.getDocumentsMatchingQuery(e,n,Ji.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next((a=>(n.forEach((l=>{a=a.insert(l.key,l)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xv="LocalStore",TD=3e8;class SD{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new At(Xe),this.xs=new pa((a=>hv(a)),fv),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new fD(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function ID(t,e,n,r){return new SD(t,e,n,r)}async function Tb(t,e){const n=Be(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((a=>(i=a,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((a=>{const l=[],d=[];let p=Je();for(const m of i){l.push(m.batchId);for(const y of m.mutations)p=p.add(y.key)}for(const m of a){d.push(m.batchId);for(const y of m.mutations)p=p.add(y.key)}return n.localDocuments.getDocuments(r,p).next((m=>({Ls:m,removedBatchIds:l,addedBatchIds:d})))}))}))}function CD(t,e){const n=Be(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),a=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(d,p,m,y){const v=m.batch,x=v.keys();let I=ee.resolve();return x.forEach((k=>{I=I.next((()=>y.getEntry(p,k))).next((S=>{const b=m.docVersions.get(k);ct(b!==null,48541),S.version.compareTo(b)<0&&(v.applyToRemoteDocument(S,m),S.isValidDocument()&&(S.setReadTime(m.commitVersion),y.addEntry(S)))}))})),I.next((()=>d.mutationQueue.removeMutationBatch(p,v)))})(n,r,e,a).next((()=>a.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(d){let p=Je();for(let m=0;m<d.mutationResults.length;++m)d.mutationResults[m].transformResults.length>0&&(p=p.add(d.batch.mutations[m].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function Sb(t){const e=Be(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function ND(t,e){const n=Be(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const l=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const d=[];e.targetChanges.forEach(((y,v)=>{const x=i.get(v);if(!x)return;d.push(n.Pi.removeMatchingKeys(a,y.removedDocuments,v).next((()=>n.Pi.addMatchingKeys(a,y.addedDocuments,v))));let I=x.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(v)!==null?I=I.withResumeToken(gn.EMPTY_BYTE_STRING,Ue.min()).withLastLimboFreeSnapshotVersion(Ue.min()):y.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(y.resumeToken,r)),i=i.insert(v,I),(function(S,b,j){return S.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=TD?!0:j.addedDocuments.size+j.modifiedDocuments.size+j.removedDocuments.size>0})(x,I,y)&&d.push(n.Pi.updateTargetData(a,I))}));let p=li(),m=Je();if(e.documentUpdates.forEach((y=>{e.resolvedLimboDocuments.has(y)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(a,y))})),d.push(kD(a,l,e.documentUpdates).next((y=>{p=y.ks,m=y.qs}))),!r.isEqual(Ue.min())){const y=n.Pi.getLastRemoteSnapshotVersion(a).next((v=>n.Pi.setTargetsMetadata(a,a.currentSequenceNumber,r)));d.push(y)}return ee.waitFor(d).next((()=>l.apply(a))).next((()=>n.localDocuments.getLocalViewOfDocuments(a,p,m))).next((()=>p))})).then((a=>(n.Ms=i,a)))}function kD(t,e,n){let r=Je(),i=Je();return n.forEach((a=>r=r.add(a))),e.getEntries(t,r).next((a=>{let l=li();return n.forEach(((d,p)=>{const m=a.get(d);p.isFoundDocument()!==m.isFoundDocument()&&(i=i.add(d)),p.isNoDocument()&&p.version.isEqual(Ue.min())?(e.removeEntry(d,p.readTime),l=l.insert(d,p)):!m.isValidDocument()||p.version.compareTo(m.version)>0||p.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(p),l=l.insert(d,p)):we(xv,"Ignoring outdated watch update for ",d,". Current version:",m.version," Watch version:",p.version)})),{ks:l,qs:i}}))}function AD(t,e){const n=Be(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=cv),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function PD(t,e){const n=Be(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.Pi.getTargetData(r,e).next((a=>a?(i=a,ee.resolve(i)):n.Pi.allocateTargetId(r).next((l=>(i=new qi(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function yg(t,e,n){const r=Be(t),i=r.Ms.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,(l=>r.persistence.referenceDelegate.removeTarget(l,i)))}catch(l){if(!Al(l))throw l;we(xv,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function nx(t,e,n){const r=Be(t);let i=Ue.min(),a=Je();return r.persistence.runTransaction("Execute query","readwrite",(l=>(function(p,m,y){const v=Be(p),x=v.xs.get(y);return x!==void 0?ee.resolve(v.Ms.get(x)):v.Pi.getTargetData(m,y)})(r,l,xs(e)).next((d=>{if(d)return i=d.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(l,d.targetId).next((p=>{a=p}))})).next((()=>r.Fs.getDocumentsMatchingQuery(l,e,n?i:Ue.min(),n?a:Je()))).next((d=>(RD(r,g2(e),d),{documents:d,Qs:a})))))}function RD(t,e,n){let r=t.Os.get(e)||Ue.min();n.forEach(((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)})),t.Os.set(e,r)}class rx{constructor(){this.activeTargetIds=E2()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class DD{constructor(){this.Mo=new rx,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new rx,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jD{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sx="ConnectivityMonitor";class ix{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){we(sx,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){we(sx,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wd=null;function wg(){return Wd===null?Wd=(function(){return 268435456+Math.round(2147483648*Math.random())})():Wd++,"0x"+Wd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bm="RestConnection",MD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class OD{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===Sh?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,a){const l=wg(),d=this.zo(e,n.toUriEncodedString());we(bm,`Sending RPC '${e}' ${l}:`,d,r);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,i,a);const{host:m}=new URL(d),y=ca(m);return this.Jo(e,d,p,r,y).then((v=>(we(bm,`Received RPC '${e}' ${l}: `,v),v)),(v=>{throw vl(bm,`RPC '${e}' ${l} failed with error: `,v,"url: ",d,"request:",r),v}))}Ho(e,n,r,i,a,l){return this.Go(e,n,r,i,a)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Nl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,a)=>e[a]=i)),r&&r.headers.forEach(((i,a)=>e[a]=i))}zo(e,n){const r=MD[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bn="WebChannelConnection";class VD extends OD{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,a){const l=wg();return new Promise(((d,p)=>{const m=new N1;m.setWithCredentials(!0),m.listenOnce(k1.COMPLETE,(()=>{try{switch(m.getLastErrorCode()){case ih.NO_ERROR:const v=m.getResponseJson();we(bn,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(v)),d(v);break;case ih.TIMEOUT:we(bn,`RPC '${e}' ${l} timed out`),p(new Ie(ne.DEADLINE_EXCEEDED,"Request time out"));break;case ih.HTTP_ERROR:const x=m.getStatus();if(we(bn,`RPC '${e}' ${l} failed with status:`,x,"response text:",m.getResponseText()),x>0){let I=m.getResponseJson();Array.isArray(I)&&(I=I[0]);const k=I?.error;if(k&&k.status&&k.message){const S=(function(j){const z=j.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(z)>=0?z:ne.UNKNOWN})(k.status);p(new Ie(S,k.message))}else p(new Ie(ne.UNKNOWN,"Server responded with status "+m.getStatus()))}else p(new Ie(ne.UNAVAILABLE,"Connection failed."));break;default:Le(9055,{l_:e,streamId:l,h_:m.getLastErrorCode(),P_:m.getLastError()})}}finally{we(bn,`RPC '${e}' ${l} completed.`)}}));const y=JSON.stringify(i);we(bn,`RPC '${e}' ${l} sending request:`,i),m.send(n,"POST",y,r,15)}))}T_(e,n,r){const i=wg(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=R1(),d=P1(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(p.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,r),p.encodeInitMessageHeaders=!0;const y=a.join("");we(bn,`Creating RPC '${e}' stream ${i}: ${y}`,p);const v=l.createWebChannel(y,p);this.I_(v);let x=!1,I=!1;const k=new LD({Yo:b=>{I?we(bn,`Not sending because RPC '${e}' stream ${i} is closed:`,b):(x||(we(bn,`Opening RPC '${e}' stream ${i} transport.`),v.open(),x=!0),we(bn,`RPC '${e}' stream ${i} sending:`,b),v.send(b))},Zo:()=>v.close()}),S=(b,j,z)=>{b.listen(j,(W=>{try{z(W)}catch(G){setTimeout((()=>{throw G}),0)}}))};return S(v,jc.EventType.OPEN,(()=>{I||(we(bn,`RPC '${e}' stream ${i} transport opened.`),k.o_())})),S(v,jc.EventType.CLOSE,(()=>{I||(I=!0,we(bn,`RPC '${e}' stream ${i} transport closed`),k.a_(),this.E_(v))})),S(v,jc.EventType.ERROR,(b=>{I||(I=!0,vl(bn,`RPC '${e}' stream ${i} transport errored. Name:`,b.name,"Message:",b.message),k.a_(new Ie(ne.UNAVAILABLE,"The operation could not be completed")))})),S(v,jc.EventType.MESSAGE,(b=>{if(!I){const j=b.data[0];ct(!!j,16349);const z=j,W=z?.error||z[0]?.error;if(W){we(bn,`RPC '${e}' stream ${i} received error:`,W);const G=W.status;let J=(function(N){const D=$t[N];if(D!==void 0)return hb(D)})(G),te=W.message;J===void 0&&(J=ne.INTERNAL,te="Unknown error status: "+G+" with message "+W.message),I=!0,k.a_(new Ie(J,te)),v.close()}else we(bn,`RPC '${e}' stream ${i} received:`,j),k.u_(j)}})),S(d,A1.STAT_EVENT,(b=>{b.stat===ag.PROXY?we(bn,`RPC '${e}' stream ${i} detected buffering proxy`):b.stat===ag.NOPROXY&&we(bn,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{k.__()}),0),k}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Tm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function df(t){return new B2(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ib{constructor(e,n,r=1e3,i=1.5,a=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&we("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ox="PersistentStream";class Cb{constructor(e,n,r,i,a,l,d,p){this.Mi=e,this.S_=r,this.b_=i,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Ib(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ne.RESOURCE_EXHAUSTED?(ai(n.toString()),ai("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new Ie(ne.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return we(ox,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(we(ox,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class FD extends Cb{constructor(e,n,r,i,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,l),this.serializer=a}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=H2(this.serializer,e),r=(function(a){if(!("targetChange"in a))return Ue.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?Ue.min():l.readTime?bs(l.readTime):Ue.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=vg(this.serializer),n.addTarget=(function(a,l){let d;const p=l.target;if(d=hg(p)?{documents:G2(a,p)}:{query:Y2(a,p).ft},d.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){d.resumeToken=mb(a,l.resumeToken);const m=pg(a,l.expectedCount);m!==null&&(d.expectedCount=m)}else if(l.snapshotVersion.compareTo(Ue.min())>0){d.readTime=Ah(a,l.snapshotVersion.toTimestamp());const m=pg(a,l.expectedCount);m!==null&&(d.expectedCount=m)}return d})(this.serializer,e);const r=X2(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=vg(this.serializer),n.removeTarget=e,this.q_(n)}}class UD extends Cb{constructor(e,n,r,i,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,l),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return ct(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ct(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ct(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=K2(e.writeResults,e.commitTime),r=bs(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=vg(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>q2(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{}class BD extends zD{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Ie(ne.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,l])=>this.connection.Go(e,mg(n,r),i,a,l))).catch((a=>{throw a.name==="FirebaseError"?(a.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Ie(ne.UNKNOWN,a.toString())}))}Ho(e,n,r,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,d])=>this.connection.Ho(e,mg(n,r),i,l,d,a))).catch((l=>{throw l.name==="FirebaseError"?(l.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Ie(ne.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class $D{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ai(n),this.aa=!1):we("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zo="RemoteStore";class WD{constructor(e,n,r,i,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo((l=>{r.enqueueAndForget((async()=>{ma(this)&&(we(Zo,"Restarting streams for network reachability change."),await(async function(p){const m=Be(p);m.Ea.add(4),await vu(m),m.Ra.set("Unknown"),m.Ea.delete(4),await hf(m)})(this))}))})),this.Ra=new $D(r,i)}}async function hf(t){if(ma(t))for(const e of t.da)await e(!0)}async function vu(t){for(const e of t.da)await e(!1)}function Nb(t,e){const n=Be(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Sv(n)?Tv(n):Pl(n).O_()&&bv(n,e))}function Ev(t,e){const n=Be(t),r=Pl(n);n.Ia.delete(e),r.O_()&&kb(n,e),n.Ia.size===0&&(r.O_()?r.L_():ma(n)&&n.Ra.set("Unknown"))}function bv(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ue.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Pl(t).Y_(e)}function kb(t,e){t.Va.Ue(e),Pl(t).Z_(e)}function Tv(t){t.Va=new V2({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Pl(t).start(),t.Ra.ua()}function Sv(t){return ma(t)&&!Pl(t).x_()&&t.Ia.size>0}function ma(t){return Be(t).Ea.size===0}function Ab(t){t.Va=void 0}async function HD(t){t.Ra.set("Online")}async function qD(t){t.Ia.forEach(((e,n)=>{bv(t,e)}))}async function KD(t,e){Ab(t),Sv(t)?(t.Ra.ha(e),Tv(t)):t.Ra.set("Unknown")}async function GD(t,e,n){if(t.Ra.set("Online"),e instanceof pb&&e.state===2&&e.cause)try{await(async function(i,a){const l=a.cause;for(const d of a.targetIds)i.Ia.has(d)&&(await i.remoteSyncer.rejectListen(d,l),i.Ia.delete(d),i.Va.removeTarget(d))})(t,e)}catch(r){we(Zo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Rh(t,r)}else if(e instanceof ch?t.Va.Ze(e):e instanceof fb?t.Va.st(e):t.Va.tt(e),!n.isEqual(Ue.min()))try{const r=await Sb(t.localStore);n.compareTo(r)>=0&&await(function(a,l){const d=a.Va.Tt(l);return d.targetChanges.forEach(((p,m)=>{if(p.resumeToken.approximateByteSize()>0){const y=a.Ia.get(m);y&&a.Ia.set(m,y.withResumeToken(p.resumeToken,l))}})),d.targetMismatches.forEach(((p,m)=>{const y=a.Ia.get(p);if(!y)return;a.Ia.set(p,y.withResumeToken(gn.EMPTY_BYTE_STRING,y.snapshotVersion)),kb(a,p);const v=new qi(y.target,p,m,y.sequenceNumber);bv(a,v)})),a.remoteSyncer.applyRemoteEvent(d)})(t,n)}catch(r){we(Zo,"Failed to raise snapshot:",r),await Rh(t,r)}}async function Rh(t,e,n){if(!Al(e))throw e;t.Ea.add(1),await vu(t),t.Ra.set("Offline"),n||(n=()=>Sb(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{we(Zo,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await hf(t)}))}function Pb(t,e){return e().catch((n=>Rh(t,n,e)))}async function ff(t){const e=Be(t),n=no(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:cv;for(;YD(e);)try{const i=await AD(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,QD(e,i)}catch(i){await Rh(e,i)}Rb(e)&&Db(e)}function YD(t){return ma(t)&&t.Ta.length<10}function QD(t,e){t.Ta.push(e);const n=no(t);n.O_()&&n.X_&&n.ea(e.mutations)}function Rb(t){return ma(t)&&!no(t).x_()&&t.Ta.length>0}function Db(t){no(t).start()}async function XD(t){no(t).ra()}async function JD(t){const e=no(t);for(const n of t.Ta)e.ea(n.mutations)}async function ZD(t,e,n){const r=t.Ta.shift(),i=mv.from(r,e,n);await Pb(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await ff(t)}async function ej(t,e){e&&no(t).X_&&await(async function(r,i){if((function(l){return M2(l)&&l!==ne.ABORTED})(i.code)){const a=r.Ta.shift();no(r).B_(),await Pb(r,(()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i))),await ff(r)}})(t,e),Rb(t)&&Db(t)}async function ax(t,e){const n=Be(t);n.asyncQueue.verifyOperationInProgress(),we(Zo,"RemoteStore received new credentials");const r=ma(n);n.Ea.add(3),await vu(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await hf(n)}async function tj(t,e){const n=Be(t);e?(n.Ea.delete(2),await hf(n)):e||(n.Ea.add(2),await vu(n),n.Ra.set("Unknown"))}function Pl(t){return t.ma||(t.ma=(function(n,r,i){const a=Be(n);return a.sa(),new FD(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Xo:HD.bind(null,t),t_:qD.bind(null,t),r_:KD.bind(null,t),H_:GD.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),Sv(t)?Tv(t):t.Ra.set("Unknown")):(await t.ma.stop(),Ab(t))}))),t.ma}function no(t){return t.fa||(t.fa=(function(n,r,i){const a=Be(n);return a.sa(),new UD(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:XD.bind(null,t),r_:ej.bind(null,t),ta:JD.bind(null,t),na:ZD.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await ff(t)):(await t.fa.stop(),t.Ta.length>0&&(we(Zo,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iv{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Yi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,a){const l=Date.now()+r,d=new Iv(e,n,l,i,a);return d.start(r),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ie(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Cv(t,e){if(ai("AsyncQueue",`${e}: ${t}`),Al(t))return new Ie(ne.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{static emptySet(e){return new fl(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Pe.comparator(n.key,r.key):(n,r)=>Pe.comparator(n.key,r.key),this.keyedMap=Mc(),this.sortedSet=new At(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof fl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new fl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lx{constructor(){this.ga=new At(Pe.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Le(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class El{constructor(e,n,r,i,a,l,d,p,m){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=m}static fromInitialDocuments(e,n,r,i,a){const l=[];return n.forEach((d=>{l.push({type:0,doc:d})})),new El(e,n,fl.emptySet(n),l,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&of(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nj{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class rj{constructor(){this.queries=cx(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=Be(n),a=i.queries;i.queries=cx(),a.forEach(((l,d)=>{for(const p of d.Sa)p.onError(r)}))})(this,new Ie(ne.ABORTED,"Firestore shutting down"))}}function cx(){return new pa((t=>Z1(t)),of)}async function jb(t,e){const n=Be(t);let r=3;const i=e.query;let a=n.queries.get(i);a?!a.ba()&&e.Da()&&(r=2):(a=new nj,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await n.onListen(i,!0);break;case 1:a.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(l){const d=Cv(l,`Initialization of query '${ol(e.query)}' failed`);return void e.onError(d)}n.queries.set(i,a),a.Sa.push(e),e.va(n.onlineState),a.wa&&e.Fa(a.wa)&&Nv(n)}async function Mb(t,e){const n=Be(t),r=e.query;let i=3;const a=n.queries.get(r);if(a){const l=a.Sa.indexOf(e);l>=0&&(a.Sa.splice(l,1),a.Sa.length===0?i=e.Da()?0:1:!a.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function sj(t,e){const n=Be(t);let r=!1;for(const i of e){const a=i.query,l=n.queries.get(a);if(l){for(const d of l.Sa)d.Fa(i)&&(r=!0);l.wa=i}}r&&Nv(n)}function ij(t,e,n){const r=Be(t),i=r.queries.get(e);if(i)for(const a of i.Sa)a.onError(n);r.queries.delete(e)}function Nv(t){t.Ca.forEach((e=>{e.next()}))}var _g,ux;(ux=_g||(_g={})).Ma="default",ux.Cache="cache";class Ob{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new El(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=El.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==_g.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb{constructor(e){this.key=e}}class Vb{constructor(e){this.key=e}}class oj{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Je(),this.mutatedKeys=Je(),this.eu=eb(e),this.tu=new fl(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new lx,i=n?n.tu:this.tu;let a=n?n.mutatedKeys:this.mutatedKeys,l=i,d=!1;const p=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,m=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((y,v)=>{const x=i.get(y),I=af(this.query,v)?v:null,k=!!x&&this.mutatedKeys.has(x.key),S=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let b=!1;x&&I?x.data.isEqual(I.data)?k!==S&&(r.track({type:3,doc:I}),b=!0):this.su(x,I)||(r.track({type:2,doc:I}),b=!0,(p&&this.eu(I,p)>0||m&&this.eu(I,m)<0)&&(d=!0)):!x&&I?(r.track({type:0,doc:I}),b=!0):x&&!I&&(r.track({type:1,doc:x}),b=!0,(p||m)&&(d=!0)),b&&(I?(l=l.add(I),a=S?a.add(y):a.delete(y)):(l=l.delete(y),a=a.delete(y)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const y=this.query.limitType==="F"?l.last():l.first();l=l.delete(y.key),a=a.delete(y.key),r.track({type:1,doc:y})}return{tu:l,iu:r,Cs:d,mutatedKeys:a}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort(((y,v)=>(function(I,k){const S=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Le(20277,{Rt:b})}};return S(I)-S(k)})(y.type,v.type)||this.eu(y.doc,v.doc))),this.ou(r),i=i??!1;const d=n&&!i?this._u():[],p=this.Xa.size===0&&this.current&&!i?1:0,m=p!==this.Za;return this.Za=p,l.length!==0||m?{snapshot:new El(this.query,e.tu,a,l,e.mutatedKeys,p===0,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new lx,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Je(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new Vb(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new Lb(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=Je();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return El.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const kv="SyncEngine";class aj{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class lj{constructor(e){this.key=e,this.hu=!1}}class cj{constructor(e,n,r,i,a,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new pa((d=>Z1(d)),of),this.Iu=new Map,this.Eu=new Set,this.du=new At(Pe.comparator),this.Au=new Map,this.Ru=new yv,this.Vu={},this.mu=new Map,this.fu=xl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function uj(t,e,n=!0){const r=Wb(t);let i;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await Fb(r,e,n,!0),i}async function dj(t,e){const n=Wb(t);await Fb(n,e,!0,!1)}async function Fb(t,e,n,r){const i=await PD(t.localStore,xs(e)),a=i.targetId,l=t.sharedClientState.addLocalQueryTarget(a,n);let d;return r&&(d=await hj(t,e,a,l==="current",i.resumeToken)),t.isPrimaryClient&&n&&Nb(t.remoteStore,i),d}async function hj(t,e,n,r,i){t.pu=(v,x,I)=>(async function(S,b,j,z){let W=b.view.ru(j);W.Cs&&(W=await nx(S.localStore,b.query,!1).then((({documents:P})=>b.view.ru(P,W))));const G=z&&z.targetChanges.get(b.targetId),J=z&&z.targetMismatches.get(b.targetId)!=null,te=b.view.applyChanges(W,S.isPrimaryClient,G,J);return hx(S,b.targetId,te.au),te.snapshot})(t,v,x,I);const a=await nx(t.localStore,e,!0),l=new oj(e,a.Qs),d=l.ru(a.documents),p=gu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),m=l.applyChanges(d,t.isPrimaryClient,p);hx(t,n,m.au);const y=new aj(e,n,l);return t.Tu.set(e,y),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),m.snapshot}async function fj(t,e,n){const r=Be(t),i=r.Tu.get(e),a=r.Iu.get(i.targetId);if(a.length>1)return r.Iu.set(i.targetId,a.filter((l=>!of(l,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await yg(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Ev(r.remoteStore,i.targetId),xg(r,i.targetId)})).catch(kl)):(xg(r,i.targetId),await yg(r.localStore,i.targetId,!0))}async function pj(t,e){const n=Be(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Ev(n.remoteStore,r.targetId))}async function mj(t,e,n){const r=Ej(t);try{const i=await(function(l,d){const p=Be(l),m=bt.now(),y=d.reduce(((I,k)=>I.add(k.key)),Je());let v,x;return p.persistence.runTransaction("Locally write mutations","readwrite",(I=>{let k=li(),S=Je();return p.Ns.getEntries(I,y).next((b=>{k=b,k.forEach(((j,z)=>{z.isValidDocument()||(S=S.add(j))}))})).next((()=>p.localDocuments.getOverlayedDocuments(I,k))).next((b=>{v=b;const j=[];for(const z of d){const W=A2(z,v.get(z.key).overlayedDocument);W!=null&&j.push(new uo(z.key,W,q1(W.value.mapValue),Es.exists(!0)))}return p.mutationQueue.addMutationBatch(I,m,j,d)})).next((b=>{x=b;const j=b.applyToLocalDocumentSet(v,S);return p.documentOverlayCache.saveOverlays(I,b.batchId,j)}))})).then((()=>({batchId:x.batchId,changes:nb(v)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(l,d,p){let m=l.Vu[l.currentUser.toKey()];m||(m=new At(Xe)),m=m.insert(d,p),l.Vu[l.currentUser.toKey()]=m})(r,i.batchId,n),await yu(r,i.changes),await ff(r.remoteStore)}catch(i){const a=Cv(i,"Failed to persist write");n.reject(a)}}async function Ub(t,e){const n=Be(t);try{const r=await ND(n.localStore,e);e.targetChanges.forEach(((i,a)=>{const l=n.Au.get(a);l&&(ct(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?l.hu=!0:i.modifiedDocuments.size>0?ct(l.hu,14607):i.removedDocuments.size>0&&(ct(l.hu,42227),l.hu=!1))})),await yu(n,r,e)}catch(r){await kl(r)}}function dx(t,e,n){const r=Be(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((a,l)=>{const d=l.view.va(e);d.snapshot&&i.push(d.snapshot)})),(function(l,d){const p=Be(l);p.onlineState=d;let m=!1;p.queries.forEach(((y,v)=>{for(const x of v.Sa)x.va(d)&&(m=!0)})),m&&Nv(p)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function gj(t,e,n){const r=Be(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),a=i&&i.key;if(a){let l=new At(Pe.comparator);l=l.insert(a,Sn.newNoDocument(a,Ue.min()));const d=Je().add(a),p=new uf(Ue.min(),new Map,new At(Xe),l,d);await Ub(r,p),r.du=r.du.remove(a),r.Au.delete(e),Av(r)}else await yg(r.localStore,e,!1).then((()=>xg(r,e,n))).catch(kl)}async function vj(t,e){const n=Be(t),r=e.batch.batchId;try{const i=await CD(n.localStore,e);Bb(n,r,null),zb(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await yu(n,i)}catch(i){await kl(i)}}async function yj(t,e,n){const r=Be(t);try{const i=await(function(l,d){const p=Be(l);return p.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let y;return p.mutationQueue.lookupMutationBatch(m,d).next((v=>(ct(v!==null,37113),y=v.keys(),p.mutationQueue.removeMutationBatch(m,v)))).next((()=>p.mutationQueue.performConsistencyCheck(m))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(m,y,d))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,y))).next((()=>p.localDocuments.getDocuments(m,y)))}))})(r.localStore,e);Bb(r,e,n),zb(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await yu(r,i)}catch(i){await kl(i)}}function zb(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function Bb(t,e,n){const r=Be(t);let i=r.Vu[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function xg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||$b(t,r)}))}function $b(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Ev(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Av(t))}function hx(t,e,n){for(const r of n)r instanceof Lb?(t.Ru.addReference(r.key,e),wj(t,r)):r instanceof Vb?(we(kv,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||$b(t,r.key)):Le(19791,{wu:r})}function wj(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(we(kv,"New document in limbo: "+n),t.Eu.add(r),Av(t))}function Av(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Pe(Et.fromString(e)),r=t.fu.next();t.Au.set(r,new lj(n)),t.du=t.du.insert(n,r),Nb(t.remoteStore,new qi(xs(sf(n.path)),r,"TargetPurposeLimboResolution",ef.ce))}}async function yu(t,e,n){const r=Be(t),i=[],a=[],l=[];r.Tu.isEmpty()||(r.Tu.forEach(((d,p)=>{l.push(r.pu(p,e,n).then((m=>{if((m||n)&&r.isPrimaryClient){const y=m?!m.fromCache:n?.targetChanges.get(p.targetId)?.current;r.sharedClientState.updateQueryState(p.targetId,y?"current":"not-current")}if(m){i.push(m);const y=_v.As(p.targetId,m);a.push(y)}})))})),await Promise.all(l),r.Pu.H_(i),await(async function(p,m){const y=Be(p);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(v=>ee.forEach(m,(x=>ee.forEach(x.Es,(I=>y.persistence.referenceDelegate.addReference(v,x.targetId,I))).next((()=>ee.forEach(x.ds,(I=>y.persistence.referenceDelegate.removeReference(v,x.targetId,I)))))))))}catch(v){if(!Al(v))throw v;we(xv,"Failed to update sequence numbers: "+v)}for(const v of m){const x=v.targetId;if(!v.fromCache){const I=y.Ms.get(x),k=I.snapshotVersion,S=I.withLastLimboFreeSnapshotVersion(k);y.Ms=y.Ms.insert(x,S)}}})(r.localStore,a))}async function _j(t,e){const n=Be(t);if(!n.currentUser.isEqual(e)){we(kv,"User change. New user:",e.toKey());const r=await Tb(n.localStore,e);n.currentUser=e,(function(a,l){a.mu.forEach((d=>{d.forEach((p=>{p.reject(new Ie(ne.CANCELLED,l))}))})),a.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await yu(n,r.Ls)}}function xj(t,e){const n=Be(t),r=n.Au.get(e);if(r&&r.hu)return Je().add(r.key);{let i=Je();const a=n.Iu.get(e);if(!a)return i;for(const l of a){const d=n.Tu.get(l);i=i.unionWith(d.view.nu)}return i}}function Wb(t){const e=Be(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Ub.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=xj.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=gj.bind(null,e),e.Pu.H_=sj.bind(null,e.eventManager),e.Pu.yu=ij.bind(null,e.eventManager),e}function Ej(t){const e=Be(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=vj.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=yj.bind(null,e),e}class Dh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=df(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return ID(this.persistence,new bD,e.initialUser,this.serializer)}Cu(e){return new bb(wv.mi,this.serializer)}Du(e){return new DD}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Dh.provider={build:()=>new Dh};class bj extends Dh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){ct(this.persistence.referenceDelegate instanceof Ph,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new lD(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?$n.withCacheSize(this.cacheSizeBytes):$n.DEFAULT;return new bb((r=>Ph.mi(r,n)),this.serializer)}}class Eg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>dx(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=_j.bind(null,this.syncEngine),await tj(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new rj})()}createDatastore(e){const n=df(e.databaseInfo.databaseId),r=(function(a){return new VD(a)})(e.databaseInfo);return(function(a,l,d,p){return new BD(a,l,d,p)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,a,l,d){return new WD(r,i,a,l,d)})(this.localStore,this.datastore,e.asyncQueue,(n=>dx(this.syncEngine,n,0)),(function(){return ix.v()?new ix:new jD})())}createSyncEngine(e,n){return(function(i,a,l,d,p,m,y){const v=new cj(i,a,l,d,p,m);return y&&(v.gu=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Be(n);we(Zo,"RemoteStore shutting down."),r.Ea.add(5),await vu(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Eg.provider={build:()=>new Eg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ai("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ro="FirestoreClient";class Tj{constructor(e,n,r,i,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Tn.UNAUTHENTICATED,this.clientId=av.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,(async l=>{we(ro,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(r,(l=>(we(ro,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Yi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Cv(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Sm(t,e){t.asyncQueue.verifyOperationInProgress(),we(ro,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await Tb(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function fx(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Sj(t);we(ro,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>ax(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>ax(e.remoteStore,i))),t._onlineComponents=e}async function Sj(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){we(ro,"Using user provided OfflineComponentProvider");try{await Sm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===ne.FAILED_PRECONDITION||i.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;vl("Error using user provided cache. Falling back to memory cache: "+n),await Sm(t,new Dh)}}else we(ro,"Using default OfflineComponentProvider"),await Sm(t,new bj(void 0));return t._offlineComponents}async function qb(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(we(ro,"Using user provided OnlineComponentProvider"),await fx(t,t._uninitializedComponentsProvider._online)):(we(ro,"Using default OnlineComponentProvider"),await fx(t,new Eg))),t._onlineComponents}function Ij(t){return qb(t).then((e=>e.syncEngine))}async function bg(t){const e=await qb(t),n=e.eventManager;return n.onListen=uj.bind(null,e.syncEngine),n.onUnlisten=fj.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=dj.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=pj.bind(null,e.syncEngine),n}function Cj(t,e,n={}){const r=new Yi;return t.asyncQueue.enqueueAndForget((async()=>(function(a,l,d,p,m){const y=new Hb({next:x=>{y.Nu(),l.enqueueAndForget((()=>Mb(a,v)));const I=x.docs.has(d);!I&&x.fromCache?m.reject(new Ie(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):I&&x.fromCache&&p&&p.source==="server"?m.reject(new Ie(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(x)},error:x=>m.reject(x)}),v=new Ob(sf(d.path),y,{includeMetadataChanges:!0,qa:!0});return jb(a,v)})(await bg(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kb(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const px=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gb="firestore.googleapis.com",mx=!0;class gx{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Ie(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Gb,this.ssl=mx}else this.host=e.host,this.ssl=e.ssl??mx;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Eb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<oD)throw new Ie(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}BR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Kb(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Ie(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Ie(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Ie(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class pf{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new gx({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ie(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ie(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new gx(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new RR;switch(r.type){case"firstParty":return new OR(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ie(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=px.get(n);r&&(we("ComponentProvider","Removing Datastore"),px.delete(n),r.terminate())})(this),Promise.resolve()}}function Nj(t,e,n,r={}){t=si(t,pf);const i=ca(e),a=t._getSettings(),l={...a,emulatorOptions:t._getEmulatorOptions()},d=`${e}:${n}`;i&&(Gg(`https://${d}`),Yg("Firestore",!0)),a.host!==Gb&&a.host!==d&&vl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...a,host:d,ssl:i,emulatorOptions:r};if(!Yo(p,l)&&(t._setSettings(p),r.mockUserToken)){let m,y;if(typeof r.mockUserToken=="string")m=r.mockUserToken,y=Tn.MOCK_USER;else{m=FE(r.mockUserToken,t._app?.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new Ie(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new Tn(v)}t._authCredentials=new DR(new j1(m,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new mf(this.firestore,e,this._query)}}class Ht{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Qi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ht(this.firestore,e,this._key)}toJSON(){return{type:Ht._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(pu(n,Ht._jsonSchema))return new Ht(e,r||null,new Pe(Et.fromString(n.referencePath)))}}Ht._jsonSchemaVersion="firestore/documentReference/1.0",Ht._jsonSchema={type:Wt("string",Ht._jsonSchemaVersion),referencePath:Wt("string")};class Qi extends mf{constructor(e,n,r){super(e,n,sf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ht(this.firestore,null,new Pe(e))}withConverter(e){return new Qi(this.firestore,e,this._path)}}function ho(t,e,...n){if(t=qt(t),M1("collection","path",e),t instanceof pf){const r=Et.fromString(e,...n);return A_(r),new Qi(t,null,r)}{if(!(t instanceof Ht||t instanceof Qi))throw new Ie(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Et.fromString(e,...n));return A_(r),new Qi(t.firestore,null,r)}}function ga(t,e,...n){if(t=qt(t),arguments.length===1&&(e=av.newId()),M1("doc","path",e),t instanceof pf){const r=Et.fromString(e,...n);return k_(r),new Ht(t,null,new Pe(r))}{if(!(t instanceof Ht||t instanceof Qi))throw new Ie(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Et.fromString(e,...n));return k_(r),new Ht(t.firestore,t instanceof Qi?t.converter:null,new Pe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vx="AsyncQueue";class yx{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Ib(this,"async_queue_retry"),this._c=()=>{const r=Tm();r&&we(vx,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Tm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Tm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Yi;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Al(e))throw e;we(vx,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,ai("INTERNAL UNHANDLED ERROR: ",wx(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=Iv.createAndSchedule(this,e,n,r,(a=>this.hc(a)));return this.tc.push(i),i}uc(){this.nc&&Le(47125,{Pc:wx(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function wx(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _x(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const a of r)if(a in i&&typeof i[a]=="function")return!0;return!1})(t,["next","error","complete"])}class bl extends pf{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new yx,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new yx(e),this._firestoreClient=void 0,await e}}}function kj(t,e){const n=typeof t=="object"?t:Qh(),r=typeof t=="string"?t:Sh,i=da(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=OE("firestore");a&&Nj(i,...a)}return i}function Pv(t){if(t._terminated)throw new Ie(ne.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Aj(t),t._firestoreClient}function Aj(t){const e=t._freezeSettings(),n=(function(i,a,l,d){return new ZR(i,a,l,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,Kb(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new Tj(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(i){const a=i?._online.build();return{_offline:i?._offline.build(a),_online:a}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Er(gn.fromBase64String(e))}catch(n){throw new Ie(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Er(gn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Er._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(pu(e,Er._jsonSchema))return Er.fromBase64String(e.bytes)}}Er._jsonSchemaVersion="firestore/bytes/1.0",Er._jsonSchema={type:Wt("string",Er._jsonSchemaVersion),bytes:Wt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ie(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new fn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ie(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ie(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Xe(this._lat,e._lat)||Xe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ts._jsonSchemaVersion}}static fromJSON(e){if(pu(e,Ts._jsonSchema))return new Ts(e.latitude,e.longitude)}}Ts._jsonSchemaVersion="firestore/geoPoint/1.0",Ts._jsonSchema={type:Wt("string",Ts._jsonSchemaVersion),latitude:Wt("number"),longitude:Wt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ss._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(pu(e,Ss._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Ss(e.vectorValues);throw new Ie(ne.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ss._jsonSchemaVersion="firestore/vectorValue/1.0",Ss._jsonSchema={type:Wt("string",Ss._jsonSchemaVersion),vectorValues:Wt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pj=/^__.*__$/;class Rj{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new uo(e,this.data,this.fieldMask,n,this.fieldTransforms):new mu(e,this.data,n,this.fieldTransforms)}}class Yb{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new uo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Qb(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Le(40011,{Ac:t})}}class Rv{constructor(e,n,r,i,a,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Rv({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return jh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Qb(this.Ac)&&Pj.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Dj{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||df(e)}Cc(e,n,r,i=!1){return new Rv({Ac:e,methodName:n,Dc:r,path:fn.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Xb(t){const e=t._freezeSettings(),n=df(t._databaseId);return new Dj(t._databaseId,!!e.ignoreUndefinedProperties,n)}function jj(t,e,n,r,i,a={}){const l=t.Cc(a.merge||a.mergeFields?2:0,e,n,i);jv("Data must be an object, but it was:",l,r);const d=Jb(r,l);let p,m;if(a.merge)p=new lr(l.fieldMask),m=l.fieldTransforms;else if(a.mergeFields){const y=[];for(const v of a.mergeFields){const x=Tg(e,v,n);if(!l.contains(x))throw new Ie(ne.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);eT(y,x)||y.push(x)}p=new lr(y),m=l.fieldTransforms.filter((v=>p.covers(v.field)))}else p=null,m=l.fieldTransforms;return new Rj(new Wn(d),p,m)}class yf extends vf{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof yf}}class Dv extends vf{_toFieldTransform(e){return new I2(e.path,new Zc)}isEqual(e){return e instanceof Dv}}function Mj(t,e,n,r){const i=t.Cc(1,e,n);jv("Data must be an object, but it was:",i,r);const a=[],l=Wn.empty();co(r,((p,m)=>{const y=Mv(e,p,n);m=qt(m);const v=i.yc(y);if(m instanceof yf)a.push(y);else{const x=wf(m,v);x!=null&&(a.push(y),l.set(y,x))}}));const d=new lr(a);return new Yb(l,d,i.fieldTransforms)}function Oj(t,e,n,r,i,a){const l=t.Cc(1,e,n),d=[Tg(e,r,n)],p=[i];if(a.length%2!=0)throw new Ie(ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<a.length;x+=2)d.push(Tg(e,a[x])),p.push(a[x+1]);const m=[],y=Wn.empty();for(let x=d.length-1;x>=0;--x)if(!eT(m,d[x])){const I=d[x];let k=p[x];k=qt(k);const S=l.yc(I);if(k instanceof yf)m.push(I);else{const b=wf(k,S);b!=null&&(m.push(I),y.set(I,b))}}const v=new lr(m);return new Yb(y,v,l.fieldTransforms)}function wf(t,e){if(Zb(t=qt(t)))return jv("Unsupported field value:",e,t),Jb(t,e);if(t instanceof vf)return(function(r,i){if(!Qb(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){const a=[];let l=0;for(const d of r){let p=wf(d,i.wc(l));p==null&&(p={nullValue:"NULL_VALUE"}),a.push(p),l++}return{arrayValue:{values:a}}})(t,e)}return(function(r,i){if((r=qt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return b2(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=bt.fromDate(r);return{timestampValue:Ah(i.serializer,a)}}if(r instanceof bt){const a=new bt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ah(i.serializer,a)}}if(r instanceof Ts)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Er)return{bytesValue:mb(i.serializer,r._byteString)};if(r instanceof Ht){const a=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(a))throw i.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:vv(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Ss)return(function(l,d){return{mapValue:{fields:{[W1]:{stringValue:H1},[Ih]:{arrayValue:{values:l.toArray().map((m=>{if(typeof m!="number")throw d.Sc("VectorValues must only contain numeric values.");return pv(d.serializer,m)}))}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${lv(r)}`)})(t,e)}function Jb(t,e){const n={};return V1(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):co(t,((r,i)=>{const a=wf(i,e.mc(r));a!=null&&(n[r]=a)})),{mapValue:{fields:n}}}function Zb(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof bt||t instanceof Ts||t instanceof Er||t instanceof Ht||t instanceof vf||t instanceof Ss)}function jv(t,e,n){if(!Zb(n)||!O1(n)){const r=lv(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function Tg(t,e,n){if((e=qt(e))instanceof gf)return e._internalPath;if(typeof e=="string")return Mv(t,e);throw jh("Field path arguments must be of type string or ",t,!1,void 0,n)}const Lj=new RegExp("[~\\*/\\[\\]]");function Mv(t,e,n){if(e.search(Lj)>=0)throw jh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new gf(...e.split("."))._internalPath}catch{throw jh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function jh(t,e,n,r,i){const a=r&&!r.isEmpty(),l=i!==void 0;let d=`Function ${e}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(a||l)&&(p+=" (found",a&&(p+=` in field ${r}`),l&&(p+=` in document ${i}`),p+=")"),new Ie(ne.INVALID_ARGUMENT,d+t+p)}function eT(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tT{constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Ht(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Vj(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(nT("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Vj extends tT{data(){return super.data()}}function nT(t,e){return typeof e=="string"?Mv(t,e):e instanceof gf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fj(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ie(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Uj{convertValue(e,n="none"){switch(to(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Lt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(eo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Le(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return co(e,((i,a)=>{r[i]=this.convertValue(a,n)})),r}convertVectorValue(e){const n=e.fields?.[Ih].arrayValue?.values?.map((r=>Lt(r.doubleValue)));return new Ss(n)}convertGeoPoint(e){return new Ts(Lt(e.latitude),Lt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=nf(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Qc(e));default:return null}}convertTimestamp(e){const n=Zi(e);return new bt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Et.fromString(e);ct(xb(r),9688,{name:e});const i=new Xc(r.get(1),r.get(3)),a=new Pe(r.popFirst(5));return i.isEqual(n)||ai(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zj(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class Lc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ko extends tT{constructor(e,n,r,i,a,l){super(e,n,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new uh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(nT("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ie(ne.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ko._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ko._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ko._jsonSchema={type:Wt("string",Ko._jsonSchemaVersion),bundleSource:Wt("string","DocumentSnapshot"),bundleName:Wt("string"),bundle:Wt("string")};class uh extends Ko{data(e={}){return super.data(e)}}class pl{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Lc(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new uh(this._firestore,this._userDataWriter,r.key,r,new Lc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ie(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,a){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map((d=>{const p=new uh(i._firestore,i._userDataWriter,d.doc.key,d.doc,new Lc(i._snapshot.mutatedKeys.has(d.doc.key),i._snapshot.fromCache),i.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:l++}}))}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((d=>a||d.type!==3)).map((d=>{const p=new uh(i._firestore,i._userDataWriter,d.doc.key,d.doc,new Lc(i._snapshot.mutatedKeys.has(d.doc.key),i._snapshot.fromCache),i.query.converter);let m=-1,y=-1;return d.type!==0&&(m=l.indexOf(d.doc.key),l=l.delete(d.doc.key)),d.type!==1&&(l=l.add(d.doc),y=l.indexOf(d.doc.key)),{type:Bj(d.type),doc:p,oldIndex:m,newIndex:y}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ie(ne.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=pl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=av.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((a=>{a._document!==null&&(n.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Bj(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Le(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $j(t){t=si(t,Ht);const e=si(t.firestore,bl);return Cj(Pv(e),t._key).then((n=>iT(e,t,n)))}pl._jsonSchemaVersion="firestore/querySnapshot/1.0",pl._jsonSchema={type:Wt("string",pl._jsonSchemaVersion),bundleSource:Wt("string","QuerySnapshot"),bundleName:Wt("string"),bundle:Wt("string")};class rT extends Uj{constructor(e){super(),this.firestore=e}convertBytes(e){return new Er(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ht(this.firestore,null,n)}}function wu(t,e,n,...r){t=si(t,Ht);const i=si(t.firestore,bl),a=Xb(i);let l;return l=typeof(e=qt(e))=="string"||e instanceof gf?Oj(a,"updateDoc",t._key,e,n,r):Mj(a,"updateDoc",t._key,e),sT(i,[l.toMutation(t._key,Es.exists(!0))])}function Ov(t,e){const n=si(t.firestore,bl),r=ga(t),i=zj(t.converter,e);return sT(n,[jj(Xb(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Es.exists(!1))]).then((()=>r))}function _f(t,...e){t=qt(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||_x(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(_x(e[r])){const p=e[r];e[r]=p.next?.bind(p),e[r+1]=p.error?.bind(p),e[r+2]=p.complete?.bind(p)}let a,l,d;if(t instanceof Ht)l=si(t.firestore,bl),d=sf(t._key.path),a={next:p=>{e[r]&&e[r](iT(l,t,p))},error:e[r+1],complete:e[r+2]};else{const p=si(t,mf);l=si(p.firestore,bl),d=p._query;const m=new rT(l);a={next:y=>{e[r]&&e[r](new pl(l,m,p,y))},error:e[r+1],complete:e[r+2]},Fj(t._query)}return(function(m,y,v,x){const I=new Hb(x),k=new Ob(y,I,v);return m.asyncQueue.enqueueAndForget((async()=>jb(await bg(m),k))),()=>{I.Nu(),m.asyncQueue.enqueueAndForget((async()=>Mb(await bg(m),k)))}})(Pv(l),d,i,a)}function sT(t,e){return(function(r,i){const a=new Yi;return r.asyncQueue.enqueueAndForget((async()=>mj(await Ij(r),i,a))),a.promise})(Pv(t),e)}function iT(t,e,n){const r=n.docs.get(e._key),i=new rT(t);return new Ko(t,i,e._key,r,new Lc(n.hasPendingWrites,n.fromCache),e.converter)}function Wj(){return new Dv("serverTimestamp")}(function(e,n=!0){(function(i){Nl=i})(ha),Ur(new br("firestore",((r,{instanceIdentifier:i,options:a})=>{const l=r.getProvider("app").getImmediate(),d=new bl(new jR(r.getProvider("auth-internal")),new LR(l,r.getProvider("app-check-internal")),(function(m,y){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new Ie(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Xc(m.options.projectId,y)})(l,i),l);return a={useFetchStreams:n,...a},d._setSettings(a),d}),"PUBLIC").setMultipleInstances(!0)),qn(S_,I_,e),qn(S_,I_,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oT="firebasestorage.googleapis.com",Hj="storageBucket",qj=120*1e3,Kj=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds extends qr{constructor(e,n,r=0){super(Im(e),`Firebase Storage: ${n} (${Im(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ds.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Im(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ks;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ks||(ks={}));function Im(t){return"storage/"+t}function Gj(){const t="An unknown error occurred, please check the error payload for server response.";return new Ds(ks.UNKNOWN,t)}function Yj(){return new Ds(ks.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Qj(){return new Ds(ks.CANCELED,"User canceled the upload/download.")}function Xj(t){return new Ds(ks.INVALID_URL,"Invalid URL '"+t+"'.")}function Jj(t){return new Ds(ks.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function xx(t){return new Ds(ks.INVALID_ARGUMENT,t)}function aT(){return new Ds(ks.APP_DELETED,"The Firebase app was deleted.")}function Zj(t){return new Ds(ks.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Fr.makeFromUrl(e,n)}catch{return new Fr(e,"")}if(r.path==="")return r;throw Jj(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function a(G){G.path.charAt(G.path.length-1)==="/"&&(G.path_=G.path_.slice(0,-1))}const l="(/(.*))?$",d=new RegExp("^gs://"+i+l,"i"),p={bucket:1,path:3};function m(G){G.path_=decodeURIComponent(G.path)}const y="v[A-Za-z0-9_]+",v=n.replace(/[.]/g,"\\."),x="(/([^?#]*).*)?$",I=new RegExp(`^https?://${v}/${y}/b/${i}/o${x}`,"i"),k={bucket:1,path:3},S=n===oT?"(?:storage.googleapis.com|storage.cloud.google.com)":n,b="([^?#]*)",j=new RegExp(`^https?://${S}/${i}/${b}`,"i"),W=[{regex:d,indices:p,postModify:a},{regex:I,indices:k,postModify:m},{regex:j,indices:{bucket:1,path:2},postModify:m}];for(let G=0;G<W.length;G++){const J=W[G],te=J.regex.exec(e);if(te){const P=te[J.indices.bucket];let N=te[J.indices.path];N||(N=""),r=new Fr(P,N),J.postModify(r);break}}if(r==null)throw Xj(e);return r}}class eM{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tM(t,e,n){let r=1,i=null,a=null,l=!1,d=0;function p(){return d===2}let m=!1;function y(...b){m||(m=!0,e.apply(null,b))}function v(b){i=setTimeout(()=>{i=null,t(I,p())},b)}function x(){a&&clearTimeout(a)}function I(b,...j){if(m){x();return}if(b){x(),y.call(null,b,...j);return}if(p()||l){x(),y.call(null,b,...j);return}r<64&&(r*=2);let W;d===1?(d=2,W=0):W=(r+Math.random())*1e3,v(W)}let k=!1;function S(b){k||(k=!0,x(),!m&&(i!==null?(b||(d=2),clearTimeout(i),v(0)):b||(d=1)))}return v(0),a=setTimeout(()=>{l=!0,S(!0)},n),S}function nM(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rM(t){return t!==void 0}function Ex(t,e,n,r){if(r<e)throw xx(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw xx(`Invalid value for '${t}'. Expected ${n} or less.`)}function sM(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var Mh;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Mh||(Mh={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iM(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return n||i||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oM{constructor(e,n,r,i,a,l,d,p,m,y,v,x=!0,I=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=l,this.callback_=d,this.errorCallback_=p,this.timeout_=m,this.progressCallback_=y,this.connectionFactory_=v,this.retry=x,this.isUsingEmulator=I,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((k,S)=>{this.resolve_=k,this.reject_=S,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Hd(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const l=d=>{const p=d.loaded,m=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,m)};this.progressCallback_!==null&&a.addUploadProgressListener(l),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(l),this.pendingConnection_=null;const d=a.getErrorCode()===Mh.NO_ERROR,p=a.getStatus();if(!d||iM(p,this.additionalRetryCodes_)&&this.retry){const y=a.getErrorCode()===Mh.ABORT;r(!1,new Hd(!1,null,y));return}const m=this.successCodes_.indexOf(p)!==-1;r(!0,new Hd(m,a))})},n=(r,i)=>{const a=this.resolve_,l=this.reject_,d=i.connection;if(i.wasSuccessCode)try{const p=this.callback_(d,d.getResponse());rM(p)?a(p):a()}catch(p){l(p)}else if(d!==null){const p=Gj();p.serverResponse=d.getErrorText(),this.errorCallback_?l(this.errorCallback_(d,p)):l(p)}else if(i.canceled){const p=this.appDelete_?aT():Qj();l(p)}else{const p=Yj();l(p)}};this.canceled_?n(!1,new Hd(!1,null,!0)):this.backoffId_=tM(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&nM(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Hd{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function aM(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function lM(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function cM(t,e){e&&(t["X-Firebase-GMPID"]=e)}function uM(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function dM(t,e,n,r,i,a,l=!0,d=!1){const p=sM(t.urlParams),m=t.url+p,y=Object.assign({},t.headers);return cM(y,e),aM(y,n),lM(y,a),uM(y,r),new oM(m,t.method,y,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,l,d)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hM(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function fM(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(e,n){this._service=e,n instanceof Fr?this._location=n:this._location=Fr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Oh(e,n)}get root(){const e=new Fr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return fM(this._location.path)}get storage(){return this._service}get parent(){const e=hM(this._location.path);if(e===null)return null;const n=new Fr(this._location.bucket,e);return new Oh(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw Zj(e)}}function bx(t,e){const n=e?.[Hj];return n==null?null:Fr.makeFromBucketSpec(n,t)}function pM(t,e,n,r={}){t.host=`${e}:${n}`;const i=ca(e);i&&(Gg(`https://${t.host}/b`),Yg("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:a}=r;a&&(t._overrideAuthToken=typeof a=="string"?a:FE(a,t.app.options.projectId))}class mM{constructor(e,n,r,i,a,l=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._isUsingEmulator=l,this._bucket=null,this._host=oT,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=qj,this._maxUploadRetryTime=Kj,this._requests=new Set,i!=null?this._bucket=Fr.makeFromBucketSpec(i,this._host):this._bucket=bx(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Fr.makeFromBucketSpec(this._url,e):this._bucket=bx(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Ex("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Ex("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(ar(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Oh(this,e)}_makeRequest(e,n,r,i,a=!0){if(this._deleted)return new eM(aT());{const l=dM(e,this._appId,r,i,n,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const Tx="@firebase/storage",Sx="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lT="storage";function gM(t=Qh(),e){t=qt(t);const r=da(t,lT).getImmediate({identifier:e}),i=OE("storage");return i&&vM(r,...i),r}function vM(t,e,n,r={}){pM(t,e,n,r)}function yM(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new mM(n,r,i,e,ha)}function wM(){Ur(new br(lT,yM,"PUBLIC").setMultipleInstances(!0)),qn(Tx,Sx,""),qn(Tx,Sx,"esm2020")}wM();const cT="@firebase/installations",Lv="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uT=1e4,dT=`w:${Lv}`,hT="FIS_v2",_M="https://firebaseinstallations.googleapis.com/v1",xM=3600*1e3,EM="installations",bM="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TM={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},ea=new ua(EM,bM,TM);function fT(t){return t instanceof qr&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pT({projectId:t}){return`${_M}/projects/${t}/installations`}function mT(t){return{token:t.token,requestStatus:2,expiresIn:IM(t.expiresIn),creationTime:Date.now()}}async function gT(t,e){const r=(await e.json()).error;return ea.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function vT({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function SM(t,{refreshToken:e}){const n=vT(t);return n.append("Authorization",CM(e)),n}async function yT(t){const e=await t();return e.status>=500&&e.status<600?t():e}function IM(t){return Number(t.replace("s","000"))}function CM(t){return`${hT} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NM({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=pT(t),i=vT(t),a=e.getImmediate({optional:!0});if(a){const m=await a.getHeartbeatsHeader();m&&i.append("x-firebase-client",m)}const l={fid:n,authVersion:hT,appId:t.appId,sdkVersion:dT},d={method:"POST",headers:i,body:JSON.stringify(l)},p=await yT(()=>fetch(r,d));if(p.ok){const m=await p.json();return{fid:m.fid||n,registrationStatus:2,refreshToken:m.refreshToken,authToken:mT(m.authToken)}}else throw await gT("Create Installation",p)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wT(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kM(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AM=/^[cdef][\w-]{21}$/,Sg="";function PM(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=RM(t);return AM.test(n)?n:Sg}catch{return Sg}}function RM(t){return kM(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xf(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _T=new Map;function xT(t,e){const n=xf(t);ET(n,e),DM(n,e)}function ET(t,e){const n=_T.get(t);if(n)for(const r of n)r(e)}function DM(t,e){const n=jM();n&&n.postMessage({key:t,fid:e}),MM()}let Ho=null;function jM(){return!Ho&&"BroadcastChannel"in self&&(Ho=new BroadcastChannel("[Firebase] FID Change"),Ho.onmessage=t=>{ET(t.data.key,t.data.fid)}),Ho}function MM(){_T.size===0&&Ho&&(Ho.close(),Ho=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OM="firebase-installations-database",LM=1,ta="firebase-installations-store";let Cm=null;function Vv(){return Cm||(Cm=Yh(OM,LM,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(ta)}}})),Cm}async function Lh(t,e){const n=xf(t),i=(await Vv()).transaction(ta,"readwrite"),a=i.objectStore(ta),l=await a.get(n);return await a.put(e,n),await i.done,(!l||l.fid!==e.fid)&&xT(t,e.fid),e}async function bT(t){const e=xf(t),r=(await Vv()).transaction(ta,"readwrite");await r.objectStore(ta).delete(e),await r.done}async function Ef(t,e){const n=xf(t),i=(await Vv()).transaction(ta,"readwrite"),a=i.objectStore(ta),l=await a.get(n),d=e(l);return d===void 0?await a.delete(n):await a.put(d,n),await i.done,d&&(!l||l.fid!==d.fid)&&xT(t,d.fid),d}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fv(t){let e;const n=await Ef(t.appConfig,r=>{const i=VM(r),a=FM(t,i);return e=a.registrationPromise,a.installationEntry});return n.fid===Sg?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function VM(t){const e=t||{fid:PM(),registrationStatus:0};return TT(e)}function FM(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(ea.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=UM(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:zM(t)}:{installationEntry:e}}async function UM(t,e){try{const n=await NM(t,e);return Lh(t.appConfig,n)}catch(n){throw fT(n)&&n.customData.serverCode===409?await bT(t.appConfig):await Lh(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function zM(t){let e=await Ix(t.appConfig);for(;e.registrationStatus===1;)await wT(100),e=await Ix(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await Fv(t);return r||n}return e}function Ix(t){return Ef(t,e=>{if(!e)throw ea.create("installation-not-found");return TT(e)})}function TT(t){return BM(t)?{fid:t.fid,registrationStatus:0}:t}function BM(t){return t.registrationStatus===1&&t.registrationTime+uT<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $M({appConfig:t,heartbeatServiceProvider:e},n){const r=WM(t,n),i=SM(t,n),a=e.getImmediate({optional:!0});if(a){const m=await a.getHeartbeatsHeader();m&&i.append("x-firebase-client",m)}const l={installation:{sdkVersion:dT,appId:t.appId}},d={method:"POST",headers:i,body:JSON.stringify(l)},p=await yT(()=>fetch(r,d));if(p.ok){const m=await p.json();return mT(m)}else throw await gT("Generate Auth Token",p)}function WM(t,{fid:e}){return`${pT(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uv(t,e=!1){let n;const r=await Ef(t.appConfig,a=>{if(!ST(a))throw ea.create("not-registered");const l=a.authToken;if(!e&&KM(l))return a;if(l.requestStatus===1)return n=HM(t,e),a;{if(!navigator.onLine)throw ea.create("app-offline");const d=YM(a);return n=qM(t,d),d}});return n?await n:r.authToken}async function HM(t,e){let n=await Cx(t.appConfig);for(;n.authToken.requestStatus===1;)await wT(100),n=await Cx(t.appConfig);const r=n.authToken;return r.requestStatus===0?Uv(t,e):r}function Cx(t){return Ef(t,e=>{if(!ST(e))throw ea.create("not-registered");const n=e.authToken;return QM(n)?{...e,authToken:{requestStatus:0}}:e})}async function qM(t,e){try{const n=await $M(t,e),r={...e,authToken:n};return await Lh(t.appConfig,r),n}catch(n){if(fT(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await bT(t.appConfig);else{const r={...e,authToken:{requestStatus:0}};await Lh(t.appConfig,r)}throw n}}function ST(t){return t!==void 0&&t.registrationStatus===2}function KM(t){return t.requestStatus===2&&!GM(t)}function GM(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+xM}function YM(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function QM(t){return t.requestStatus===1&&t.requestTime+uT<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XM(t){const e=t,{installationEntry:n,registrationPromise:r}=await Fv(e);return r?r.catch(console.error):Uv(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JM(t,e=!1){const n=t;return await ZM(n),(await Uv(n,e)).token}async function ZM(t){const{registrationPromise:e}=await Fv(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eO(t){if(!t||!t.options)throw Nm("App Configuration");if(!t.name)throw Nm("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Nm(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Nm(t){return ea.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IT="installations",tO="installations-internal",nO=t=>{const e=t.getProvider("app").getImmediate(),n=eO(e),r=da(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},rO=t=>{const e=t.getProvider("app").getImmediate(),n=da(e,IT).getImmediate();return{getId:()=>XM(n),getToken:i=>JM(n,i)}};function sO(){Ur(new br(IT,nO,"PUBLIC")),Ur(new br(tO,rO,"PRIVATE"))}sO();qn(cT,Lv);qn(cT,Lv,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iO="/firebase-messaging-sw.js",oO="/firebase-cloud-messaging-push-scope",CT="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",aO="https://fcmregistrations.googleapis.com/v1",NT="google.c.a.c_id",lO="google.c.a.c_l",cO="google.c.a.ts",uO="google.c.a.e",Nx=1e4;var kx;(function(t){t[t.DATA_MESSAGE=1]="DATA_MESSAGE",t[t.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(kx||(kx={}));/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var nu;(function(t){t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked"})(nu||(nu={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zs(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function dO(t){const e="=".repeat((4-t.length%4)%4),n=(t+e).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let a=0;a<r.length;++a)i[a]=r.charCodeAt(a);return i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const km="fcm_token_details_db",hO=5,Ax="fcm_token_object_Store";async function fO(t){if("databases"in indexedDB&&!(await indexedDB.databases()).map(a=>a.name).includes(km))return null;let e=null;return(await Yh(km,hO,{upgrade:async(r,i,a,l)=>{if(i<2||!r.objectStoreNames.contains(Ax))return;const d=l.objectStore(Ax),p=await d.index("fcmSenderId").get(t);if(await d.clear(),!!p){if(i===2){const m=p;if(!m.auth||!m.p256dh||!m.endpoint)return;e={token:m.fcmToken,createTime:m.createTime??Date.now(),subscriptionOptions:{auth:m.auth,p256dh:m.p256dh,endpoint:m.endpoint,swScope:m.swScope,vapidKey:typeof m.vapidKey=="string"?m.vapidKey:Zs(m.vapidKey)}}}else if(i===3){const m=p;e={token:m.fcmToken,createTime:m.createTime,subscriptionOptions:{auth:Zs(m.auth),p256dh:Zs(m.p256dh),endpoint:m.endpoint,swScope:m.swScope,vapidKey:Zs(m.vapidKey)}}}else if(i===4){const m=p;e={token:m.fcmToken,createTime:m.createTime,subscriptionOptions:{auth:Zs(m.auth),p256dh:Zs(m.p256dh),endpoint:m.endpoint,swScope:m.swScope,vapidKey:Zs(m.vapidKey)}}}}}})).close(),await gm(km),await gm("fcm_vapid_details_db"),await gm("undefined"),pO(e)?e:null}function pO(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return typeof t.createTime=="number"&&t.createTime>0&&typeof t.token=="string"&&t.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mO="firebase-messaging-database",gO=1,ru="firebase-messaging-store";let Am=null;function kT(){return Am||(Am=Yh(mO,gO,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(ru)}}})),Am}async function vO(t){const e=AT(t),r=await(await kT()).transaction(ru).objectStore(ru).get(e);if(r)return r;{const i=await fO(t.appConfig.senderId);if(i)return await zv(t,i),i}}async function zv(t,e){const n=AT(t),i=(await kT()).transaction(ru,"readwrite");return await i.objectStore(ru).put(e,n),await i.done,e}function AT({appConfig:t}){return t.appId}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yO={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},Dn=new ua("messaging","Messaging",yO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wO(t,e){const n=await $v(t),r=PT(e),i={method:"POST",headers:n,body:JSON.stringify(r)};let a;try{a=await(await fetch(Bv(t.appConfig),i)).json()}catch(l){throw Dn.create("token-subscribe-failed",{errorInfo:l?.toString()})}if(a.error){const l=a.error.message;throw Dn.create("token-subscribe-failed",{errorInfo:l})}if(!a.token)throw Dn.create("token-subscribe-no-token");return a.token}async function _O(t,e){const n=await $v(t),r=PT(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let a;try{a=await(await fetch(`${Bv(t.appConfig)}/${e.token}`,i)).json()}catch(l){throw Dn.create("token-update-failed",{errorInfo:l?.toString()})}if(a.error){const l=a.error.message;throw Dn.create("token-update-failed",{errorInfo:l})}if(!a.token)throw Dn.create("token-update-no-token");return a.token}async function xO(t,e){const r={method:"DELETE",headers:await $v(t)};try{const a=await(await fetch(`${Bv(t.appConfig)}/${e}`,r)).json();if(a.error){const l=a.error.message;throw Dn.create("token-unsubscribe-failed",{errorInfo:l})}}catch(i){throw Dn.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}}function Bv({projectId:t}){return`${aO}/projects/${t}/registrations`}async function $v({appConfig:t,installations:e}){const n=await e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})}function PT({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:e,p256dh:t}};return r!==CT&&(i.web.applicationPubKey=r),i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EO=10080*60*1e3;async function bO(t){const e=await SO(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:Zs(e.getKey("auth")),p256dh:Zs(e.getKey("p256dh"))},r=await vO(t.firebaseDependencies);if(r){if(IO(r.subscriptionOptions,n))return Date.now()>=r.createTime+EO?TO(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{await xO(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return Px(t.firebaseDependencies,n)}else return Px(t.firebaseDependencies,n)}async function TO(t,e){try{const n=await _O(t.firebaseDependencies,e),r={...e,token:n,createTime:Date.now()};return await zv(t.firebaseDependencies,r),n}catch(n){throw n}}async function Px(t,e){const r={token:await wO(t,e),createTime:Date.now(),subscriptionOptions:e};return await zv(t,r),r.token}async function SO(t,e){const n=await t.pushManager.getSubscription();return n||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:dO(e)})}function IO(t,e){const n=e.vapidKey===t.vapidKey,r=e.endpoint===t.endpoint,i=e.auth===t.auth,a=e.p256dh===t.p256dh;return n&&r&&i&&a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rx(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return CO(e,t),NO(e,t),kO(e,t),e}function CO(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const i=e.notification.image;i&&(t.notification.image=i);const a=e.notification.icon;a&&(t.notification.icon=a)}function NO(t,e){e.data&&(t.data=e.data)}function kO(t,e){if(!e.fcmOptions&&!e.notification?.click_action)return;t.fcmOptions={};const n=e.fcmOptions?.link??e.notification?.click_action;n&&(t.fcmOptions.link=n);const r=e.fcmOptions?.analytics_label;r&&(t.fcmOptions.analyticsLabel=r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AO(t){return typeof t=="object"&&!!t&&NT in t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PO(t){if(!t||!t.options)throw Pm("App Configuration Object");if(!t.name)throw Pm("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw Pm(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}function Pm(t){return Dn.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RO{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=PO(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DO(t){try{t.swRegistration=await navigator.serviceWorker.register(iO,{scope:oO}),t.swRegistration.update().catch(()=>{}),await jO(t.swRegistration)}catch(e){throw Dn.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}}async function jO(t){return new Promise((e,n)=>{const r=setTimeout(()=>n(new Error(`Service worker not registered after ${Nx} ms`)),Nx),i=t.installing||t.waiting;t.active?(clearTimeout(r),e()):i?i.onstatechange=a=>{a.target?.state==="activated"&&(i.onstatechange=null,clearTimeout(r),e())}:(clearTimeout(r),n(new Error("No incoming service worker found.")))})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MO(t,e){if(!e&&!t.swRegistration&&await DO(t),!(!e&&t.swRegistration)){if(!(e instanceof ServiceWorkerRegistration))throw Dn.create("invalid-sw-registration");t.swRegistration=e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OO(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=CT)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LO(t,e){if(!navigator)throw Dn.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw Dn.create("permission-blocked");return await OO(t,e?.vapidKey),await MO(t,e?.serviceWorkerRegistration),bO(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VO(t,e,n){const r=FO(e);(await t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[NT],message_name:n[lO],message_time:n[cO],message_device_time:Math.floor(Date.now()/1e3)})}function FO(t){switch(t){case nu.NOTIFICATION_CLICKED:return"notification_open";case nu.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UO(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===nu.PUSH_RECEIVED&&(typeof t.onMessageHandler=="function"?t.onMessageHandler(Rx(n)):t.onMessageHandler.next(Rx(n)));const r=n.data;AO(r)&&r[uO]==="1"&&await VO(t,n.messageType,r)}const Dx="@firebase/messaging",jx="0.12.23";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zO=t=>{const e=new RO(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>UO(e,n)),e},BO=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>LO(e,r)}};function $O(){Ur(new br("messaging",zO,"PUBLIC")),Ur(new br("messaging-internal",BO,"PRIVATE")),qn(Dx,jx),qn(Dx,jx,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WO(){try{await zE()}catch{return!1}return typeof window<"u"&&UE()&&ek()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HO(t=Qh()){return WO().then(e=>{if(!e)throw Dn.create("unsupported-browser")},e=>{throw Dn.create("indexed-db-unsupported")}),da(qt(t),"messaging").getImmediate()}$O();const qO={apiKey:"AIzaSyAit5yUFIDwNEWgyZKAmpaLj1-8iVSFhyY",authDomain:"egumeni-eats-e2a32.firebaseapp.com",projectId:"egumeni-eats-e2a32",storageBucket:"egumeni-eats-e2a32.firebasestorage.app",messagingSenderId:"318471281511",appId:"1:318471281511:web:6f1039f550a3a7e2746dc2",measurementId:"G-G33WN12JFC"},bf=WE(qO),Tf=NR(bf),fo=kj(bf);gM(bf);HO(bf);const Wv=ho(fo,"services"),KO=async t=>(await Ov(Wv,t)).id,GO=async(t,e)=>{const n=ga(Wv,t);await wu(n,e)},YO=ho(fo,"products"),RT=ho(fo,"bookings"),QO=async(t,e)=>{const n=ga(RT,t);await wu(n,e)},Hv=ho(fo,"emergencyIncidents"),XO=async t=>(await Ov(Hv,{...t,createdAt:Wj()})).id,Hc=async(t,e)=>{const n=ga(Hv,t);await wu(n,e)},qv=ho(fo,"users"),DT=async t=>{const e=ga(qv,t),n=await $j(e);return n.exists()?{id:n.id,...n.data()}:null},JO=async(t,e)=>{const n=ga(qv,e);await wu(n,t)},Mx=async(t,e)=>{const n=ga(qv,t);await wu(n,e)},Kv=t=>_f(Wv,e=>{const n=e.docs.map(r=>({id:r.id,...r.data()}));t(n)}),jT=t=>_f(RT,e=>{const n=e.docs.map(r=>({id:r.id,...r.data()}));t(n)}),Gv=t=>_f(Hv,e=>{const n=e.docs.map(r=>({id:r.id,...r.data()}));t(n)}),ZO=t=>_f(YO,e=>{const n=e.docs.map(r=>({id:r.id,...r.data()}));t(n)}),e4=async(t,e,n,r)=>{const a=(await hP(Tf,t,e)).user,l={role:n,name:r.name||"",email:t,phone:r.phone||"",photoUrl:r.photoUrl,walletBalance:r.walletBalance||0,loyaltyPoints:r.loyaltyPoints||0};return await JO(l,a.uid),{id:a.uid,...l}},t4=async(t,e)=>{const r=(await fP(Tf,t,e)).user;return await DT(r.uid)},n4=async()=>{await vP(Tf)},r4=t=>gP(Tf,async e=>{if(e){const n=await DT(e.uid);t(n)}else t(null)});ho(fo,"payments");const s4=ho(fo,"loyaltyConversions"),i4=async t=>{const e={...t,createdAt:new Date};return(await Ov(s4,e)).id},o4=async t=>{try{const e=await i4(t);return console.log(`Converted ${t.pointsUsed} points to R${t.amount}`),{success:!0,conversionId:e}}catch(e){return console.error("Loyalty conversion failed:",e),{success:!1}}};ho(fo,"orders");const MT=C.createContext(void 0),js=()=>{const t=C.useContext(MT);if(!t)throw new Error("useAuth must be used within AuthProvider");return t},a4=({children:t})=>{const[e,n]=C.useState(null);C.useEffect(()=>{const d=r4(p=>{n(p)});return()=>d()},[]);const r=async(d,p,m)=>{const y=await t4(d,p);y&&n(y)},i=async()=>{await n4(),n(null)},a=async d=>{e&&(await Mx(e.id,d),n({...e,...d}))},l=async(d,p,m)=>{if(!e)return!1;try{const y={customerId:e.id,pointsUsed:d,amount:p,description:m},v=await o4(y);if(v&&e.loyaltyPoints>=d){const x=e.loyaltyPoints-d;await Mx(e.id,{loyaltyPoints:x}),n({...e,loyaltyPoints:x})}return!!v}catch(y){return console.error("Loyalty conversion failed:",y),!1}};return u.jsx(MT.Provider,{value:{user:e,login:r,logout:i,updateUser:a,convertLoyaltyPoints:l,isAuthenticated:!!e},children:t})},OT=C.createContext(void 0),Yv=()=>{const t=C.useContext(OT);if(!t)throw new Error("useCart must be used within CartProvider");return t},l4=({children:t})=>{const[e,n]=C.useState([]),r=(m,y=1)=>{n(v=>v.find(I=>I.product.id===m.id)?v.map(I=>I.product.id===m.id?{...I,quantity:I.quantity+y}:I):[...v,{product:m,quantity:y}])},i=m=>{n(y=>y.filter(v=>v.product.id!==m))},a=(m,y)=>{if(y<=0){i(m);return}n(v=>v.map(x=>x.product.id===m?{...x,quantity:y}:x))},l=()=>{n([])},d=e.reduce((m,y)=>m+y.product.price*y.quantity,0),p=e.reduce((m,y)=>m+y.quantity,0);return u.jsx(OT.Provider,{value:{items:e,addToCart:r,removeFromCart:i,updateQuantity:a,clearCart:l,total:d,itemCount:p},children:t})},c4=async(t,e,n)=>{Notification.permission==="granted"&&new Notification(t,{body:e,icon:"/logo.png",badge:"/logo.png"})},u4=async(t,e)=>{const n=" EMERGENCY ALERT",r=`New emergency incident reported at ${e}. Respond immediately.`;await c4(n,r)},d4=async(t,e,n)=>{console.log("Sending promotion to users:",n)},LT=C.createContext(void 0),Qv=()=>{const t=C.useContext(LT);if(!t)throw new Error("useEmergency must be used within EmergencyProvider");return t},h4=({children:t})=>{const{user:e}=js(),[n,r]=C.useState(!1),[i,a]=C.useState(null);C.useEffect(()=>{if(!e)return;const m=Gv(y=>{const v=y.find(x=>x.userId===e.id&&x.status==="active");v&&(a(v),r(!0))});return()=>m()},[e]);const l=async m=>{if(!e)return;const y={userId:e.id,userName:e.name,createdAt:new Date,location:m,status:"active",hasLiveChat:!0,responders:[],messages:[]},v=await XO(y),x={id:v,...y};a(x),r(!0),await u4(v,m.address),console.log(" EMERGENCY ACTIVATED",x)},d=async()=>{i&&await Hc(i.id,{status:"resolved"}),r(!1),a(null)},p=async m=>{if(i){const y={id:`msg-${Date.now()}`,senderId:e?.id||"unknown",senderName:e?.name||"You",message:m,timestamp:new Date},v=[...i.messages,y];await Hc(i.id,{messages:v}),a({...i,messages:v})}};return u.jsx(LT.Provider,{value:{isEmergencyMode:n,activeIncident:i,activateEmergency:l,deactivateEmergency:d,sendMessage:p},children:t})};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f4=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),p4=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),Ox=t=>{const e=p4(t);return e.charAt(0).toUpperCase()+e.slice(1)},VT=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var m4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g4=C.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:l,...d},p)=>C.createElement("svg",{ref:p,...m4,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:VT("lucide",i),...d},[...l.map(([m,y])=>C.createElement(m,y)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const He=(t,e)=>{const n=C.forwardRef(({className:r,...i},a)=>C.createElement(g4,{ref:a,iconNode:e,className:VT(`lucide-${f4(Ox(t))}`,`lucide-${t}`,r),...i}));return n.displayName=Ox(t),n};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v4=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Rm=He("activity",v4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y4=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Ig=He("arrow-left",y4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w4=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Lx=He("arrow-right",w4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _4=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],x4=He("award",_4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E4=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Go=He("calendar",E4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b4=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],T4=He("check",b4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S4=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],FT=He("chevron-down",S4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I4=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],C4=He("chevron-left",I4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N4=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],k4=He("chevron-right",N4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A4=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],P4=He("chevron-up",A4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R4=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],D4=He("circle-check-big",R4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],Sf=He("clock",j4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M4=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],O4=He("credit-card",M4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L4=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],UT=He("dollar-sign",L4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V4=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],F4=He("funnel",V4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U4=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],z4=He("gift",U4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B4=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],$4=He("house",B4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W4=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],H4=He("log-out",W4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q4=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],qo=He("map-pin",q4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K4=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],Vx=He("message-square",K4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G4=[["path",{d:"M5 12h14",key:"1ays0h"}]],Y4=He("minus",G4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q4=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],X4=He("package",Q4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J4=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],Xv=He("phone",J4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z4=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Vh=He("plus",Z4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eL=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],If=He("search",eL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tL=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Cg=He("send",tL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nL=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],rL=He("settings",nL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sL=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],su=He("shield",sL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iL=[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]],zT=He("shopping-bag",iL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oL=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],aL=He("shopping-cart",oL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lL=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],As=He("sparkles",lL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cL=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Cf=He("star",cL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uL=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],dL=He("trash-2",uL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hL=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],BT=He("trending-up",hL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fL=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Ng=He("triangle-alert",fL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pL=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],$T=He("user",pL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mL=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],gL=He("users",mL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vL=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],yL=He("wallet",vL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wL=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],WT=He("x",wL),_u=({size:t="md",enableEmergency:e=!1})=>{const[n,r]=C.useState(!1),[i,a]=C.useState(0),l=C.useRef(null),d=C.useRef(null),{activateEmergency:p}=Qv(),m={sm:"h-6 w-6",md:"h-8 w-8",lg:"h-12 w-12"},y=()=>{e&&(r(!0),a(0),d.current=setInterval(()=>{a(I=>I>=100?(clearInterval(d.current),100):I+5)},100),l.current=setTimeout(()=>{p({lat:-26.2041,lng:28.0473,address:"Current Location"}),navigator.vibrate&&navigator.vibrate([200,100,200]),x()},2e3))},v=()=>{x()},x=()=>{l.current&&(clearTimeout(l.current),l.current=null),d.current&&(clearInterval(d.current),d.current=null),r(!1),a(0)};return C.useEffect(()=>()=>{x()},[]),u.jsxs("div",{className:"relative inline-flex items-center gap-2",children:[u.jsxs("div",{className:"relative",onMouseDown:y,onMouseUp:v,onMouseLeave:v,onTouchStart:y,onTouchEnd:v,children:[n&&u.jsx("svg",{className:"absolute inset-0 -m-1 pointer-events-none",viewBox:"0 0 40 40",children:u.jsx("circle",{cx:"20",cy:"20",r:"18",fill:"none",stroke:"#ef4444",strokeWidth:"2",strokeDasharray:`${i*1.13} 113`,strokeLinecap:"round",transform:"rotate(-90 20 20)",className:"transition-all duration-100"})}),u.jsx("div",{className:`${m[t]} bg-purple-600 rounded-lg flex items-center justify-center relative`,children:u.jsx(As,{className:`${t==="sm"?"h-3 w-3":t==="md"?"h-4 w-4":"h-6 w-6"} text-white`})})]}),u.jsx("span",{className:`${t==="sm"?"text-base":t==="lg"?"text-2xl":"text-lg"} text-purple-600`,children:"Your Look"})]})};function Fx(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function HT(...t){return e=>{let n=!1;const r=t.map(i=>{const a=Fx(i,e);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let i=0;i<r.length;i++){const a=r[i];typeof a=="function"?a():Fx(t[i],null)}}}}function Dt(...t){return C.useCallback(HT(...t),t)}function Tl(t){const e=_L(t),n=C.forwardRef((r,i)=>{const{children:a,...l}=r,d=C.Children.toArray(a),p=d.find(EL);if(p){const m=p.props.children,y=d.map(v=>v===p?C.Children.count(m)>1?C.Children.only(null):C.isValidElement(m)?m.props.children:null:v);return u.jsx(e,{...l,ref:i,children:C.isValidElement(m)?C.cloneElement(m,void 0,y):null})}return u.jsx(e,{...l,ref:i,children:a})});return n.displayName=`${t}.Slot`,n}var qT=Tl("Slot");function _L(t){const e=C.forwardRef((n,r)=>{const{children:i,...a}=n;if(C.isValidElement(i)){const l=TL(i),d=bL(a,i.props);return i.type!==C.Fragment&&(d.ref=r?HT(r,l):l),C.cloneElement(i,d)}return C.Children.count(i)>1?C.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var xL=Symbol("radix.slottable");function EL(t){return C.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===xL}function bL(t,e){const n={...e};for(const r in e){const i=t[r],a=e[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...d)=>{const p=a(...d);return i(...d),p}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...t,...n}}function TL(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function KT(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=KT(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function GT(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=KT(t))&&(r&&(r+=" "),r+=e);return r}const Ux=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,zx=GT,YT=(t,e)=>n=>{var r;if(e?.variants==null)return zx(t,n?.class,n?.className);const{variants:i,defaultVariants:a}=e,l=Object.keys(i).map(m=>{const y=n?.[m],v=a?.[m];if(y===null)return null;const x=Ux(y)||Ux(v);return i[m][x]}),d=n&&Object.entries(n).reduce((m,y)=>{let[v,x]=y;return x===void 0||(m[v]=x),m},{}),p=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((m,y)=>{let{class:v,className:x,...I}=y;return Object.entries(I).every(k=>{let[S,b]=k;return Array.isArray(b)?b.includes({...a,...d}[S]):{...a,...d}[S]===b})?[...m,v,x]:m},[]);return zx(t,l,p,n?.class,n?.className)},Jv="-",SL=t=>{const e=CL(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:l=>{const d=l.split(Jv);return d[0]===""&&d.length!==1&&d.shift(),QT(d,e)||IL(l)},getConflictingClassGroupIds:(l,d)=>{const p=n[l]||[];return d&&r[l]?[...p,...r[l]]:p}}},QT=(t,e)=>{if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?QT(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const a=t.join(Jv);return e.validators.find(({validator:l})=>l(a))?.classGroupId},Bx=/^\[(.+)\]$/,IL=t=>{if(Bx.test(t)){const e=Bx.exec(t)[1],n=e?.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},CL=t=>{const{theme:e,classGroups:n}=t,r={nextPart:new Map,validators:[]};for(const i in n)kg(n[i],r,i,e);return r},kg=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const a=i===""?e:$x(e,i);a.classGroupId=n;return}if(typeof i=="function"){if(NL(i)){kg(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([a,l])=>{kg(l,$x(e,a),n,r)})})},$x=(t,e)=>{let n=t;return e.split(Jv).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},NL=t=>t.isThemeGetter,kL=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(a,l)=>{n.set(a,l),e++,e>t&&(e=0,r=n,n=new Map)};return{get(a){let l=n.get(a);if(l!==void 0)return l;if((l=r.get(a))!==void 0)return i(a,l),l},set(a,l){n.has(a)?n.set(a,l):i(a,l)}}},Ag="!",Pg=":",AL=Pg.length,PL=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=i=>{const a=[];let l=0,d=0,p=0,m;for(let k=0;k<i.length;k++){let S=i[k];if(l===0&&d===0){if(S===Pg){a.push(i.slice(p,k)),p=k+AL;continue}if(S==="/"){m=k;continue}}S==="["?l++:S==="]"?l--:S==="("?d++:S===")"&&d--}const y=a.length===0?i:i.substring(p),v=RL(y),x=v!==y,I=m&&m>p?m-p:void 0;return{modifiers:a,hasImportantModifier:x,baseClassName:v,maybePostfixModifierPosition:I}};if(e){const i=e+Pg,a=r;r=l=>l.startsWith(i)?a(l.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:l,maybePostfixModifierPosition:void 0}}if(n){const i=r;r=a=>n({className:a,parseClassName:i})}return r},RL=t=>t.endsWith(Ag)?t.substring(0,t.length-1):t.startsWith(Ag)?t.substring(1):t,DL=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const i=[];let a=[];return r.forEach(l=>{l[0]==="["||e[l]?(i.push(...a.sort(),l),a=[]):a.push(l)}),i.push(...a.sort()),i}},jL=t=>({cache:kL(t.cacheSize),parseClassName:PL(t),sortModifiers:DL(t),...SL(t)}),ML=/\s+/,OL=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:a}=e,l=[],d=t.trim().split(ML);let p="";for(let m=d.length-1;m>=0;m-=1){const y=d[m],{isExternal:v,modifiers:x,hasImportantModifier:I,baseClassName:k,maybePostfixModifierPosition:S}=n(y);if(v){p=y+(p.length>0?" "+p:p);continue}let b=!!S,j=r(b?k.substring(0,S):k);if(!j){if(!b){p=y+(p.length>0?" "+p:p);continue}if(j=r(k),!j){p=y+(p.length>0?" "+p:p);continue}b=!1}const z=a(x).join(":"),W=I?z+Ag:z,G=W+j;if(l.includes(G))continue;l.push(G);const J=i(j,b);for(let te=0;te<J.length;++te){const P=J[te];l.push(W+P)}p=y+(p.length>0?" "+p:p)}return p};function LL(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=XT(e))&&(r&&(r+=" "),r+=n);return r}const XT=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=XT(t[r]))&&(n&&(n+=" "),n+=e);return n};function VL(t,...e){let n,r,i,a=l;function l(p){const m=e.reduce((y,v)=>v(y),t());return n=jL(m),r=n.cache.get,i=n.cache.set,a=d,d(p)}function d(p){const m=r(p);if(m)return m;const y=OL(p,n);return i(p,y),y}return function(){return a(LL.apply(null,arguments))}}const Qt=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},JT=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,ZT=/^\((?:(\w[\w-]*):)?(.+)\)$/i,FL=/^\d+\/\d+$/,UL=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,zL=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,BL=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,$L=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,WL=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,el=t=>FL.test(t),We=t=>!!t&&!Number.isNaN(Number(t)),Fi=t=>!!t&&Number.isInteger(Number(t)),Dm=t=>t.endsWith("%")&&We(t.slice(0,-1)),Xs=t=>UL.test(t),HL=()=>!0,qL=t=>zL.test(t)&&!BL.test(t),eS=()=>!1,KL=t=>$L.test(t),GL=t=>WL.test(t),YL=t=>!be(t)&&!Te(t),QL=t=>Rl(t,rS,eS),be=t=>JT.test(t),zo=t=>Rl(t,sS,qL),jm=t=>Rl(t,tV,We),Wx=t=>Rl(t,tS,eS),XL=t=>Rl(t,nS,GL),qd=t=>Rl(t,iS,KL),Te=t=>ZT.test(t),kc=t=>Dl(t,sS),JL=t=>Dl(t,nV),Hx=t=>Dl(t,tS),ZL=t=>Dl(t,rS),eV=t=>Dl(t,nS),Kd=t=>Dl(t,iS,!0),Rl=(t,e,n)=>{const r=JT.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},Dl=(t,e,n=!1)=>{const r=ZT.exec(t);return r?r[1]?e(r[1]):n:!1},tS=t=>t==="position"||t==="percentage",nS=t=>t==="image"||t==="url",rS=t=>t==="length"||t==="size"||t==="bg-size",sS=t=>t==="length",tV=t=>t==="number",nV=t=>t==="family-name",iS=t=>t==="shadow",rV=()=>{const t=Qt("color"),e=Qt("font"),n=Qt("text"),r=Qt("font-weight"),i=Qt("tracking"),a=Qt("leading"),l=Qt("breakpoint"),d=Qt("container"),p=Qt("spacing"),m=Qt("radius"),y=Qt("shadow"),v=Qt("inset-shadow"),x=Qt("text-shadow"),I=Qt("drop-shadow"),k=Qt("blur"),S=Qt("perspective"),b=Qt("aspect"),j=Qt("ease"),z=Qt("animate"),W=()=>["auto","avoid","all","avoid-page","page","left","right","column"],G=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],J=()=>[...G(),Te,be],te=()=>["auto","hidden","clip","visible","scroll"],P=()=>["auto","contain","none"],N=()=>[Te,be,p],D=()=>[el,"full","auto",...N()],V=()=>[Fi,"none","subgrid",Te,be],O=()=>["auto",{span:["full",Fi,Te,be]},Fi,Te,be],U=()=>[Fi,"auto",Te,be],R=()=>["auto","min","max","fr",Te,be],ve=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],ke=()=>["start","end","center","stretch","center-safe","end-safe"],ae=()=>["auto",...N()],X=()=>[el,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...N()],L=()=>[t,Te,be],ue=()=>[...G(),Hx,Wx,{position:[Te,be]}],ie=()=>["no-repeat",{repeat:["","x","y","space","round"]}],B=()=>["auto","cover","contain",ZL,QL,{size:[Te,be]}],Z=()=>[Dm,kc,zo],le=()=>["","none","full",m,Te,be],fe=()=>["",We,kc,zo],ge=()=>["solid","dashed","dotted","double"],Ce=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],re=()=>[We,Dm,Hx,Wx],pe=()=>["","none",k,Te,be],Ae=()=>["none",We,Te,be],je=()=>["none",We,Te,be],$e=()=>[We,Te,be],qe=()=>[el,"full",...N()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Xs],breakpoint:[Xs],color:[HL],container:[Xs],"drop-shadow":[Xs],ease:["in","out","in-out"],font:[YL],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Xs],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Xs],shadow:[Xs],spacing:["px",We],text:[Xs],"text-shadow":[Xs],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",el,be,Te,b]}],container:["container"],columns:[{columns:[We,be,Te,d]}],"break-after":[{"break-after":W()}],"break-before":[{"break-before":W()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:J()}],overflow:[{overflow:te()}],"overflow-x":[{"overflow-x":te()}],"overflow-y":[{"overflow-y":te()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:D()}],"inset-x":[{"inset-x":D()}],"inset-y":[{"inset-y":D()}],start:[{start:D()}],end:[{end:D()}],top:[{top:D()}],right:[{right:D()}],bottom:[{bottom:D()}],left:[{left:D()}],visibility:["visible","invisible","collapse"],z:[{z:[Fi,"auto",Te,be]}],basis:[{basis:[el,"full","auto",d,...N()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[We,el,"auto","initial","none",be]}],grow:[{grow:["",We,Te,be]}],shrink:[{shrink:["",We,Te,be]}],order:[{order:[Fi,"first","last","none",Te,be]}],"grid-cols":[{"grid-cols":V()}],"col-start-end":[{col:O()}],"col-start":[{"col-start":U()}],"col-end":[{"col-end":U()}],"grid-rows":[{"grid-rows":V()}],"row-start-end":[{row:O()}],"row-start":[{"row-start":U()}],"row-end":[{"row-end":U()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":R()}],"auto-rows":[{"auto-rows":R()}],gap:[{gap:N()}],"gap-x":[{"gap-x":N()}],"gap-y":[{"gap-y":N()}],"justify-content":[{justify:[...ve(),"normal"]}],"justify-items":[{"justify-items":[...ke(),"normal"]}],"justify-self":[{"justify-self":["auto",...ke()]}],"align-content":[{content:["normal",...ve()]}],"align-items":[{items:[...ke(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...ke(),{baseline:["","last"]}]}],"place-content":[{"place-content":ve()}],"place-items":[{"place-items":[...ke(),"baseline"]}],"place-self":[{"place-self":["auto",...ke()]}],p:[{p:N()}],px:[{px:N()}],py:[{py:N()}],ps:[{ps:N()}],pe:[{pe:N()}],pt:[{pt:N()}],pr:[{pr:N()}],pb:[{pb:N()}],pl:[{pl:N()}],m:[{m:ae()}],mx:[{mx:ae()}],my:[{my:ae()}],ms:[{ms:ae()}],me:[{me:ae()}],mt:[{mt:ae()}],mr:[{mr:ae()}],mb:[{mb:ae()}],ml:[{ml:ae()}],"space-x":[{"space-x":N()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":N()}],"space-y-reverse":["space-y-reverse"],size:[{size:X()}],w:[{w:[d,"screen",...X()]}],"min-w":[{"min-w":[d,"screen","none",...X()]}],"max-w":[{"max-w":[d,"screen","none","prose",{screen:[l]},...X()]}],h:[{h:["screen","lh",...X()]}],"min-h":[{"min-h":["screen","lh","none",...X()]}],"max-h":[{"max-h":["screen","lh",...X()]}],"font-size":[{text:["base",n,kc,zo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Te,jm]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Dm,be]}],"font-family":[{font:[JL,be,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,Te,be]}],"line-clamp":[{"line-clamp":[We,"none",Te,jm]}],leading:[{leading:[a,...N()]}],"list-image":[{"list-image":["none",Te,be]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Te,be]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:L()}],"text-color":[{text:L()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ge(),"wavy"]}],"text-decoration-thickness":[{decoration:[We,"from-font","auto",Te,zo]}],"text-decoration-color":[{decoration:L()}],"underline-offset":[{"underline-offset":[We,"auto",Te,be]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:N()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Te,be]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Te,be]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ue()}],"bg-repeat":[{bg:ie()}],"bg-size":[{bg:B()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Fi,Te,be],radial:["",Te,be],conic:[Fi,Te,be]},eV,XL]}],"bg-color":[{bg:L()}],"gradient-from-pos":[{from:Z()}],"gradient-via-pos":[{via:Z()}],"gradient-to-pos":[{to:Z()}],"gradient-from":[{from:L()}],"gradient-via":[{via:L()}],"gradient-to":[{to:L()}],rounded:[{rounded:le()}],"rounded-s":[{"rounded-s":le()}],"rounded-e":[{"rounded-e":le()}],"rounded-t":[{"rounded-t":le()}],"rounded-r":[{"rounded-r":le()}],"rounded-b":[{"rounded-b":le()}],"rounded-l":[{"rounded-l":le()}],"rounded-ss":[{"rounded-ss":le()}],"rounded-se":[{"rounded-se":le()}],"rounded-ee":[{"rounded-ee":le()}],"rounded-es":[{"rounded-es":le()}],"rounded-tl":[{"rounded-tl":le()}],"rounded-tr":[{"rounded-tr":le()}],"rounded-br":[{"rounded-br":le()}],"rounded-bl":[{"rounded-bl":le()}],"border-w":[{border:fe()}],"border-w-x":[{"border-x":fe()}],"border-w-y":[{"border-y":fe()}],"border-w-s":[{"border-s":fe()}],"border-w-e":[{"border-e":fe()}],"border-w-t":[{"border-t":fe()}],"border-w-r":[{"border-r":fe()}],"border-w-b":[{"border-b":fe()}],"border-w-l":[{"border-l":fe()}],"divide-x":[{"divide-x":fe()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":fe()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ge(),"hidden","none"]}],"divide-style":[{divide:[...ge(),"hidden","none"]}],"border-color":[{border:L()}],"border-color-x":[{"border-x":L()}],"border-color-y":[{"border-y":L()}],"border-color-s":[{"border-s":L()}],"border-color-e":[{"border-e":L()}],"border-color-t":[{"border-t":L()}],"border-color-r":[{"border-r":L()}],"border-color-b":[{"border-b":L()}],"border-color-l":[{"border-l":L()}],"divide-color":[{divide:L()}],"outline-style":[{outline:[...ge(),"none","hidden"]}],"outline-offset":[{"outline-offset":[We,Te,be]}],"outline-w":[{outline:["",We,kc,zo]}],"outline-color":[{outline:L()}],shadow:[{shadow:["","none",y,Kd,qd]}],"shadow-color":[{shadow:L()}],"inset-shadow":[{"inset-shadow":["none",v,Kd,qd]}],"inset-shadow-color":[{"inset-shadow":L()}],"ring-w":[{ring:fe()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:L()}],"ring-offset-w":[{"ring-offset":[We,zo]}],"ring-offset-color":[{"ring-offset":L()}],"inset-ring-w":[{"inset-ring":fe()}],"inset-ring-color":[{"inset-ring":L()}],"text-shadow":[{"text-shadow":["none",x,Kd,qd]}],"text-shadow-color":[{"text-shadow":L()}],opacity:[{opacity:[We,Te,be]}],"mix-blend":[{"mix-blend":[...Ce(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Ce()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[We]}],"mask-image-linear-from-pos":[{"mask-linear-from":re()}],"mask-image-linear-to-pos":[{"mask-linear-to":re()}],"mask-image-linear-from-color":[{"mask-linear-from":L()}],"mask-image-linear-to-color":[{"mask-linear-to":L()}],"mask-image-t-from-pos":[{"mask-t-from":re()}],"mask-image-t-to-pos":[{"mask-t-to":re()}],"mask-image-t-from-color":[{"mask-t-from":L()}],"mask-image-t-to-color":[{"mask-t-to":L()}],"mask-image-r-from-pos":[{"mask-r-from":re()}],"mask-image-r-to-pos":[{"mask-r-to":re()}],"mask-image-r-from-color":[{"mask-r-from":L()}],"mask-image-r-to-color":[{"mask-r-to":L()}],"mask-image-b-from-pos":[{"mask-b-from":re()}],"mask-image-b-to-pos":[{"mask-b-to":re()}],"mask-image-b-from-color":[{"mask-b-from":L()}],"mask-image-b-to-color":[{"mask-b-to":L()}],"mask-image-l-from-pos":[{"mask-l-from":re()}],"mask-image-l-to-pos":[{"mask-l-to":re()}],"mask-image-l-from-color":[{"mask-l-from":L()}],"mask-image-l-to-color":[{"mask-l-to":L()}],"mask-image-x-from-pos":[{"mask-x-from":re()}],"mask-image-x-to-pos":[{"mask-x-to":re()}],"mask-image-x-from-color":[{"mask-x-from":L()}],"mask-image-x-to-color":[{"mask-x-to":L()}],"mask-image-y-from-pos":[{"mask-y-from":re()}],"mask-image-y-to-pos":[{"mask-y-to":re()}],"mask-image-y-from-color":[{"mask-y-from":L()}],"mask-image-y-to-color":[{"mask-y-to":L()}],"mask-image-radial":[{"mask-radial":[Te,be]}],"mask-image-radial-from-pos":[{"mask-radial-from":re()}],"mask-image-radial-to-pos":[{"mask-radial-to":re()}],"mask-image-radial-from-color":[{"mask-radial-from":L()}],"mask-image-radial-to-color":[{"mask-radial-to":L()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":G()}],"mask-image-conic-pos":[{"mask-conic":[We]}],"mask-image-conic-from-pos":[{"mask-conic-from":re()}],"mask-image-conic-to-pos":[{"mask-conic-to":re()}],"mask-image-conic-from-color":[{"mask-conic-from":L()}],"mask-image-conic-to-color":[{"mask-conic-to":L()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ue()}],"mask-repeat":[{mask:ie()}],"mask-size":[{mask:B()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Te,be]}],filter:[{filter:["","none",Te,be]}],blur:[{blur:pe()}],brightness:[{brightness:[We,Te,be]}],contrast:[{contrast:[We,Te,be]}],"drop-shadow":[{"drop-shadow":["","none",I,Kd,qd]}],"drop-shadow-color":[{"drop-shadow":L()}],grayscale:[{grayscale:["",We,Te,be]}],"hue-rotate":[{"hue-rotate":[We,Te,be]}],invert:[{invert:["",We,Te,be]}],saturate:[{saturate:[We,Te,be]}],sepia:[{sepia:["",We,Te,be]}],"backdrop-filter":[{"backdrop-filter":["","none",Te,be]}],"backdrop-blur":[{"backdrop-blur":pe()}],"backdrop-brightness":[{"backdrop-brightness":[We,Te,be]}],"backdrop-contrast":[{"backdrop-contrast":[We,Te,be]}],"backdrop-grayscale":[{"backdrop-grayscale":["",We,Te,be]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[We,Te,be]}],"backdrop-invert":[{"backdrop-invert":["",We,Te,be]}],"backdrop-opacity":[{"backdrop-opacity":[We,Te,be]}],"backdrop-saturate":[{"backdrop-saturate":[We,Te,be]}],"backdrop-sepia":[{"backdrop-sepia":["",We,Te,be]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":N()}],"border-spacing-x":[{"border-spacing-x":N()}],"border-spacing-y":[{"border-spacing-y":N()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Te,be]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[We,"initial",Te,be]}],ease:[{ease:["linear","initial",j,Te,be]}],delay:[{delay:[We,Te,be]}],animate:[{animate:["none",z,Te,be]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[S,Te,be]}],"perspective-origin":[{"perspective-origin":J()}],rotate:[{rotate:Ae()}],"rotate-x":[{"rotate-x":Ae()}],"rotate-y":[{"rotate-y":Ae()}],"rotate-z":[{"rotate-z":Ae()}],scale:[{scale:je()}],"scale-x":[{"scale-x":je()}],"scale-y":[{"scale-y":je()}],"scale-z":[{"scale-z":je()}],"scale-3d":["scale-3d"],skew:[{skew:$e()}],"skew-x":[{"skew-x":$e()}],"skew-y":[{"skew-y":$e()}],transform:[{transform:[Te,be,"","none","gpu","cpu"]}],"transform-origin":[{origin:J()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:qe()}],"translate-x":[{"translate-x":qe()}],"translate-y":[{"translate-y":qe()}],"translate-z":[{"translate-z":qe()}],"translate-none":["translate-none"],accent:[{accent:L()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:L()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Te,be]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":N()}],"scroll-mx":[{"scroll-mx":N()}],"scroll-my":[{"scroll-my":N()}],"scroll-ms":[{"scroll-ms":N()}],"scroll-me":[{"scroll-me":N()}],"scroll-mt":[{"scroll-mt":N()}],"scroll-mr":[{"scroll-mr":N()}],"scroll-mb":[{"scroll-mb":N()}],"scroll-ml":[{"scroll-ml":N()}],"scroll-p":[{"scroll-p":N()}],"scroll-px":[{"scroll-px":N()}],"scroll-py":[{"scroll-py":N()}],"scroll-ps":[{"scroll-ps":N()}],"scroll-pe":[{"scroll-pe":N()}],"scroll-pt":[{"scroll-pt":N()}],"scroll-pr":[{"scroll-pr":N()}],"scroll-pb":[{"scroll-pb":N()}],"scroll-pl":[{"scroll-pl":N()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Te,be]}],fill:[{fill:["none",...L()]}],"stroke-w":[{stroke:[We,kc,zo,jm]}],stroke:[{stroke:["none",...L()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},sV=VL(rV);function at(...t){return sV(GT(t))}const Rg=YT("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}});function _e({className:t,variant:e,size:n,asChild:r=!1,...i}){const a=r?qT:"button";return u.jsx(a,{"data-slot":"button",className:at(Rg({variant:e,size:n,className:t})),...i})}function gt({className:t,type:e,...n}){return u.jsx("input",{type:e,"data-slot":"input",className:at("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...n})}var xu=AE();const oS=kE(xu);var iV=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],et=iV.reduce((t,e)=>{const n=Tl(`Primitive.${e}`),r=C.forwardRef((i,a)=>{const{asChild:l,...d}=i,p=l?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),u.jsx(p,{...d,ref:a})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function oV(t,e){t&&xu.flushSync(()=>t.dispatchEvent(e))}var aV="Label",aS=C.forwardRef((t,e)=>u.jsx(et.label,{...t,ref:e,onMouseDown:n=>{n.target.closest("button, input, select, textarea")||(t.onMouseDown?.(n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));aS.displayName=aV;var lV=aS;function kt({className:t,...e}){return u.jsx(lV,{"data-slot":"label",className:at("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...e})}function Ge({className:t,...e}){return u.jsx("div",{"data-slot":"card",className:at("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border",t),...e})}function na({className:t,...e}){return u.jsx("div",{"data-slot":"card-header",className:at("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 pt-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...e})}function ra({className:t,...e}){return u.jsx("h4",{"data-slot":"card-title",className:at("leading-none",t),...e})}function cV({className:t,...e}){return u.jsx("p",{"data-slot":"card-description",className:at("text-muted-foreground",t),...e})}function Ye({className:t,...e}){return u.jsx("div",{"data-slot":"card-content",className:at("px-6 [&:last-child]:pb-6",t),...e})}function nt(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t?.(i),n===!1||!i.defaultPrevented)return e?.(i)}}function uV(t,e){const n=C.createContext(e),r=a=>{const{children:l,...d}=a,p=C.useMemo(()=>d,Object.values(d));return u.jsx(n.Provider,{value:p,children:l})};r.displayName=t+"Provider";function i(a){const l=C.useContext(n);if(l)return l;if(e!==void 0)return e;throw new Error(`\`${a}\` must be used within \`${t}\``)}return[r,i]}function va(t,e=[]){let n=[];function r(a,l){const d=C.createContext(l),p=n.length;n=[...n,l];const m=v=>{const{scope:x,children:I,...k}=v,S=x?.[t]?.[p]||d,b=C.useMemo(()=>k,Object.values(k));return u.jsx(S.Provider,{value:b,children:I})};m.displayName=a+"Provider";function y(v,x){const I=x?.[t]?.[p]||d,k=C.useContext(I);if(k)return k;if(l!==void 0)return l;throw new Error(`\`${v}\` must be used within \`${a}\``)}return[m,y]}const i=()=>{const a=n.map(l=>C.createContext(l));return function(d){const p=d?.[t]||a;return C.useMemo(()=>({[`__scope${t}`]:{...d,[t]:p}}),[d,p])}};return i.scopeName=t,[r,dV(i,...e)]}function dV(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const l=r.reduce((d,{useScope:p,scopeName:m})=>{const v=p(a)[`__scope${m}`];return{...d,...v}},{});return C.useMemo(()=>({[`__scope${e.scopeName}`]:l}),[l])}};return n.scopeName=e.scopeName,n}function lS(t){const e=t+"CollectionProvider",[n,r]=va(e),[i,a]=n(e,{collectionRef:{current:null},itemMap:new Map}),l=S=>{const{scope:b,children:j}=S,z=he.useRef(null),W=he.useRef(new Map).current;return u.jsx(i,{scope:b,itemMap:W,collectionRef:z,children:j})};l.displayName=e;const d=t+"CollectionSlot",p=Tl(d),m=he.forwardRef((S,b)=>{const{scope:j,children:z}=S,W=a(d,j),G=Dt(b,W.collectionRef);return u.jsx(p,{ref:G,children:z})});m.displayName=d;const y=t+"CollectionItemSlot",v="data-radix-collection-item",x=Tl(y),I=he.forwardRef((S,b)=>{const{scope:j,children:z,...W}=S,G=he.useRef(null),J=Dt(b,G),te=a(y,j);return he.useEffect(()=>(te.itemMap.set(G,{ref:G,...W}),()=>void te.itemMap.delete(G))),u.jsx(x,{[v]:"",ref:J,children:z})});I.displayName=y;function k(S){const b=a(t+"CollectionConsumer",S);return he.useCallback(()=>{const z=b.collectionRef.current;if(!z)return[];const W=Array.from(z.querySelectorAll(`[${v}]`));return Array.from(b.itemMap.values()).sort((te,P)=>W.indexOf(te.ref.current)-W.indexOf(P.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:l,Slot:m,ItemSlot:I},k,r]}var Cn=globalThis?.document?C.useLayoutEffect:()=>{},hV=PE[" useId ".trim().toString()]||(()=>{}),fV=0;function Xi(t){const[e,n]=C.useState(hV());return Cn(()=>{n(r=>r??String(fV++))},[t]),t||(e?`radix-${e}`:"")}function so(t){const e=C.useRef(t);return C.useEffect(()=>{e.current=t}),C.useMemo(()=>(...n)=>e.current?.(...n),[])}var pV=PE[" useInsertionEffect ".trim().toString()]||Cn;function iu({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[i,a,l]=mV({defaultProp:e,onChange:n}),d=t!==void 0,p=d?t:i;{const y=C.useRef(t!==void 0);C.useEffect(()=>{const v=y.current;v!==d&&console.warn(`${r} is changing from ${v?"controlled":"uncontrolled"} to ${d?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),y.current=d},[d,r])}const m=C.useCallback(y=>{if(d){const v=gV(y)?y(t):y;v!==t&&l.current?.(v)}else a(y)},[d,t,a,l]);return[p,m]}function mV({defaultProp:t,onChange:e}){const[n,r]=C.useState(t),i=C.useRef(n),a=C.useRef(e);return pV(()=>{a.current=e},[e]),C.useEffect(()=>{i.current!==n&&(a.current?.(n),i.current=n)},[n,i]),[n,r,a]}function gV(t){return typeof t=="function"}var vV=C.createContext(void 0);function Zv(t){const e=C.useContext(vV);return t||e||"ltr"}var Mm="rovingFocusGroup.onEntryFocus",yV={bubbles:!1,cancelable:!0},Eu="RovingFocusGroup",[Dg,cS,wV]=lS(Eu),[_V,uS]=va(Eu,[wV]),[xV,EV]=_V(Eu),dS=C.forwardRef((t,e)=>u.jsx(Dg.Provider,{scope:t.__scopeRovingFocusGroup,children:u.jsx(Dg.Slot,{scope:t.__scopeRovingFocusGroup,children:u.jsx(bV,{...t,ref:e})})}));dS.displayName=Eu;var bV=C.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:a,currentTabStopId:l,defaultCurrentTabStopId:d,onCurrentTabStopIdChange:p,onEntryFocus:m,preventScrollOnEntryFocus:y=!1,...v}=t,x=C.useRef(null),I=Dt(e,x),k=Zv(a),[S,b]=iu({prop:l,defaultProp:d??null,onChange:p,caller:Eu}),[j,z]=C.useState(!1),W=so(m),G=cS(n),J=C.useRef(!1),[te,P]=C.useState(0);return C.useEffect(()=>{const N=x.current;if(N)return N.addEventListener(Mm,W),()=>N.removeEventListener(Mm,W)},[W]),u.jsx(xV,{scope:n,orientation:r,dir:k,loop:i,currentTabStopId:S,onItemFocus:C.useCallback(N=>b(N),[b]),onItemShiftTab:C.useCallback(()=>z(!0),[]),onFocusableItemAdd:C.useCallback(()=>P(N=>N+1),[]),onFocusableItemRemove:C.useCallback(()=>P(N=>N-1),[]),children:u.jsx(et.div,{tabIndex:j||te===0?-1:0,"data-orientation":r,...v,ref:I,style:{outline:"none",...t.style},onMouseDown:nt(t.onMouseDown,()=>{J.current=!0}),onFocus:nt(t.onFocus,N=>{const D=!J.current;if(N.target===N.currentTarget&&D&&!j){const V=new CustomEvent(Mm,yV);if(N.currentTarget.dispatchEvent(V),!V.defaultPrevented){const O=G().filter(ae=>ae.focusable),U=O.find(ae=>ae.active),R=O.find(ae=>ae.id===S),ke=[U,R,...O].filter(Boolean).map(ae=>ae.ref.current);pS(ke,y)}}J.current=!1}),onBlur:nt(t.onBlur,()=>z(!1))})})}),hS="RovingFocusGroupItem",fS=C.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:a,children:l,...d}=t,p=Xi(),m=a||p,y=EV(hS,n),v=y.currentTabStopId===m,x=cS(n),{onFocusableItemAdd:I,onFocusableItemRemove:k,currentTabStopId:S}=y;return C.useEffect(()=>{if(r)return I(),()=>k()},[r,I,k]),u.jsx(Dg.ItemSlot,{scope:n,id:m,focusable:r,active:i,children:u.jsx(et.span,{tabIndex:v?0:-1,"data-orientation":y.orientation,...d,ref:e,onMouseDown:nt(t.onMouseDown,b=>{r?y.onItemFocus(m):b.preventDefault()}),onFocus:nt(t.onFocus,()=>y.onItemFocus(m)),onKeyDown:nt(t.onKeyDown,b=>{if(b.key==="Tab"&&b.shiftKey){y.onItemShiftTab();return}if(b.target!==b.currentTarget)return;const j=IV(b,y.orientation,y.dir);if(j!==void 0){if(b.metaKey||b.ctrlKey||b.altKey||b.shiftKey)return;b.preventDefault();let W=x().filter(G=>G.focusable).map(G=>G.ref.current);if(j==="last")W.reverse();else if(j==="prev"||j==="next"){j==="prev"&&W.reverse();const G=W.indexOf(b.currentTarget);W=y.loop?CV(W,G+1):W.slice(G+1)}setTimeout(()=>pS(W))}}),children:typeof l=="function"?l({isCurrentTabStop:v,hasTabStop:S!=null}):l})})});fS.displayName=hS;var TV={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function SV(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function IV(t,e,n){const r=SV(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return TV[r]}function pS(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function CV(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var NV=dS,kV=fS;function AV(t,e){return C.useReducer((n,r)=>e[n][r]??n,t)}var bu=t=>{const{present:e,children:n}=t,r=PV(e),i=typeof n=="function"?n({present:r.isPresent}):C.Children.only(n),a=Dt(r.ref,RV(i));return typeof n=="function"||r.isPresent?C.cloneElement(i,{ref:a}):null};bu.displayName="Presence";function PV(t){const[e,n]=C.useState(),r=C.useRef(null),i=C.useRef(t),a=C.useRef("none"),l=t?"mounted":"unmounted",[d,p]=AV(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return C.useEffect(()=>{const m=Gd(r.current);a.current=d==="mounted"?m:"none"},[d]),Cn(()=>{const m=r.current,y=i.current;if(y!==t){const x=a.current,I=Gd(m);t?p("MOUNT"):I==="none"||m?.display==="none"?p("UNMOUNT"):p(y&&x!==I?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,p]),Cn(()=>{if(e){let m;const y=e.ownerDocument.defaultView??window,v=I=>{const S=Gd(r.current).includes(CSS.escape(I.animationName));if(I.target===e&&S&&(p("ANIMATION_END"),!i.current)){const b=e.style.animationFillMode;e.style.animationFillMode="forwards",m=y.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=b)})}},x=I=>{I.target===e&&(a.current=Gd(r.current))};return e.addEventListener("animationstart",x),e.addEventListener("animationcancel",v),e.addEventListener("animationend",v),()=>{y.clearTimeout(m),e.removeEventListener("animationstart",x),e.removeEventListener("animationcancel",v),e.removeEventListener("animationend",v)}}else p("ANIMATION_END")},[e,p]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:C.useCallback(m=>{r.current=m?getComputedStyle(m):null,n(m)},[])}}function Gd(t){return t?.animationName||"none"}function RV(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Nf="Tabs",[DV]=va(Nf,[uS]),mS=uS(),[jV,ey]=DV(Nf),gS=C.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:a,orientation:l="horizontal",dir:d,activationMode:p="automatic",...m}=t,y=Zv(d),[v,x]=iu({prop:r,onChange:i,defaultProp:a??"",caller:Nf});return u.jsx(jV,{scope:n,baseId:Xi(),value:v,onValueChange:x,orientation:l,dir:y,activationMode:p,children:u.jsx(et.div,{dir:y,"data-orientation":l,...m,ref:e})})});gS.displayName=Nf;var vS="TabsList",yS=C.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...i}=t,a=ey(vS,n),l=mS(n);return u.jsx(NV,{asChild:!0,...l,orientation:a.orientation,dir:a.dir,loop:r,children:u.jsx(et.div,{role:"tablist","aria-orientation":a.orientation,...i,ref:e})})});yS.displayName=vS;var wS="TabsTrigger",_S=C.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...a}=t,l=ey(wS,n),d=mS(n),p=bS(l.baseId,r),m=TS(l.baseId,r),y=r===l.value;return u.jsx(kV,{asChild:!0,...d,focusable:!i,active:y,children:u.jsx(et.button,{type:"button",role:"tab","aria-selected":y,"aria-controls":m,"data-state":y?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:p,...a,ref:e,onMouseDown:nt(t.onMouseDown,v=>{!i&&v.button===0&&v.ctrlKey===!1?l.onValueChange(r):v.preventDefault()}),onKeyDown:nt(t.onKeyDown,v=>{[" ","Enter"].includes(v.key)&&l.onValueChange(r)}),onFocus:nt(t.onFocus,()=>{const v=l.activationMode!=="manual";!y&&!i&&v&&l.onValueChange(r)})})})});_S.displayName=wS;var xS="TabsContent",ES=C.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:i,children:a,...l}=t,d=ey(xS,n),p=bS(d.baseId,r),m=TS(d.baseId,r),y=r===d.value,v=C.useRef(y);return C.useEffect(()=>{const x=requestAnimationFrame(()=>v.current=!1);return()=>cancelAnimationFrame(x)},[]),u.jsx(bu,{present:i||y,children:({present:x})=>u.jsx(et.div,{"data-state":y?"active":"inactive","data-orientation":d.orientation,role:"tabpanel","aria-labelledby":p,hidden:!x,id:m,tabIndex:0,...l,ref:e,style:{...t.style,animationDuration:v.current?"0s":void 0},children:x&&a})})});ES.displayName=xS;function bS(t,e){return`${t}-trigger-${e}`}function TS(t,e){return`${t}-content-${e}`}var MV=gS,OV=yS,LV=_S,VV=ES;function Tu({className:t,...e}){return u.jsx(MV,{"data-slot":"tabs",className:at("flex flex-col gap-2",t),...e})}function Su({className:t,...e}){return u.jsx(OV,{"data-slot":"tabs-list",className:at("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-xl p-[3px] flex",t),...e})}function pn({className:t,...e}){return u.jsx(LV,{"data-slot":"tabs-trigger",className:at("data-[state=active]:bg-card dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-xl border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...e})}function mn({className:t,...e}){return u.jsx(VV,{"data-slot":"tabs-content",className:at("flex-1 outline-none",t),...e})}const FV=()=>{const{login:t}=js(),[e,n]=C.useState(!1),[r,i]=C.useState(""),[a,l]=C.useState(""),[d,p]=C.useState(""),[m,y]=C.useState(""),[v,x]=C.useState(!1),I=async S=>{x(!0);try{await t(r,a)}catch(b){console.error("Login failed:",b)}finally{x(!1)}},k=async S=>{x(!0);try{await e4(r,a,S,{name:d,phone:m,walletBalance:S==="customer"?150:0,loyaltyPoints:S==="customer"?2500:0}),i(""),l(""),p(""),y("")}catch(b){console.error("Sign up failed:",b),b.code==="auth/email-already-in-use"?alert("This email is already registered. Please try logging in instead."):b.code==="auth/weak-password"?alert("Password should be at least 6 characters."):b.code==="auth/invalid-email"?alert("Please enter a valid email address."):alert("Sign up failed. Please try again.")}finally{x(!1)}};return u.jsxs("div",{className:"min-h-screen bg-cover bg-center bg-no-repeat flex items-center justify-center p-4",style:{backgroundImage:"url(/wallpaper.png)"},children:[u.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-40"}),u.jsxs("div",{className:"relative z-10 w-full max-w-md",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"flex justify-center mb-4",children:u.jsx(_u,{size:"lg"})}),u.jsx("p",{className:"text-white mt-2",children:"Beauty & Safety Platform by Mashikara Aesthetics"})]}),u.jsxs(Ge,{className:"border-2 bg-white bg-opacity-95 backdrop-blur-sm",children:[u.jsxs(na,{children:[u.jsx(ra,{children:e?"Create Account":"Welcome Back"}),u.jsx(cV,{children:e?"Sign up to create your account":"Sign in to access your account"})]}),u.jsxs(Ye,{children:[u.jsxs("div",{className:"flex justify-center mb-4",children:[u.jsx(_e,{variant:e?"default":"outline",onClick:()=>n(!0),className:"mr-2",children:"Sign Up"}),u.jsx(_e,{variant:e?"outline":"default",onClick:()=>n(!1),children:"Sign In"})]}),u.jsxs(Tu,{defaultValue:"customer",className:"w-full",children:[u.jsxs(Su,{className:"grid w-full grid-cols-4",children:[u.jsx(pn,{value:"customer",children:"Customer"}),u.jsx(pn,{value:"provider",children:"Provider"}),u.jsx(pn,{value:"admin",children:"Admin"}),u.jsx(pn,{value:"responder",children:"Responder"})]}),u.jsxs(mn,{value:"customer",className:"space-y-4 mt-4",children:[e&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(kt,{htmlFor:"name",children:"Full Name"}),u.jsx(gt,{id:"name",type:"text",placeholder:"Enter your full name",value:d,onChange:S=>p(S.target.value)})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(kt,{htmlFor:"phone",children:"Phone Number"}),u.jsx(gt,{id:"phone",type:"tel",placeholder:"+27 82 555 1234",value:m,onChange:S=>y(S.target.value)})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(kt,{htmlFor:"email",children:"Email"}),u.jsx(gt,{id:"email",type:"email",placeholder:"customer@example.com",value:r,onChange:S=>i(S.target.value)})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(kt,{htmlFor:"password",children:"Password"}),u.jsx(gt,{id:"password",type:"password",placeholder:"",value:a,onChange:S=>l(S.target.value)})]}),u.jsx(_e,{onClick:()=>e?k("customer"):I(),disabled:v,className:"w-full",children:v?e?"Creating account...":"Signing in...":e?"Create Customer Account":"Sign In as Customer"})]}),u.jsxs(mn,{value:"provider",className:"space-y-4 mt-4",children:[e&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(kt,{htmlFor:"provider-name",children:"Business Name"}),u.jsx(gt,{id:"provider-name",type:"text",placeholder:"Enter your business name",value:d,onChange:S=>p(S.target.value)})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(kt,{htmlFor:"provider-phone",children:"Phone Number"}),u.jsx(gt,{id:"provider-phone",type:"tel",placeholder:"+27 82 555 1234",value:m,onChange:S=>y(S.target.value)})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(kt,{htmlFor:"provider-email",children:"Email"}),u.jsx(gt,{id:"provider-email",type:"email",placeholder:"provider@example.com",value:r,onChange:S=>i(S.target.value)})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(kt,{htmlFor:"provider-password",children:"Password"}),u.jsx(gt,{id:"provider-password",type:"password",placeholder:"",value:a,onChange:S=>l(S.target.value)})]}),u.jsx(_e,{onClick:()=>e?k("provider"):I(),disabled:v,className:"w-full",children:v?e?"Creating account...":"Signing in...":e?"Create Provider Account":"Sign In as Provider"})]}),u.jsxs(mn,{value:"admin",className:"space-y-4 mt-4",children:[e&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(kt,{htmlFor:"admin-name",children:"Full Name"}),u.jsx(gt,{id:"admin-name",type:"text",placeholder:"Enter your full name",value:d,onChange:S=>p(S.target.value)})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(kt,{htmlFor:"admin-phone",children:"Phone Number"}),u.jsx(gt,{id:"admin-phone",type:"tel",placeholder:"+27 82 555 1234",value:m,onChange:S=>y(S.target.value)})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(kt,{htmlFor:"admin-email",children:"Email"}),u.jsx(gt,{id:"admin-email",type:"email",placeholder:"admin@example.com",value:r,onChange:S=>i(S.target.value)})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(kt,{htmlFor:"admin-password",children:"Password"}),u.jsx(gt,{id:"admin-password",type:"password",placeholder:"",value:a,onChange:S=>l(S.target.value)})]}),u.jsx(_e,{onClick:()=>e?k("admin"):I(),disabled:v,className:"w-full",children:v?e?"Creating account...":"Signing in...":e?"Create Admin Account":"Sign In as Admin"})]}),u.jsxs(mn,{value:"responder",className:"space-y-4 mt-4",children:[e&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(kt,{htmlFor:"responder-name",children:"Team/Organization Name"}),u.jsx(gt,{id:"responder-name",type:"text",placeholder:"Enter team/organization name",value:d,onChange:S=>p(S.target.value)})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(kt,{htmlFor:"responder-phone",children:"Emergency Contact"}),u.jsx(gt,{id:"responder-phone",type:"tel",placeholder:"+27 82 555 1234",value:m,onChange:S=>y(S.target.value)})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(kt,{htmlFor:"responder-email",children:"Email"}),u.jsx(gt,{id:"responder-email",type:"email",placeholder:"responder@example.com",value:r,onChange:S=>i(S.target.value)})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(kt,{htmlFor:"responder-password",children:"Password"}),u.jsx(gt,{id:"responder-password",type:"password",placeholder:"",value:a,onChange:S=>l(S.target.value)})]}),u.jsx(_e,{onClick:()=>e?k("responder"):I(),disabled:v,className:"w-full bg-red-600 hover:bg-red-700",children:v?e?"Creating account...":"Signing in...":e?"Create Responder Account":"Sign In as Responder"})]})]})]})]}),u.jsxs("p",{className:"text-center text-sm text-white",children:[e?"Already have an account?":"Don't have an account?"," ",u.jsx("button",{className:"text-purple-300 hover:underline",onClick:()=>n(!e),children:e?"Sign In":"Sign Up"})]})]})]})},UV=YT("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function Vt({className:t,variant:e,asChild:n=!1,...r}){const i=n?qT:"span";return u.jsx(i,{"data-slot":"badge",className:at(UV({variant:e}),t),...r})}const zV=({children:t,currentPage:e,onNavigate:n})=>{const{itemCount:r}=Yv(),i=[{id:"home",icon:$4,label:"Home"},{id:"browse",icon:If,label:"Browse"},{id:"shop",icon:zT,label:"Shop"},{id:"appointments",icon:Go,label:"Bookings"},{id:"profile",icon:$T,label:"Profile"}];return u.jsxs("div",{className:"min-h-screen bg-zinc-50 flex flex-col",children:[u.jsx("header",{className:"bg-white border-b sticky top-0 z-40",children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 h-16 flex items-center justify-between",children:[u.jsx(_u,{enableEmergency:!0,size:"md"}),u.jsxs("button",{onClick:()=>n("cart"),className:"relative p-2 hover:bg-zinc-100 rounded-lg",children:[u.jsx(aL,{className:"h-5 w-5"}),r>0&&u.jsx(Vt,{className:"absolute -top-1 -right-1 h-5 w-5 flex items-center justify-center p-0 text-xs",children:r})]})]})}),u.jsx("main",{className:"flex-1 overflow-y-auto",children:t}),u.jsx("nav",{className:"bg-white border-t sticky bottom-0 z-40",children:u.jsx("div",{className:"max-w-7xl mx-auto px-4",children:u.jsx("div",{className:"grid grid-cols-5 gap-1",children:i.map(a=>{const l=a.icon,d=e===a.id;return u.jsxs("button",{onClick:()=>n(a.id),className:`flex flex-col items-center gap-1 py-3 transition-colors ${d?"text-purple-600":"text-zinc-500 hover:text-zinc-900"}`,children:[u.jsx(l,{className:"h-5 w-5"}),u.jsx("span",{className:"text-xs",children:a.label})]},a.id)})})})})]})},BV=({onNavigate:t})=>{const{user:e}=js(),[n,r]=C.useState([]);return C.useEffect(()=>{const i=Kv(a=>{r(a.filter(l=>l.published).slice(0,3))});return()=>i()},[]),u.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-6 space-y-8",children:[u.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 rounded-2xl p-6 text-white",children:u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-sm opacity-90 mb-1",children:"Welcome back,"}),u.jsx("h1",{className:"text-2xl mb-3",children:e?.name}),u.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(As,{className:"h-4 w-4"}),u.jsxs("span",{children:[e?.loyaltyPoints," points"]})]}),u.jsxs("div",{children:["R",e?.walletBalance," wallet"]})]})]}),u.jsx(su,{className:"h-12 w-12 opacity-80"})]})}),u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[u.jsxs(_e,{onClick:()=>t("browse"),variant:"outline",className:"h-24 flex-col gap-2",children:[u.jsx(If,{className:"h-6 w-6 text-purple-600"}),u.jsx("span",{children:"Browse Services"})]}),u.jsxs(_e,{onClick:()=>t("shop"),variant:"outline",className:"h-24 flex-col gap-2",children:[u.jsx(zT,{className:"h-6 w-6 text-purple-600"}),u.jsx("span",{children:"Shop Products"})]}),u.jsxs(_e,{onClick:()=>t("appointments"),variant:"outline",className:"h-24 flex-col gap-2",children:[u.jsx(Go,{className:"h-6 w-6 text-purple-600"}),u.jsx("span",{children:"My Bookings"})]}),u.jsxs(_e,{onClick:()=>t("profile"),variant:"outline",className:"h-24 flex-col gap-2",children:[u.jsx($T,{className:"h-6 w-6 text-purple-600"}),u.jsx("span",{children:"My Profile"})]})]}),u.jsx(Ge,{className:"bg-gradient-to-r from-orange-100 to-pink-100 border-orange-200",children:u.jsxs(Ye,{className:"p-6",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx(BT,{className:"h-5 w-5 text-orange-600"}),u.jsx("span",{className:"text-orange-600",children:"Limited Time Offer"})]}),u.jsx("h3",{className:"text-lg mb-2",children:"Get 2X Loyalty Points This Week!"}),u.jsx("p",{className:"text-sm text-zinc-600 mb-3",children:"Book any service before Friday and earn double loyalty points on your purchase."}),u.jsx(_e,{onClick:()=>t("browse"),size:"sm",children:"Book Now"})]})}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h2",{className:"text-xl",children:"Featured Services"}),u.jsx(_e,{variant:"ghost",size:"sm",onClick:()=>t("browse"),children:"View All"})]}),u.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:n.map(i=>u.jsxs(Ge,{className:"overflow-hidden hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>t("service-detail",i),children:[u.jsx("div",{className:"h-48 bg-gradient-to-br from-purple-200 to-pink-200 flex items-center justify-center",children:u.jsx(As,{className:"h-16 w-16 text-purple-600 opacity-50"})}),u.jsxs(Ye,{className:"p-4",children:[u.jsxs("div",{className:"flex items-start justify-between mb-2",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"mb-1",children:i.title}),u.jsx("p",{className:"text-sm text-zinc-600",children:i.providerName})]}),u.jsxs(Vt,{variant:"secondary",children:[u.jsx(Cf,{className:"h-3 w-3 mr-1 fill-yellow-400 text-yellow-400"}),"4.8"]})]}),u.jsx("p",{className:"text-sm text-zinc-600 mb-3 line-clamp-2",children:i.description}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("span",{className:"text-purple-600",children:["R",i.price]}),u.jsxs("div",{className:"flex items-center gap-1 text-sm text-zinc-500",children:[u.jsx(Sf,{className:"h-3 w-3"}),u.jsxs("span",{children:[i.duration,"min"]})]})]})]})]},i.id))})]}),u.jsx(Ge,{className:"bg-red-50 border-red-200",children:u.jsx(Ye,{className:"p-4",children:u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx(su,{className:"h-5 w-5 text-red-600 mt-0.5 flex-shrink-0"}),u.jsxs("div",{children:[u.jsx("h4",{className:"text-sm text-red-900 mb-1",children:"Your Safety Matters"}),u.jsx("p",{className:"text-xs text-red-700",children:"In case of emergency, long-press the Your Look logo to discreetly connect with our response team."})]})]})})})]})},$V=["Braiding","Manicure","Pedicure","Makeup","Skincare","Waxing","Facials","Lashes","Massages"],WV=({onNavigate:t})=>{const[e,n]=C.useState(""),[r,i]=C.useState(null),[a,l]=C.useState([]);C.useEffect(()=>{const p=Kv(m=>{l(m)});return()=>p()},[]);const d=a.filter(p=>{const m=p.title.toLowerCase().includes(e.toLowerCase())||p.description.toLowerCase().includes(e.toLowerCase()),y=!r||p.category===r;return m&&y&&p.published});return u.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-6 space-y-6",children:[u.jsxs("div",{className:"relative",children:[u.jsx(If,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-zinc-400"}),u.jsx(gt,{value:e,onChange:p=>n(p.target.value),placeholder:"Search services...",className:"pl-10"})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[u.jsx(F4,{className:"h-4 w-4 text-zinc-600"}),u.jsx("span",{className:"text-sm",children:"Categories"})]}),u.jsxs("div",{className:"flex gap-2 overflow-x-auto pb-2",children:[u.jsx(_e,{variant:r===null?"default":"outline",size:"sm",onClick:()=>i(null),children:"All"}),$V.map(p=>u.jsx(_e,{variant:r===p?"default":"outline",size:"sm",onClick:()=>i(p),children:p},p))]})]}),u.jsxs("div",{className:"text-sm text-zinc-600",children:[d.length," service",d.length!==1?"s":""," found"]}),u.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:d.map(p=>u.jsxs(Ge,{className:"overflow-hidden hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>t("service-detail",p),children:[u.jsx("div",{className:"h-48 bg-gradient-to-br from-purple-200 to-pink-200 flex items-center justify-center",children:u.jsx(As,{className:"h-16 w-16 text-purple-600 opacity-50"})}),u.jsxs(Ye,{className:"p-4",children:[u.jsx(Vt,{className:"mb-2",children:p.category}),u.jsx("h3",{className:"mb-1",children:p.title}),u.jsx("p",{className:"text-sm text-zinc-600 mb-2",children:p.providerName}),u.jsx("p",{className:"text-sm text-zinc-600 mb-3 line-clamp-2",children:p.description}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"text-purple-600",children:["R",p.price]}),u.jsxs("div",{className:"flex items-center gap-1 text-xs text-zinc-500",children:[u.jsx(Sf,{className:"h-3 w-3"}),u.jsxs("span",{children:[p.duration,"min"]})]})]}),u.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[u.jsx(Cf,{className:"h-4 w-4 fill-yellow-400 text-yellow-400"}),u.jsx("span",{children:"4.8"})]})]})]})]},p.id))}),d.length===0&&u.jsxs("div",{className:"text-center py-12",children:[u.jsx(As,{className:"h-12 w-12 text-zinc-300 mx-auto mb-3"}),u.jsx("p",{className:"text-zinc-500",children:"No services found"})]})]})};function HV(t,e=globalThis?.document){const n=so(t);C.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var qV="DismissableLayer",jg="dismissableLayer.update",KV="dismissableLayer.pointerDownOutside",GV="dismissableLayer.focusOutside",qx,SS=C.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ty=C.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:l,onDismiss:d,...p}=t,m=C.useContext(SS),[y,v]=C.useState(null),x=y?.ownerDocument??globalThis?.document,[,I]=C.useState({}),k=Dt(e,P=>v(P)),S=Array.from(m.layers),[b]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),j=S.indexOf(b),z=y?S.indexOf(y):-1,W=m.layersWithOutsidePointerEventsDisabled.size>0,G=z>=j,J=XV(P=>{const N=P.target,D=[...m.branches].some(V=>V.contains(N));!G||D||(i?.(P),l?.(P),P.defaultPrevented||d?.())},x),te=JV(P=>{const N=P.target;[...m.branches].some(V=>V.contains(N))||(a?.(P),l?.(P),P.defaultPrevented||d?.())},x);return HV(P=>{z===m.layers.size-1&&(r?.(P),!P.defaultPrevented&&d&&(P.preventDefault(),d()))},x),C.useEffect(()=>{if(y)return n&&(m.layersWithOutsidePointerEventsDisabled.size===0&&(qx=x.body.style.pointerEvents,x.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(y)),m.layers.add(y),Kx(),()=>{n&&m.layersWithOutsidePointerEventsDisabled.size===1&&(x.body.style.pointerEvents=qx)}},[y,x,n,m]),C.useEffect(()=>()=>{y&&(m.layers.delete(y),m.layersWithOutsidePointerEventsDisabled.delete(y),Kx())},[y,m]),C.useEffect(()=>{const P=()=>I({});return document.addEventListener(jg,P),()=>document.removeEventListener(jg,P)},[]),u.jsx(et.div,{...p,ref:k,style:{pointerEvents:W?G?"auto":"none":void 0,...t.style},onFocusCapture:nt(t.onFocusCapture,te.onFocusCapture),onBlurCapture:nt(t.onBlurCapture,te.onBlurCapture),onPointerDownCapture:nt(t.onPointerDownCapture,J.onPointerDownCapture)})});ty.displayName=qV;var YV="DismissableLayerBranch",QV=C.forwardRef((t,e)=>{const n=C.useContext(SS),r=C.useRef(null),i=Dt(e,r);return C.useEffect(()=>{const a=r.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),u.jsx(et.div,{...t,ref:i})});QV.displayName=YV;function XV(t,e=globalThis?.document){const n=so(t),r=C.useRef(!1),i=C.useRef(()=>{});return C.useEffect(()=>{const a=d=>{if(d.target&&!r.current){let p=function(){IS(KV,n,m,{discrete:!0})};const m={originalEvent:d};d.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=p,e.addEventListener("click",i.current,{once:!0})):p()}else e.removeEventListener("click",i.current);r.current=!1},l=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(l),e.removeEventListener("pointerdown",a),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function JV(t,e=globalThis?.document){const n=so(t),r=C.useRef(!1);return C.useEffect(()=>{const i=a=>{a.target&&!r.current&&IS(GV,n,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Kx(){const t=new CustomEvent(jg);document.dispatchEvent(t)}function IS(t,e,n,{discrete:r}){const i=n.originalEvent.target,a=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?oV(i,a):i.dispatchEvent(a)}var Om="focusScope.autoFocusOnMount",Lm="focusScope.autoFocusOnUnmount",Gx={bubbles:!1,cancelable:!0},ZV="FocusScope",ny=C.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...l}=t,[d,p]=C.useState(null),m=so(i),y=so(a),v=C.useRef(null),x=Dt(e,S=>p(S)),I=C.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;C.useEffect(()=>{if(r){let S=function(W){if(I.paused||!d)return;const G=W.target;d.contains(G)?v.current=G:zi(v.current,{select:!0})},b=function(W){if(I.paused||!d)return;const G=W.relatedTarget;G!==null&&(d.contains(G)||zi(v.current,{select:!0}))},j=function(W){if(document.activeElement===document.body)for(const J of W)J.removedNodes.length>0&&zi(d)};document.addEventListener("focusin",S),document.addEventListener("focusout",b);const z=new MutationObserver(j);return d&&z.observe(d,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",S),document.removeEventListener("focusout",b),z.disconnect()}}},[r,d,I.paused]),C.useEffect(()=>{if(d){Qx.add(I);const S=document.activeElement;if(!d.contains(S)){const j=new CustomEvent(Om,Gx);d.addEventListener(Om,m),d.dispatchEvent(j),j.defaultPrevented||(e6(i6(CS(d)),{select:!0}),document.activeElement===S&&zi(d))}return()=>{d.removeEventListener(Om,m),setTimeout(()=>{const j=new CustomEvent(Lm,Gx);d.addEventListener(Lm,y),d.dispatchEvent(j),j.defaultPrevented||zi(S??document.body,{select:!0}),d.removeEventListener(Lm,y),Qx.remove(I)},0)}}},[d,m,y,I]);const k=C.useCallback(S=>{if(!n&&!r||I.paused)return;const b=S.key==="Tab"&&!S.altKey&&!S.ctrlKey&&!S.metaKey,j=document.activeElement;if(b&&j){const z=S.currentTarget,[W,G]=t6(z);W&&G?!S.shiftKey&&j===G?(S.preventDefault(),n&&zi(W,{select:!0})):S.shiftKey&&j===W&&(S.preventDefault(),n&&zi(G,{select:!0})):j===z&&S.preventDefault()}},[n,r,I.paused]);return u.jsx(et.div,{tabIndex:-1,...l,ref:x,onKeyDown:k})});ny.displayName=ZV;function e6(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(zi(r,{select:e}),document.activeElement!==n)return}function t6(t){const e=CS(t),n=Yx(e,t),r=Yx(e.reverse(),t);return[n,r]}function CS(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Yx(t,e){for(const n of t)if(!n6(n,{upTo:e}))return n}function n6(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function r6(t){return t instanceof HTMLInputElement&&"select"in t}function zi(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&r6(t)&&e&&t.select()}}var Qx=s6();function s6(){let t=[];return{add(e){const n=t[0];e!==n&&n?.pause(),t=Xx(t,e),t.unshift(e)},remove(e){t=Xx(t,e),t[0]?.resume()}}}function Xx(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function i6(t){return t.filter(e=>e.tagName!=="A")}var o6="Portal",ry=C.forwardRef((t,e)=>{const{container:n,...r}=t,[i,a]=C.useState(!1);Cn(()=>a(!0),[]);const l=n||i&&globalThis?.document?.body;return l?oS.createPortal(u.jsx(et.div,{...r,ref:e}),l):null});ry.displayName=o6;var Vm=0;function NS(){C.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??Jx()),document.body.insertAdjacentElement("beforeend",t[1]??Jx()),Vm++,()=>{Vm===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Vm--}},[])}function Jx(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var gs=function(){return gs=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},gs.apply(this,arguments)};function kS(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function a6(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,a;r<i;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))}var dh="right-scroll-bar-position",hh="width-before-scroll-bar",l6="with-scroll-bars-hidden",c6="--removed-body-scroll-bar-size";function Fm(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function u6(t,e){var n=C.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var d6=typeof window<"u"?C.useLayoutEffect:C.useEffect,Zx=new WeakMap;function h6(t,e){var n=u6(null,function(r){return t.forEach(function(i){return Fm(i,r)})});return d6(function(){var r=Zx.get(n);if(r){var i=new Set(r),a=new Set(t),l=n.current;i.forEach(function(d){a.has(d)||Fm(d,null)}),a.forEach(function(d){i.has(d)||Fm(d,l)})}Zx.set(n,t)},[t]),n}function f6(t){return t}function p6(t,e){e===void 0&&(e=f6);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(a){var l=e(a,r);return n.push(l),function(){n=n.filter(function(d){return d!==l})}},assignSyncMedium:function(a){for(r=!0;n.length;){var l=n;n=[],l.forEach(a)}n={push:function(d){return a(d)},filter:function(){return n}}},assignMedium:function(a){r=!0;var l=[];if(n.length){var d=n;n=[],d.forEach(a),l=n}var p=function(){var y=l;l=[],y.forEach(a)},m=function(){return Promise.resolve().then(p)};m(),n={push:function(y){l.push(y),m()},filter:function(y){return l=l.filter(y),n}}}};return i}function m6(t){t===void 0&&(t={});var e=p6(null);return e.options=gs({async:!0,ssr:!1},t),e}var AS=function(t){var e=t.sideCar,n=kS(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return C.createElement(r,gs({},n))};AS.isSideCarExport=!0;function g6(t,e){return t.useMedium(e),AS}var PS=m6(),Um=function(){},kf=C.forwardRef(function(t,e){var n=C.useRef(null),r=C.useState({onScrollCapture:Um,onWheelCapture:Um,onTouchMoveCapture:Um}),i=r[0],a=r[1],l=t.forwardProps,d=t.children,p=t.className,m=t.removeScrollBar,y=t.enabled,v=t.shards,x=t.sideCar,I=t.noRelative,k=t.noIsolation,S=t.inert,b=t.allowPinchZoom,j=t.as,z=j===void 0?"div":j,W=t.gapMode,G=kS(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),J=x,te=h6([n,e]),P=gs(gs({},G),i);return C.createElement(C.Fragment,null,y&&C.createElement(J,{sideCar:PS,removeScrollBar:m,shards:v,noRelative:I,noIsolation:k,inert:S,setCallbacks:a,allowPinchZoom:!!b,lockRef:n,gapMode:W}),l?C.cloneElement(C.Children.only(d),gs(gs({},P),{ref:te})):C.createElement(z,gs({},P,{className:p,ref:te}),d))});kf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};kf.classNames={fullWidth:hh,zeroRight:dh};var v6=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function y6(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=v6();return e&&t.setAttribute("nonce",e),t}function w6(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function _6(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var x6=function(){var t=0,e=null;return{add:function(n){t==0&&(e=y6())&&(w6(e,n),_6(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},E6=function(){var t=x6();return function(e,n){C.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},RS=function(){var t=E6(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},b6={left:0,top:0,right:0,gap:0},zm=function(t){return parseInt(t||"",10)||0},T6=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[zm(n),zm(r),zm(i)]},S6=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return b6;var e=T6(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},I6=RS(),ml="data-scroll-locked",C6=function(t,e,n,r){var i=t.left,a=t.top,l=t.right,d=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(l6,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(d,"px ").concat(r,`;
  }
  body[`).concat(ml,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(d,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(d,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(dh,` {
    right: `).concat(d,"px ").concat(r,`;
  }
  
  .`).concat(hh,` {
    margin-right: `).concat(d,"px ").concat(r,`;
  }
  
  .`).concat(dh," .").concat(dh,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(hh," .").concat(hh,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(ml,`] {
    `).concat(c6,": ").concat(d,`px;
  }
`)},eE=function(){var t=parseInt(document.body.getAttribute(ml)||"0",10);return isFinite(t)?t:0},N6=function(){C.useEffect(function(){return document.body.setAttribute(ml,(eE()+1).toString()),function(){var t=eE()-1;t<=0?document.body.removeAttribute(ml):document.body.setAttribute(ml,t.toString())}},[])},k6=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;N6();var a=C.useMemo(function(){return S6(i)},[i]);return C.createElement(I6,{styles:C6(a,!e,i,n?"":"!important")})},Mg=!1;if(typeof window<"u")try{var Yd=Object.defineProperty({},"passive",{get:function(){return Mg=!0,!0}});window.addEventListener("test",Yd,Yd),window.removeEventListener("test",Yd,Yd)}catch{Mg=!1}var tl=Mg?{passive:!1}:!1,A6=function(t){return t.tagName==="TEXTAREA"},DS=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!A6(t)&&n[e]==="visible")},P6=function(t){return DS(t,"overflowY")},R6=function(t){return DS(t,"overflowX")},tE=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=jS(t,r);if(i){var a=MS(t,r),l=a[1],d=a[2];if(l>d)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},D6=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},j6=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},jS=function(t,e){return t==="v"?P6(e):R6(e)},MS=function(t,e){return t==="v"?D6(e):j6(e)},M6=function(t,e){return t==="h"&&e==="rtl"?-1:1},O6=function(t,e,n,r,i){var a=M6(t,window.getComputedStyle(e).direction),l=a*r,d=n.target,p=e.contains(d),m=!1,y=l>0,v=0,x=0;do{if(!d)break;var I=MS(t,d),k=I[0],S=I[1],b=I[2],j=S-b-a*k;(k||j)&&jS(t,d)&&(v+=j,x+=k);var z=d.parentNode;d=z&&z.nodeType===Node.DOCUMENT_FRAGMENT_NODE?z.host:z}while(!p&&d!==document.body||p&&(e.contains(d)||e===d));return(y&&Math.abs(v)<1||!y&&Math.abs(x)<1)&&(m=!0),m},Qd=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},nE=function(t){return[t.deltaX,t.deltaY]},rE=function(t){return t&&"current"in t?t.current:t},L6=function(t,e){return t[0]===e[0]&&t[1]===e[1]},V6=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},F6=0,nl=[];function U6(t){var e=C.useRef([]),n=C.useRef([0,0]),r=C.useRef(),i=C.useState(F6++)[0],a=C.useState(RS)[0],l=C.useRef(t);C.useEffect(function(){l.current=t},[t]),C.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var S=a6([t.lockRef.current],(t.shards||[]).map(rE),!0).filter(Boolean);return S.forEach(function(b){return b.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),S.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var d=C.useCallback(function(S,b){if("touches"in S&&S.touches.length===2||S.type==="wheel"&&S.ctrlKey)return!l.current.allowPinchZoom;var j=Qd(S),z=n.current,W="deltaX"in S?S.deltaX:z[0]-j[0],G="deltaY"in S?S.deltaY:z[1]-j[1],J,te=S.target,P=Math.abs(W)>Math.abs(G)?"h":"v";if("touches"in S&&P==="h"&&te.type==="range")return!1;var N=tE(P,te);if(!N)return!0;if(N?J=P:(J=P==="v"?"h":"v",N=tE(P,te)),!N)return!1;if(!r.current&&"changedTouches"in S&&(W||G)&&(r.current=J),!J)return!0;var D=r.current||J;return O6(D,b,S,D==="h"?W:G)},[]),p=C.useCallback(function(S){var b=S;if(!(!nl.length||nl[nl.length-1]!==a)){var j="deltaY"in b?nE(b):Qd(b),z=e.current.filter(function(J){return J.name===b.type&&(J.target===b.target||b.target===J.shadowParent)&&L6(J.delta,j)})[0];if(z&&z.should){b.cancelable&&b.preventDefault();return}if(!z){var W=(l.current.shards||[]).map(rE).filter(Boolean).filter(function(J){return J.contains(b.target)}),G=W.length>0?d(b,W[0]):!l.current.noIsolation;G&&b.cancelable&&b.preventDefault()}}},[]),m=C.useCallback(function(S,b,j,z){var W={name:S,delta:b,target:j,should:z,shadowParent:z6(j)};e.current.push(W),setTimeout(function(){e.current=e.current.filter(function(G){return G!==W})},1)},[]),y=C.useCallback(function(S){n.current=Qd(S),r.current=void 0},[]),v=C.useCallback(function(S){m(S.type,nE(S),S.target,d(S,t.lockRef.current))},[]),x=C.useCallback(function(S){m(S.type,Qd(S),S.target,d(S,t.lockRef.current))},[]);C.useEffect(function(){return nl.push(a),t.setCallbacks({onScrollCapture:v,onWheelCapture:v,onTouchMoveCapture:x}),document.addEventListener("wheel",p,tl),document.addEventListener("touchmove",p,tl),document.addEventListener("touchstart",y,tl),function(){nl=nl.filter(function(S){return S!==a}),document.removeEventListener("wheel",p,tl),document.removeEventListener("touchmove",p,tl),document.removeEventListener("touchstart",y,tl)}},[]);var I=t.removeScrollBar,k=t.inert;return C.createElement(C.Fragment,null,k?C.createElement(a,{styles:V6(i)}):null,I?C.createElement(k6,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function z6(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const B6=g6(PS,U6);var sy=C.forwardRef(function(t,e){return C.createElement(kf,gs({},t,{ref:e,sideCar:B6}))});sy.classNames=kf.classNames;var $6=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},rl=new WeakMap,Xd=new WeakMap,Jd={},Bm=0,OS=function(t){return t&&(t.host||OS(t.parentNode))},W6=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=OS(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},H6=function(t,e,n,r){var i=W6(e,Array.isArray(t)?t:[t]);Jd[n]||(Jd[n]=new WeakMap);var a=Jd[n],l=[],d=new Set,p=new Set(i),m=function(v){!v||d.has(v)||(d.add(v),m(v.parentNode))};i.forEach(m);var y=function(v){!v||p.has(v)||Array.prototype.forEach.call(v.children,function(x){if(d.has(x))y(x);else try{var I=x.getAttribute(r),k=I!==null&&I!=="false",S=(rl.get(x)||0)+1,b=(a.get(x)||0)+1;rl.set(x,S),a.set(x,b),l.push(x),S===1&&k&&Xd.set(x,!0),b===1&&x.setAttribute(n,"true"),k||x.setAttribute(r,"true")}catch(j){console.error("aria-hidden: cannot operate on ",x,j)}})};return y(e),d.clear(),Bm++,function(){l.forEach(function(v){var x=rl.get(v)-1,I=a.get(v)-1;rl.set(v,x),a.set(v,I),x||(Xd.has(v)||v.removeAttribute(r),Xd.delete(v)),I||v.removeAttribute(n)}),Bm--,Bm||(rl=new WeakMap,rl=new WeakMap,Xd=new WeakMap,Jd={})}},LS=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=$6(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),H6(r,i,n,"aria-hidden")):function(){return null}},Af="Dialog",[VS]=va(Af),[q6,Kr]=VS(Af),FS=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:a,modal:l=!0}=t,d=C.useRef(null),p=C.useRef(null),[m,y]=iu({prop:r,defaultProp:i??!1,onChange:a,caller:Af});return u.jsx(q6,{scope:e,triggerRef:d,contentRef:p,contentId:Xi(),titleId:Xi(),descriptionId:Xi(),open:m,onOpenChange:y,onOpenToggle:C.useCallback(()=>y(v=>!v),[y]),modal:l,children:n})};FS.displayName=Af;var US="DialogTrigger",K6=C.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Kr(US,n),a=Dt(e,i.triggerRef);return u.jsx(et.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":ay(i.open),...r,ref:a,onClick:nt(t.onClick,i.onOpenToggle)})});K6.displayName=US;var iy="DialogPortal",[G6,zS]=VS(iy,{forceMount:void 0}),BS=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,a=Kr(iy,e);return u.jsx(G6,{scope:e,forceMount:n,children:C.Children.map(r,l=>u.jsx(bu,{present:n||a.open,children:u.jsx(ry,{asChild:!0,container:i,children:l})}))})};BS.displayName=iy;var Fh="DialogOverlay",$S=C.forwardRef((t,e)=>{const n=zS(Fh,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,a=Kr(Fh,t.__scopeDialog);return a.modal?u.jsx(bu,{present:r||a.open,children:u.jsx(Q6,{...i,ref:e})}):null});$S.displayName=Fh;var Y6=Tl("DialogOverlay.RemoveScroll"),Q6=C.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Kr(Fh,n);return u.jsx(sy,{as:Y6,allowPinchZoom:!0,shards:[i.contentRef],children:u.jsx(et.div,{"data-state":ay(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),sa="DialogContent",WS=C.forwardRef((t,e)=>{const n=zS(sa,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,a=Kr(sa,t.__scopeDialog);return u.jsx(bu,{present:r||a.open,children:a.modal?u.jsx(X6,{...i,ref:e}):u.jsx(J6,{...i,ref:e})})});WS.displayName=sa;var X6=C.forwardRef((t,e)=>{const n=Kr(sa,t.__scopeDialog),r=C.useRef(null),i=Dt(e,n.contentRef,r);return C.useEffect(()=>{const a=r.current;if(a)return LS(a)},[]),u.jsx(HS,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:nt(t.onCloseAutoFocus,a=>{a.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:nt(t.onPointerDownOutside,a=>{const l=a.detail.originalEvent,d=l.button===0&&l.ctrlKey===!0;(l.button===2||d)&&a.preventDefault()}),onFocusOutside:nt(t.onFocusOutside,a=>a.preventDefault())})}),J6=C.forwardRef((t,e)=>{const n=Kr(sa,t.__scopeDialog),r=C.useRef(!1),i=C.useRef(!1);return u.jsx(HS,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{t.onCloseAutoFocus?.(a),a.defaultPrevented||(r.current||n.triggerRef.current?.focus(),a.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:a=>{t.onInteractOutside?.(a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const l=a.target;n.triggerRef.current?.contains(l)&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),HS=C.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:a,...l}=t,d=Kr(sa,n),p=C.useRef(null),m=Dt(e,p);return NS(),u.jsxs(u.Fragment,{children:[u.jsx(ny,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:a,children:u.jsx(ty,{role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":ay(d.open),...l,ref:m,onDismiss:()=>d.onOpenChange(!1)})}),u.jsxs(u.Fragment,{children:[u.jsx(e5,{titleId:d.titleId}),u.jsx(n5,{contentRef:p,descriptionId:d.descriptionId})]})]})}),oy="DialogTitle",qS=C.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Kr(oy,n);return u.jsx(et.h2,{id:i.titleId,...r,ref:e})});qS.displayName=oy;var KS="DialogDescription",Z6=C.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Kr(KS,n);return u.jsx(et.p,{id:i.descriptionId,...r,ref:e})});Z6.displayName=KS;var GS="DialogClose",YS=C.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Kr(GS,n);return u.jsx(et.button,{type:"button",...r,ref:e,onClick:nt(t.onClick,()=>i.onOpenChange(!1))})});YS.displayName=GS;function ay(t){return t?"open":"closed"}var QS="DialogTitleWarning",[o8,XS]=uV(QS,{contentName:sa,titleName:oy,docsSlug:"dialog"}),e5=({titleId:t})=>{const e=XS(QS),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return C.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},t5="DialogDescriptionWarning",n5=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${XS(t5).contentName}}.`;return C.useEffect(()=>{const i=t.current?.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},r5=FS,s5=BS,i5=$S,o5=WS,a5=qS,l5=YS;function jl({...t}){return u.jsx(r5,{"data-slot":"dialog",...t})}function c5({...t}){return u.jsx(s5,{"data-slot":"dialog-portal",...t})}function u5({className:t,...e}){return u.jsx(i5,{"data-slot":"dialog-overlay",className:at("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...e})}function Ml({className:t,children:e,...n}){return u.jsxs(c5,{"data-slot":"dialog-portal",children:[u.jsx(u5,{}),u.jsxs(o5,{"data-slot":"dialog-content",className:at("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...n,children:[e,u.jsxs(l5,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[u.jsx(WT,{}),u.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function Ol({className:t,...e}){return u.jsx("div",{"data-slot":"dialog-header",className:at("flex flex-col gap-2 text-center sm:text-left",t),...e})}function Ll({className:t,...e}){return u.jsx(a5,{"data-slot":"dialog-title",className:at("text-lg leading-none font-semibold",t),...e})}function st(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function ur(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function Rn(t,e){const n=st(t);return isNaN(e)?ur(t,NaN):(e&&n.setDate(n.getDate()+e),n)}function Br(t,e){const n=st(t);if(isNaN(e))return ur(t,NaN);if(!e)return n;const r=n.getDate(),i=ur(t,n.getTime());i.setMonth(n.getMonth()+e+1,0);const a=i.getDate();return r>=a?i:(n.setFullYear(i.getFullYear(),i.getMonth(),r),n)}const ly=6048e5,d5=864e5;let h5={};function Iu(){return h5}function Ps(t,e){const n=Iu(),r=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,i=st(t),a=i.getDay(),l=(a<r?7:0)+a-r;return i.setDate(i.getDate()-l),i.setHours(0,0,0,0),i}function ia(t){return Ps(t,{weekStartsOn:1})}function JS(t){const e=st(t),n=e.getFullYear(),r=ur(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=ia(r),a=ur(t,0);a.setFullYear(n,0,4),a.setHours(0,0,0,0);const l=ia(a);return e.getTime()>=i.getTime()?n+1:e.getTime()>=l.getTime()?n:n-1}function Sl(t){const e=st(t);return e.setHours(0,0,0,0),e}function Uh(t){const e=st(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function vs(t,e){const n=Sl(t),r=Sl(e),i=+n-Uh(n),a=+r-Uh(r);return Math.round((i-a)/d5)}function f5(t){const e=JS(t),n=ur(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),ia(n)}function Og(t,e){const n=e*7;return Rn(t,n)}function p5(t,e){return Br(t,e*12)}function m5(t){let e;return t.forEach(function(n){const r=st(n);(e===void 0||e<r||isNaN(Number(r)))&&(e=r)}),e||new Date(NaN)}function g5(t){let e;return t.forEach(n=>{const r=st(n);(!e||e>r||isNaN(+r))&&(e=r)}),e||new Date(NaN)}function Hn(t,e){const n=Sl(t),r=Sl(e);return+n==+r}function cy(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function v5(t){if(!cy(t)&&typeof t!="number")return!1;const e=st(t);return!isNaN(Number(e))}function ou(t,e){const n=st(t),r=st(e),i=n.getFullYear()-r.getFullYear(),a=n.getMonth()-r.getMonth();return i*12+a}function y5(t,e,n){const r=Ps(t,n),i=Ps(e,n),a=+r-Uh(r),l=+i-Uh(i);return Math.round((a-l)/ly)}function uy(t){const e=st(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function Kn(t){const e=st(t);return e.setDate(1),e.setHours(0,0,0,0),e}function ZS(t){const e=st(t),n=ur(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}function dy(t,e){const n=Iu(),r=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,i=st(t),a=i.getDay(),l=(a<r?-7:0)+6-(a-r);return i.setDate(i.getDate()+l),i.setHours(23,59,59,999),i}function eI(t){return dy(t,{weekStartsOn:1})}const w5={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},_5=(t,e,n)=>{let r;const i=w5[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function $m(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const x5={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},E5={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},b5={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},T5={date:$m({formats:x5,defaultWidth:"full"}),time:$m({formats:E5,defaultWidth:"full"}),dateTime:$m({formats:b5,defaultWidth:"full"})},S5={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},I5=(t,e,n,r)=>S5[t];function Ac(t){return(e,n)=>{const r=n?.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const l=t.defaultFormattingWidth||t.defaultWidth,d=n?.width?String(n.width):l;i=t.formattingValues[d]||t.formattingValues[l]}else{const l=t.defaultWidth,d=n?.width?String(n.width):t.defaultWidth;i=t.values[d]||t.values[l]}const a=t.argumentCallback?t.argumentCallback(e):e;return i[a]}}const C5={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},N5={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},k5={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},A5={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},P5={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},R5={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},D5=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},j5={ordinalNumber:D5,era:Ac({values:C5,defaultWidth:"wide"}),quarter:Ac({values:N5,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Ac({values:k5,defaultWidth:"wide"}),day:Ac({values:A5,defaultWidth:"wide"}),dayPeriod:Ac({values:P5,defaultWidth:"wide",formattingValues:R5,defaultFormattingWidth:"wide"})};function Pc(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],a=e.match(i);if(!a)return null;const l=a[0],d=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],p=Array.isArray(d)?O5(d,v=>v.test(l)):M5(d,v=>v.test(l));let m;m=t.valueCallback?t.valueCallback(p):p,m=n.valueCallback?n.valueCallback(m):m;const y=e.slice(l.length);return{value:m,rest:y}}}function M5(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function O5(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function L5(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],a=e.match(t.parsePattern);if(!a)return null;let l=t.valueCallback?t.valueCallback(a[0]):a[0];l=n.valueCallback?n.valueCallback(l):l;const d=e.slice(i.length);return{value:l,rest:d}}}const V5=/^(\d+)(th|st|nd|rd)?/i,F5=/\d+/i,U5={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},z5={any:[/^b/i,/^(a|c)/i]},B5={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},$5={any:[/1/i,/2/i,/3/i,/4/i]},W5={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},H5={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},q5={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},K5={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},G5={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Y5={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Q5={ordinalNumber:L5({matchPattern:V5,parsePattern:F5,valueCallback:t=>parseInt(t,10)}),era:Pc({matchPatterns:U5,defaultMatchWidth:"wide",parsePatterns:z5,defaultParseWidth:"any"}),quarter:Pc({matchPatterns:B5,defaultMatchWidth:"wide",parsePatterns:$5,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Pc({matchPatterns:W5,defaultMatchWidth:"wide",parsePatterns:H5,defaultParseWidth:"any"}),day:Pc({matchPatterns:q5,defaultMatchWidth:"wide",parsePatterns:K5,defaultParseWidth:"any"}),dayPeriod:Pc({matchPatterns:G5,defaultMatchWidth:"any",parsePatterns:Y5,defaultParseWidth:"any"})},tI={code:"en-US",formatDistance:_5,formatLong:T5,formatRelative:I5,localize:j5,match:Q5,options:{weekStartsOn:0,firstWeekContainsDate:1}};function X5(t){const e=st(t);return vs(e,ZS(e))+1}function nI(t){const e=st(t),n=+ia(e)-+f5(e);return Math.round(n/ly)+1}function rI(t,e){const n=st(t),r=n.getFullYear(),i=Iu(),a=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,l=ur(t,0);l.setFullYear(r+1,0,a),l.setHours(0,0,0,0);const d=Ps(l,e),p=ur(t,0);p.setFullYear(r,0,a),p.setHours(0,0,0,0);const m=Ps(p,e);return n.getTime()>=d.getTime()?r+1:n.getTime()>=m.getTime()?r:r-1}function J5(t,e){const n=Iu(),r=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,i=rI(t,e),a=ur(t,0);return a.setFullYear(i,0,r),a.setHours(0,0,0,0),Ps(a,e)}function sI(t,e){const n=st(t),r=+Ps(n,e)-+J5(n,e);return Math.round(r/ly)+1}function dt(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Ui={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return dt(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):dt(n+1,2)},d(t,e){return dt(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return dt(t.getHours()%12||12,e.length)},H(t,e){return dt(t.getHours(),e.length)},m(t,e){return dt(t.getMinutes(),e.length)},s(t,e){return dt(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return dt(i,e.length)}},sl={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},sE={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return Ui.y(t,e)},Y:function(t,e,n,r){const i=rI(t,r),a=i>0?i:1-i;if(e==="YY"){const l=a%100;return dt(l,2)}return e==="Yo"?n.ordinalNumber(a,{unit:"year"}):dt(a,e.length)},R:function(t,e){const n=JS(t);return dt(n,e.length)},u:function(t,e){const n=t.getFullYear();return dt(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return dt(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return dt(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Ui.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return dt(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=sI(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):dt(i,e.length)},I:function(t,e,n){const r=nI(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):dt(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Ui.d(t,e)},D:function(t,e,n){const r=X5(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):dt(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(a);case"ee":return dt(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(a);case"cc":return dt(a,e.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return dt(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=sl.noon:r===0?i=sl.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=sl.evening:r>=12?i=sl.afternoon:r>=4?i=sl.morning:i=sl.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Ui.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Ui.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):dt(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):dt(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Ui.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Ui.s(t,e)},S:function(t,e){return Ui.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return oE(r);case"XXXX":case"XX":return $o(r);case"XXXXX":case"XXX":default:return $o(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return oE(r);case"xxxx":case"xx":return $o(r);case"xxxxx":case"xxx":default:return $o(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+iE(r,":");case"OOOO":default:return"GMT"+$o(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+iE(r,":");case"zzzz":default:return"GMT"+$o(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return dt(r,e.length)},T:function(t,e,n){const r=t.getTime();return dt(r,e.length)}};function iE(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),a=r%60;return a===0?n+String(i):n+String(i)+e+dt(a,2)}function oE(t,e){return t%60===0?(t>0?"-":"+")+dt(Math.abs(t)/60,2):$o(t,e)}function $o(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=dt(Math.trunc(r/60),2),a=dt(r%60,2);return n+i+e+a}const aE=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},iI=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Z5=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return aE(t,e);let a;switch(r){case"P":a=e.dateTime({width:"short"});break;case"PP":a=e.dateTime({width:"medium"});break;case"PPP":a=e.dateTime({width:"long"});break;case"PPPP":default:a=e.dateTime({width:"full"});break}return a.replace("{{date}}",aE(r,e)).replace("{{time}}",iI(i,e))},e3={p:iI,P:Z5},t3=/^D+$/,n3=/^Y+$/,r3=["D","DD","YY","YYYY"];function s3(t){return t3.test(t)}function i3(t){return n3.test(t)}function o3(t,e,n){const r=a3(t,e,n);if(console.warn(r),r3.includes(t))throw new RangeError(r)}function a3(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const l3=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,c3=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,u3=/^'([^]*?)'?$/,d3=/''/g,h3=/[a-zA-Z]/;function ya(t,e,n){const r=Iu(),i=n?.locale??r.locale??tI,a=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,l=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,d=st(t);if(!v5(d))throw new RangeError("Invalid time value");let p=e.match(c3).map(y=>{const v=y[0];if(v==="p"||v==="P"){const x=e3[v];return x(y,i.formatLong)}return y}).join("").match(l3).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const v=y[0];if(v==="'")return{isToken:!1,value:f3(y)};if(sE[v])return{isToken:!0,value:y};if(v.match(h3))throw new RangeError("Format string contains an unescaped latin alphabet character `"+v+"`");return{isToken:!1,value:y}});i.localize.preprocessor&&(p=i.localize.preprocessor(d,p));const m={firstWeekContainsDate:a,weekStartsOn:l,locale:i};return p.map(y=>{if(!y.isToken)return y.value;const v=y.value;(!n?.useAdditionalWeekYearTokens&&i3(v)||!n?.useAdditionalDayOfYearTokens&&s3(v))&&o3(v,e,String(t));const x=sE[v[0]];return x(d,v,i.localize,m)}).join("")}function f3(t){const e=t.match(u3);return e?e[1].replace(d3,"'"):t}function p3(t){const e=st(t),n=e.getFullYear(),r=e.getMonth(),i=ur(t,0);return i.setFullYear(n,r+1,0),i.setHours(0,0,0,0),i.getDate()}function m3(t){return Math.trunc(+st(t)/1e3)}function g3(t){const e=st(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(0,0,0,0),e}function v3(t,e){return y5(g3(t),Kn(t),e)+1}function Lg(t,e){const n=st(t),r=st(e);return n.getTime()>r.getTime()}function oI(t,e){const n=st(t),r=st(e);return+n<+r}function hy(t,e){const n=st(t),r=st(e);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function y3(t,e){const n=st(t),r=st(e);return n.getFullYear()===r.getFullYear()}function Wm(t,e){return Rn(t,-e)}function Hm(t,e){const n=st(t),r=n.getFullYear(),i=n.getDate(),a=ur(t,0);a.setFullYear(r,e,15),a.setHours(0,0,0,0);const l=p3(a);return n.setMonth(e,Math.min(i,l)),n}function lE(t,e){const n=st(t);return isNaN(+n)?ur(t,NaN):(n.setFullYear(e),n)}var Ve=function(){return Ve=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Ve.apply(this,arguments)};function w3(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function aI(t,e,n){for(var r=0,i=e.length,a;r<i;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))}function Cu(t){return t.mode==="multiple"}function Nu(t){return t.mode==="range"}function Pf(t){return t.mode==="single"}var _3={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function x3(t,e){return ya(t,"LLLL y",e)}function E3(t,e){return ya(t,"d",e)}function b3(t,e){return ya(t,"LLLL",e)}function T3(t){return"".concat(t)}function S3(t,e){return ya(t,"cccccc",e)}function I3(t,e){return ya(t,"yyyy",e)}var C3=Object.freeze({__proto__:null,formatCaption:x3,formatDay:E3,formatMonthCaption:b3,formatWeekNumber:T3,formatWeekdayName:S3,formatYearCaption:I3}),N3=function(t,e,n){return ya(t,"do MMMM (EEEE)",n)},k3=function(){return"Month: "},A3=function(){return"Go to next month"},P3=function(){return"Go to previous month"},R3=function(t,e){return ya(t,"cccc",e)},D3=function(t){return"Week n. ".concat(t)},j3=function(){return"Year: "},M3=Object.freeze({__proto__:null,labelDay:N3,labelMonthDropdown:k3,labelNext:A3,labelPrevious:P3,labelWeekNumber:D3,labelWeekday:R3,labelYearDropdown:j3});function O3(){var t="buttons",e=_3,n=tI,r={},i={},a=1,l={},d=new Date;return{captionLayout:t,classNames:e,formatters:C3,labels:M3,locale:n,modifiersClassNames:r,modifiers:i,numberOfMonths:a,styles:l,today:d,mode:"default"}}function L3(t){var e=t.fromYear,n=t.toYear,r=t.fromMonth,i=t.toMonth,a=t.fromDate,l=t.toDate;return r?a=Kn(r):e&&(a=new Date(e,0,1)),i?l=uy(i):n&&(l=new Date(n,11,31)),{fromDate:a?Sl(a):void 0,toDate:l?Sl(l):void 0}}var lI=C.createContext(void 0);function V3(t){var e,n=t.initialProps,r=O3(),i=L3(n),a=i.fromDate,l=i.toDate,d=(e=n.captionLayout)!==null&&e!==void 0?e:r.captionLayout;d!=="buttons"&&(!a||!l)&&(d="buttons");var p;(Pf(n)||Cu(n)||Nu(n))&&(p=n.onSelect);var m=Ve(Ve(Ve({},r),n),{captionLayout:d,classNames:Ve(Ve({},r.classNames),n.classNames),components:Ve({},n.components),formatters:Ve(Ve({},r.formatters),n.formatters),fromDate:a,labels:Ve(Ve({},r.labels),n.labels),mode:n.mode||r.mode,modifiers:Ve(Ve({},r.modifiers),n.modifiers),modifiersClassNames:Ve(Ve({},r.modifiersClassNames),n.modifiersClassNames),onSelect:p,styles:Ve(Ve({},r.styles),n.styles),toDate:l});return u.jsx(lI.Provider,{value:m,children:t.children})}function vt(){var t=C.useContext(lI);if(!t)throw new Error("useDayPicker must be used within a DayPickerProvider.");return t}function cI(t){var e=vt(),n=e.locale,r=e.classNames,i=e.styles,a=e.formatters.formatCaption;return u.jsx("div",{className:r.caption_label,style:i.caption_label,"aria-live":"polite",role:"presentation",id:t.id,children:a(t.displayMonth,{locale:n})})}function F3(t){return u.jsx("svg",Ve({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},t,{children:u.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function uI(t){var e,n,r=t.onChange,i=t.value,a=t.children,l=t.caption,d=t.className,p=t.style,m=vt(),y=(n=(e=m.components)===null||e===void 0?void 0:e.IconDropdown)!==null&&n!==void 0?n:F3;return u.jsxs("div",{className:d,style:p,children:[u.jsx("span",{className:m.classNames.vhidden,children:t["aria-label"]}),u.jsx("select",{name:t.name,"aria-label":t["aria-label"],className:m.classNames.dropdown,style:m.styles.dropdown,value:i,onChange:r,children:a}),u.jsxs("div",{className:m.classNames.caption_label,style:m.styles.caption_label,"aria-hidden":"true",children:[l,u.jsx(y,{className:m.classNames.dropdown_icon,style:m.styles.dropdown_icon})]})]})}function U3(t){var e,n=vt(),r=n.fromDate,i=n.toDate,a=n.styles,l=n.locale,d=n.formatters.formatMonthCaption,p=n.classNames,m=n.components,y=n.labels.labelMonthDropdown;if(!r)return u.jsx(u.Fragment,{});if(!i)return u.jsx(u.Fragment,{});var v=[];if(y3(r,i))for(var x=Kn(r),I=r.getMonth();I<=i.getMonth();I++)v.push(Hm(x,I));else for(var x=Kn(new Date),I=0;I<=11;I++)v.push(Hm(x,I));var k=function(b){var j=Number(b.target.value),z=Hm(Kn(t.displayMonth),j);t.onChange(z)},S=(e=m?.Dropdown)!==null&&e!==void 0?e:uI;return u.jsx(S,{name:"months","aria-label":y(),className:p.dropdown_month,style:a.dropdown_month,onChange:k,value:t.displayMonth.getMonth(),caption:d(t.displayMonth,{locale:l}),children:v.map(function(b){return u.jsx("option",{value:b.getMonth(),children:d(b,{locale:l})},b.getMonth())})})}function z3(t){var e,n=t.displayMonth,r=vt(),i=r.fromDate,a=r.toDate,l=r.locale,d=r.styles,p=r.classNames,m=r.components,y=r.formatters.formatYearCaption,v=r.labels.labelYearDropdown,x=[];if(!i)return u.jsx(u.Fragment,{});if(!a)return u.jsx(u.Fragment,{});for(var I=i.getFullYear(),k=a.getFullYear(),S=I;S<=k;S++)x.push(lE(ZS(new Date),S));var b=function(z){var W=lE(Kn(n),Number(z.target.value));t.onChange(W)},j=(e=m?.Dropdown)!==null&&e!==void 0?e:uI;return u.jsx(j,{name:"years","aria-label":v(),className:p.dropdown_year,style:d.dropdown_year,onChange:b,value:n.getFullYear(),caption:y(n,{locale:l}),children:x.map(function(z){return u.jsx("option",{value:z.getFullYear(),children:y(z,{locale:l})},z.getFullYear())})})}function B3(t,e){var n=C.useState(t),r=n[0],i=n[1],a=e===void 0?r:e;return[a,i]}function $3(t){var e=t.month,n=t.defaultMonth,r=t.today,i=e||n||r||new Date,a=t.toDate,l=t.fromDate,d=t.numberOfMonths,p=d===void 0?1:d;if(a&&ou(a,i)<0){var m=-1*(p-1);i=Br(a,m)}return l&&ou(i,l)<0&&(i=l),Kn(i)}function W3(){var t=vt(),e=$3(t),n=B3(e,t.month),r=n[0],i=n[1],a=function(l){var d;if(!t.disableNavigation){var p=Kn(l);i(p),(d=t.onMonthChange)===null||d===void 0||d.call(t,p)}};return[r,a]}function H3(t,e){for(var n=e.reverseMonths,r=e.numberOfMonths,i=Kn(t),a=Kn(Br(i,r)),l=ou(a,i),d=[],p=0;p<l;p++){var m=Br(i,p);d.push(m)}return n&&(d=d.reverse()),d}function q3(t,e){if(!e.disableNavigation){var n=e.toDate,r=e.pagedNavigation,i=e.numberOfMonths,a=i===void 0?1:i,l=r?a:1,d=Kn(t);if(!n)return Br(d,l);var p=ou(n,t);if(!(p<a))return Br(d,l)}}function K3(t,e){if(!e.disableNavigation){var n=e.fromDate,r=e.pagedNavigation,i=e.numberOfMonths,a=i===void 0?1:i,l=r?a:1,d=Kn(t);if(!n)return Br(d,-l);var p=ou(d,n);if(!(p<=0))return Br(d,-l)}}var dI=C.createContext(void 0);function G3(t){var e=vt(),n=W3(),r=n[0],i=n[1],a=H3(r,e),l=q3(r,e),d=K3(r,e),p=function(v){return a.some(function(x){return hy(v,x)})},m=function(v,x){p(v)||(x&&oI(v,x)?i(Br(v,1+e.numberOfMonths*-1)):i(v))},y={currentMonth:r,displayMonths:a,goToMonth:i,goToDate:m,previousMonth:d,nextMonth:l,isDateDisplayed:p};return u.jsx(dI.Provider,{value:y,children:t.children})}function ku(){var t=C.useContext(dI);if(!t)throw new Error("useNavigation must be used within a NavigationProvider");return t}function cE(t){var e,n=vt(),r=n.classNames,i=n.styles,a=n.components,l=ku().goToMonth,d=function(y){l(Br(y,t.displayIndex?-t.displayIndex:0))},p=(e=a?.CaptionLabel)!==null&&e!==void 0?e:cI,m=u.jsx(p,{id:t.id,displayMonth:t.displayMonth});return u.jsxs("div",{className:r.caption_dropdowns,style:i.caption_dropdowns,children:[u.jsx("div",{className:r.vhidden,children:m}),u.jsx(U3,{onChange:d,displayMonth:t.displayMonth}),u.jsx(z3,{onChange:d,displayMonth:t.displayMonth})]})}function Y3(t){return u.jsx("svg",Ve({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:u.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function Q3(t){return u.jsx("svg",Ve({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:u.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var zh=C.forwardRef(function(t,e){var n=vt(),r=n.classNames,i=n.styles,a=[r.button_reset,r.button];t.className&&a.push(t.className);var l=a.join(" "),d=Ve(Ve({},i.button_reset),i.button);return t.style&&Object.assign(d,t.style),u.jsx("button",Ve({},t,{ref:e,type:"button",className:l,style:d}))});function X3(t){var e,n,r=vt(),i=r.dir,a=r.locale,l=r.classNames,d=r.styles,p=r.labels,m=p.labelPrevious,y=p.labelNext,v=r.components;if(!t.nextMonth&&!t.previousMonth)return u.jsx(u.Fragment,{});var x=m(t.previousMonth,{locale:a}),I=[l.nav_button,l.nav_button_previous].join(" "),k=y(t.nextMonth,{locale:a}),S=[l.nav_button,l.nav_button_next].join(" "),b=(e=v?.IconRight)!==null&&e!==void 0?e:Q3,j=(n=v?.IconLeft)!==null&&n!==void 0?n:Y3;return u.jsxs("div",{className:l.nav,style:d.nav,children:[!t.hidePrevious&&u.jsx(zh,{name:"previous-month","aria-label":x,className:I,style:d.nav_button_previous,disabled:!t.previousMonth,onClick:t.onPreviousClick,children:i==="rtl"?u.jsx(b,{className:l.nav_icon,style:d.nav_icon}):u.jsx(j,{className:l.nav_icon,style:d.nav_icon})}),!t.hideNext&&u.jsx(zh,{name:"next-month","aria-label":k,className:S,style:d.nav_button_next,disabled:!t.nextMonth,onClick:t.onNextClick,children:i==="rtl"?u.jsx(j,{className:l.nav_icon,style:d.nav_icon}):u.jsx(b,{className:l.nav_icon,style:d.nav_icon})})]})}function uE(t){var e=vt().numberOfMonths,n=ku(),r=n.previousMonth,i=n.nextMonth,a=n.goToMonth,l=n.displayMonths,d=l.findIndex(function(k){return hy(t.displayMonth,k)}),p=d===0,m=d===l.length-1,y=e>1&&(p||!m),v=e>1&&(m||!p),x=function(){r&&a(r)},I=function(){i&&a(i)};return u.jsx(X3,{displayMonth:t.displayMonth,hideNext:y,hidePrevious:v,nextMonth:i,previousMonth:r,onPreviousClick:x,onNextClick:I})}function J3(t){var e,n=vt(),r=n.classNames,i=n.disableNavigation,a=n.styles,l=n.captionLayout,d=n.components,p=(e=d?.CaptionLabel)!==null&&e!==void 0?e:cI,m;return i?m=u.jsx(p,{id:t.id,displayMonth:t.displayMonth}):l==="dropdown"?m=u.jsx(cE,{displayMonth:t.displayMonth,id:t.id}):l==="dropdown-buttons"?m=u.jsxs(u.Fragment,{children:[u.jsx(cE,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id}),u.jsx(uE,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id})]}):m=u.jsxs(u.Fragment,{children:[u.jsx(p,{id:t.id,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),u.jsx(uE,{displayMonth:t.displayMonth,id:t.id})]}),u.jsx("div",{className:r.caption,style:a.caption,children:m})}function Z3(t){var e=vt(),n=e.footer,r=e.styles,i=e.classNames.tfoot;return n?u.jsx("tfoot",{className:i,style:r.tfoot,children:u.jsx("tr",{children:u.jsx("td",{colSpan:8,children:n})})}):u.jsx(u.Fragment,{})}function eF(t,e,n){for(var r=n?ia(new Date):Ps(new Date,{locale:t,weekStartsOn:e}),i=[],a=0;a<7;a++){var l=Rn(r,a);i.push(l)}return i}function tF(){var t=vt(),e=t.classNames,n=t.styles,r=t.showWeekNumber,i=t.locale,a=t.weekStartsOn,l=t.ISOWeek,d=t.formatters.formatWeekdayName,p=t.labels.labelWeekday,m=eF(i,a,l);return u.jsxs("tr",{style:n.head_row,className:e.head_row,children:[r&&u.jsx("td",{style:n.head_cell,className:e.head_cell}),m.map(function(y,v){return u.jsx("th",{scope:"col",className:e.head_cell,style:n.head_cell,"aria-label":p(y,{locale:i}),children:d(y,{locale:i})},v)})]})}function nF(){var t,e=vt(),n=e.classNames,r=e.styles,i=e.components,a=(t=i?.HeadRow)!==null&&t!==void 0?t:tF;return u.jsx("thead",{style:r.head,className:n.head,children:u.jsx(a,{})})}function rF(t){var e=vt(),n=e.locale,r=e.formatters.formatDay;return u.jsx(u.Fragment,{children:r(t.date,{locale:n})})}var fy=C.createContext(void 0);function sF(t){if(!Cu(t.initialProps)){var e={selected:void 0,modifiers:{disabled:[]}};return u.jsx(fy.Provider,{value:e,children:t.children})}return u.jsx(iF,{initialProps:t.initialProps,children:t.children})}function iF(t){var e=t.initialProps,n=t.children,r=e.selected,i=e.min,a=e.max,l=function(m,y,v){var x,I;(x=e.onDayClick)===null||x===void 0||x.call(e,m,y,v);var k=!!(y.selected&&i&&r?.length===i);if(!k){var S=!!(!y.selected&&a&&r?.length===a);if(!S){var b=r?aI([],r):[];if(y.selected){var j=b.findIndex(function(z){return Hn(m,z)});b.splice(j,1)}else b.push(m);(I=e.onSelect)===null||I===void 0||I.call(e,b,m,y,v)}}},d={disabled:[]};r&&d.disabled.push(function(m){var y=a&&r.length>a-1,v=r.some(function(x){return Hn(x,m)});return!!(y&&!v)});var p={selected:r,onDayClick:l,modifiers:d};return u.jsx(fy.Provider,{value:p,children:n})}function py(){var t=C.useContext(fy);if(!t)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return t}function oF(t,e){var n=e||{},r=n.from,i=n.to;return r&&i?Hn(i,t)&&Hn(r,t)?void 0:Hn(i,t)?{from:i,to:void 0}:Hn(r,t)?void 0:Lg(r,t)?{from:t,to:i}:{from:r,to:t}:i?Lg(t,i)?{from:i,to:t}:{from:t,to:i}:r?oI(t,r)?{from:t,to:r}:{from:r,to:t}:{from:t,to:void 0}}var my=C.createContext(void 0);function aF(t){if(!Nu(t.initialProps)){var e={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return u.jsx(my.Provider,{value:e,children:t.children})}return u.jsx(lF,{initialProps:t.initialProps,children:t.children})}function lF(t){var e=t.initialProps,n=t.children,r=e.selected,i=r||{},a=i.from,l=i.to,d=e.min,p=e.max,m=function(I,k,S){var b,j;(b=e.onDayClick)===null||b===void 0||b.call(e,I,k,S);var z=oF(I,r);(j=e.onSelect)===null||j===void 0||j.call(e,z,I,k,S)},y={range_start:[],range_end:[],range_middle:[],disabled:[]};if(a?(y.range_start=[a],l?(y.range_end=[l],Hn(a,l)||(y.range_middle=[{after:a,before:l}])):y.range_end=[a]):l&&(y.range_start=[l],y.range_end=[l]),d&&(a&&!l&&y.disabled.push({after:Wm(a,d-1),before:Rn(a,d-1)}),a&&l&&y.disabled.push({after:a,before:Rn(a,d-1)}),!a&&l&&y.disabled.push({after:Wm(l,d-1),before:Rn(l,d-1)})),p){if(a&&!l&&(y.disabled.push({before:Rn(a,-p+1)}),y.disabled.push({after:Rn(a,p-1)})),a&&l){var v=vs(l,a)+1,x=p-v;y.disabled.push({before:Wm(a,x)}),y.disabled.push({after:Rn(l,x)})}!a&&l&&(y.disabled.push({before:Rn(l,-p+1)}),y.disabled.push({after:Rn(l,p-1)}))}return u.jsx(my.Provider,{value:{selected:r,onDayClick:m,modifiers:y},children:n})}function gy(){var t=C.useContext(my);if(!t)throw new Error("useSelectRange must be used within a SelectRangeProvider");return t}function fh(t){return Array.isArray(t)?aI([],t):t!==void 0?[t]:[]}function cF(t){var e={};return Object.entries(t).forEach(function(n){var r=n[0],i=n[1];e[r]=fh(i)}),e}var $r;(function(t){t.Outside="outside",t.Disabled="disabled",t.Selected="selected",t.Hidden="hidden",t.Today="today",t.RangeStart="range_start",t.RangeEnd="range_end",t.RangeMiddle="range_middle"})($r||($r={}));var uF=$r.Selected,Js=$r.Disabled,dF=$r.Hidden,hF=$r.Today,qm=$r.RangeEnd,Km=$r.RangeMiddle,Gm=$r.RangeStart,fF=$r.Outside;function pF(t,e,n){var r,i=(r={},r[uF]=fh(t.selected),r[Js]=fh(t.disabled),r[dF]=fh(t.hidden),r[hF]=[t.today],r[qm]=[],r[Km]=[],r[Gm]=[],r[fF]=[],r);return t.fromDate&&i[Js].push({before:t.fromDate}),t.toDate&&i[Js].push({after:t.toDate}),Cu(t)?i[Js]=i[Js].concat(e.modifiers[Js]):Nu(t)&&(i[Js]=i[Js].concat(n.modifiers[Js]),i[Gm]=n.modifiers[Gm],i[Km]=n.modifiers[Km],i[qm]=n.modifiers[qm]),i}var hI=C.createContext(void 0);function mF(t){var e=vt(),n=py(),r=gy(),i=pF(e,n,r),a=cF(e.modifiers),l=Ve(Ve({},i),a);return u.jsx(hI.Provider,{value:l,children:t.children})}function fI(){var t=C.useContext(hI);if(!t)throw new Error("useModifiers must be used within a ModifiersProvider");return t}function gF(t){return!!(t&&typeof t=="object"&&"before"in t&&"after"in t)}function vF(t){return!!(t&&typeof t=="object"&&"from"in t)}function yF(t){return!!(t&&typeof t=="object"&&"after"in t)}function wF(t){return!!(t&&typeof t=="object"&&"before"in t)}function _F(t){return!!(t&&typeof t=="object"&&"dayOfWeek"in t)}function xF(t,e){var n,r=e.from,i=e.to;if(r&&i){var a=vs(i,r)<0;a&&(n=[i,r],r=n[0],i=n[1]);var l=vs(t,r)>=0&&vs(i,t)>=0;return l}return i?Hn(i,t):r?Hn(r,t):!1}function EF(t){return cy(t)}function bF(t){return Array.isArray(t)&&t.every(cy)}function TF(t,e){return e.some(function(n){if(typeof n=="boolean")return n;if(EF(n))return Hn(t,n);if(bF(n))return n.includes(t);if(vF(n))return xF(t,n);if(_F(n))return n.dayOfWeek.includes(t.getDay());if(gF(n)){var r=vs(n.before,t),i=vs(n.after,t),a=r>0,l=i<0,d=Lg(n.before,n.after);return d?l&&a:a||l}return yF(n)?vs(t,n.after)>0:wF(n)?vs(n.before,t)>0:typeof n=="function"?n(t):!1})}function vy(t,e,n){var r=Object.keys(e).reduce(function(a,l){var d=e[l];return TF(t,d)&&a.push(l),a},[]),i={};return r.forEach(function(a){return i[a]=!0}),n&&!hy(t,n)&&(i.outside=!0),i}function SF(t,e){for(var n=Kn(t[0]),r=uy(t[t.length-1]),i,a,l=n;l<=r;){var d=vy(l,e),p=!d.disabled&&!d.hidden;if(!p){l=Rn(l,1);continue}if(d.selected)return l;d.today&&!a&&(a=l),i||(i=l),l=Rn(l,1)}return a||i}var IF=365;function pI(t,e){var n=e.moveBy,r=e.direction,i=e.context,a=e.modifiers,l=e.retry,d=l===void 0?{count:0,lastFocused:t}:l,p=i.weekStartsOn,m=i.fromDate,y=i.toDate,v=i.locale,x={day:Rn,week:Og,month:Br,year:p5,startOfWeek:function(b){return i.ISOWeek?ia(b):Ps(b,{locale:v,weekStartsOn:p})},endOfWeek:function(b){return i.ISOWeek?eI(b):dy(b,{locale:v,weekStartsOn:p})}},I=x[n](t,r==="after"?1:-1);r==="before"&&m?I=m5([m,I]):r==="after"&&y&&(I=g5([y,I]));var k=!0;if(a){var S=vy(I,a);k=!S.disabled&&!S.hidden}return k?I:d.count>IF?d.lastFocused:pI(I,{moveBy:n,direction:r,context:i,modifiers:a,retry:Ve(Ve({},d),{count:d.count+1})})}var mI=C.createContext(void 0);function CF(t){var e=ku(),n=fI(),r=C.useState(),i=r[0],a=r[1],l=C.useState(),d=l[0],p=l[1],m=SF(e.displayMonths,n),y=i??(d&&e.isDateDisplayed(d))?d:m,v=function(){p(i),a(void 0)},x=function(b){a(b)},I=vt(),k=function(b,j){if(i){var z=pI(i,{moveBy:b,direction:j,context:I,modifiers:n});Hn(i,z)||(e.goToDate(z,i),x(z))}},S={focusedDay:i,focusTarget:y,blur:v,focus:x,focusDayAfter:function(){return k("day","after")},focusDayBefore:function(){return k("day","before")},focusWeekAfter:function(){return k("week","after")},focusWeekBefore:function(){return k("week","before")},focusMonthBefore:function(){return k("month","before")},focusMonthAfter:function(){return k("month","after")},focusYearBefore:function(){return k("year","before")},focusYearAfter:function(){return k("year","after")},focusStartOfWeek:function(){return k("startOfWeek","before")},focusEndOfWeek:function(){return k("endOfWeek","after")}};return u.jsx(mI.Provider,{value:S,children:t.children})}function yy(){var t=C.useContext(mI);if(!t)throw new Error("useFocusContext must be used within a FocusProvider");return t}function NF(t,e){var n=fI(),r=vy(t,n,e);return r}var wy=C.createContext(void 0);function kF(t){if(!Pf(t.initialProps)){var e={selected:void 0};return u.jsx(wy.Provider,{value:e,children:t.children})}return u.jsx(AF,{initialProps:t.initialProps,children:t.children})}function AF(t){var e=t.initialProps,n=t.children,r=function(a,l,d){var p,m,y;if((p=e.onDayClick)===null||p===void 0||p.call(e,a,l,d),l.selected&&!e.required){(m=e.onSelect)===null||m===void 0||m.call(e,void 0,a,l,d);return}(y=e.onSelect)===null||y===void 0||y.call(e,a,a,l,d)},i={selected:e.selected,onDayClick:r};return u.jsx(wy.Provider,{value:i,children:n})}function gI(){var t=C.useContext(wy);if(!t)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return t}function PF(t,e){var n=vt(),r=gI(),i=py(),a=gy(),l=yy(),d=l.focusDayAfter,p=l.focusDayBefore,m=l.focusWeekAfter,y=l.focusWeekBefore,v=l.blur,x=l.focus,I=l.focusMonthBefore,k=l.focusMonthAfter,S=l.focusYearBefore,b=l.focusYearAfter,j=l.focusStartOfWeek,z=l.focusEndOfWeek,W=function(X){var L,ue,ie,B;Pf(n)?(L=r.onDayClick)===null||L===void 0||L.call(r,t,e,X):Cu(n)?(ue=i.onDayClick)===null||ue===void 0||ue.call(i,t,e,X):Nu(n)?(ie=a.onDayClick)===null||ie===void 0||ie.call(a,t,e,X):(B=n.onDayClick)===null||B===void 0||B.call(n,t,e,X)},G=function(X){var L;x(t),(L=n.onDayFocus)===null||L===void 0||L.call(n,t,e,X)},J=function(X){var L;v(),(L=n.onDayBlur)===null||L===void 0||L.call(n,t,e,X)},te=function(X){var L;(L=n.onDayMouseEnter)===null||L===void 0||L.call(n,t,e,X)},P=function(X){var L;(L=n.onDayMouseLeave)===null||L===void 0||L.call(n,t,e,X)},N=function(X){var L;(L=n.onDayPointerEnter)===null||L===void 0||L.call(n,t,e,X)},D=function(X){var L;(L=n.onDayPointerLeave)===null||L===void 0||L.call(n,t,e,X)},V=function(X){var L;(L=n.onDayTouchCancel)===null||L===void 0||L.call(n,t,e,X)},O=function(X){var L;(L=n.onDayTouchEnd)===null||L===void 0||L.call(n,t,e,X)},U=function(X){var L;(L=n.onDayTouchMove)===null||L===void 0||L.call(n,t,e,X)},R=function(X){var L;(L=n.onDayTouchStart)===null||L===void 0||L.call(n,t,e,X)},ve=function(X){var L;(L=n.onDayKeyUp)===null||L===void 0||L.call(n,t,e,X)},ke=function(X){var L;switch(X.key){case"ArrowLeft":X.preventDefault(),X.stopPropagation(),n.dir==="rtl"?d():p();break;case"ArrowRight":X.preventDefault(),X.stopPropagation(),n.dir==="rtl"?p():d();break;case"ArrowDown":X.preventDefault(),X.stopPropagation(),m();break;case"ArrowUp":X.preventDefault(),X.stopPropagation(),y();break;case"PageUp":X.preventDefault(),X.stopPropagation(),X.shiftKey?S():I();break;case"PageDown":X.preventDefault(),X.stopPropagation(),X.shiftKey?b():k();break;case"Home":X.preventDefault(),X.stopPropagation(),j();break;case"End":X.preventDefault(),X.stopPropagation(),z();break}(L=n.onDayKeyDown)===null||L===void 0||L.call(n,t,e,X)},ae={onClick:W,onFocus:G,onBlur:J,onKeyDown:ke,onKeyUp:ve,onMouseEnter:te,onMouseLeave:P,onPointerEnter:N,onPointerLeave:D,onTouchCancel:V,onTouchEnd:O,onTouchMove:U,onTouchStart:R};return ae}function RF(){var t=vt(),e=gI(),n=py(),r=gy(),i=Pf(t)?e.selected:Cu(t)?n.selected:Nu(t)?r.selected:void 0;return i}function DF(t){return Object.values($r).includes(t)}function jF(t,e){var n=[t.classNames.day];return Object.keys(e).forEach(function(r){var i=t.modifiersClassNames[r];if(i)n.push(i);else if(DF(r)){var a=t.classNames["day_".concat(r)];a&&n.push(a)}}),n}function MF(t,e){var n=Ve({},t.styles.day);return Object.keys(e).forEach(function(r){var i;n=Ve(Ve({},n),(i=t.modifiersStyles)===null||i===void 0?void 0:i[r])}),n}function OF(t,e,n){var r,i,a,l=vt(),d=yy(),p=NF(t,e),m=PF(t,p),y=RF(),v=!!(l.onDayClick||l.mode!=="default");C.useEffect(function(){var te;p.outside||d.focusedDay&&v&&Hn(d.focusedDay,t)&&((te=n.current)===null||te===void 0||te.focus())},[d.focusedDay,t,n,v,p.outside]);var x=jF(l,p).join(" "),I=MF(l,p),k=!!(p.outside&&!l.showOutsideDays||p.hidden),S=(a=(i=l.components)===null||i===void 0?void 0:i.DayContent)!==null&&a!==void 0?a:rF,b=u.jsx(S,{date:t,displayMonth:e,activeModifiers:p}),j={style:I,className:x,children:b,role:"gridcell"},z=d.focusTarget&&Hn(d.focusTarget,t)&&!p.outside,W=d.focusedDay&&Hn(d.focusedDay,t),G=Ve(Ve(Ve({},j),(r={disabled:p.disabled,role:"gridcell"},r["aria-selected"]=p.selected,r.tabIndex=W||z?0:-1,r)),m),J={isButton:v,isHidden:k,activeModifiers:p,selectedDays:y,buttonProps:G,divProps:j};return J}function LF(t){var e=C.useRef(null),n=OF(t.date,t.displayMonth,e);return n.isHidden?u.jsx("div",{role:"gridcell"}):n.isButton?u.jsx(zh,Ve({name:"day",ref:e},n.buttonProps)):u.jsx("div",Ve({},n.divProps))}function VF(t){var e=t.number,n=t.dates,r=vt(),i=r.onWeekNumberClick,a=r.styles,l=r.classNames,d=r.locale,p=r.labels.labelWeekNumber,m=r.formatters.formatWeekNumber,y=m(Number(e),{locale:d});if(!i)return u.jsx("span",{className:l.weeknumber,style:a.weeknumber,children:y});var v=p(Number(e),{locale:d}),x=function(I){i(e,n,I)};return u.jsx(zh,{name:"week-number","aria-label":v,className:l.weeknumber,style:a.weeknumber,onClick:x,children:y})}function FF(t){var e,n,r=vt(),i=r.styles,a=r.classNames,l=r.showWeekNumber,d=r.components,p=(e=d?.Day)!==null&&e!==void 0?e:LF,m=(n=d?.WeekNumber)!==null&&n!==void 0?n:VF,y;return l&&(y=u.jsx("td",{className:a.cell,style:i.cell,children:u.jsx(m,{number:t.weekNumber,dates:t.dates})})),u.jsxs("tr",{className:a.row,style:i.row,children:[y,t.dates.map(function(v){return u.jsx("td",{className:a.cell,style:i.cell,role:"presentation",children:u.jsx(p,{displayMonth:t.displayMonth,date:v})},m3(v))})]})}function dE(t,e,n){for(var r=n?.ISOWeek?eI(e):dy(e,n),i=n?.ISOWeek?ia(t):Ps(t,n),a=vs(r,i),l=[],d=0;d<=a;d++)l.push(Rn(i,d));var p=l.reduce(function(m,y){var v=n?.ISOWeek?nI(y):sI(y,n),x=m.find(function(I){return I.weekNumber===v});return x?(x.dates.push(y),m):(m.push({weekNumber:v,dates:[y]}),m)},[]);return p}function UF(t,e){var n=dE(Kn(t),uy(t),e);if(e?.useFixedWeeks){var r=v3(t,e);if(r<6){var i=n[n.length-1],a=i.dates[i.dates.length-1],l=Og(a,6-r),d=dE(Og(a,1),l,e);n.push.apply(n,d)}}return n}function zF(t){var e,n,r,i=vt(),a=i.locale,l=i.classNames,d=i.styles,p=i.hideHead,m=i.fixedWeeks,y=i.components,v=i.weekStartsOn,x=i.firstWeekContainsDate,I=i.ISOWeek,k=UF(t.displayMonth,{useFixedWeeks:!!m,ISOWeek:I,locale:a,weekStartsOn:v,firstWeekContainsDate:x}),S=(e=y?.Head)!==null&&e!==void 0?e:nF,b=(n=y?.Row)!==null&&n!==void 0?n:FF,j=(r=y?.Footer)!==null&&r!==void 0?r:Z3;return u.jsxs("table",{id:t.id,className:l.table,style:d.table,role:"grid","aria-labelledby":t["aria-labelledby"],children:[!p&&u.jsx(S,{}),u.jsx("tbody",{className:l.tbody,style:d.tbody,children:k.map(function(z){return u.jsx(b,{displayMonth:t.displayMonth,dates:z.dates,weekNumber:z.weekNumber},z.weekNumber)})}),u.jsx(j,{displayMonth:t.displayMonth})]})}function BF(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var $F=BF()?C.useLayoutEffect:C.useEffect,Ym=!1,WF=0;function hE(){return"react-day-picker-".concat(++WF)}function HF(t){var e,n=t??(Ym?hE():null),r=C.useState(n),i=r[0],a=r[1];return $F(function(){i===null&&a(hE())},[]),C.useEffect(function(){Ym===!1&&(Ym=!0)},[]),(e=t??i)!==null&&e!==void 0?e:void 0}function qF(t){var e,n,r=vt(),i=r.dir,a=r.classNames,l=r.styles,d=r.components,p=ku().displayMonths,m=HF(r.id?"".concat(r.id,"-").concat(t.displayIndex):void 0),y=r.id?"".concat(r.id,"-grid-").concat(t.displayIndex):void 0,v=[a.month],x=l.month,I=t.displayIndex===0,k=t.displayIndex===p.length-1,S=!I&&!k;i==="rtl"&&(e=[I,k],k=e[0],I=e[1]),I&&(v.push(a.caption_start),x=Ve(Ve({},x),l.caption_start)),k&&(v.push(a.caption_end),x=Ve(Ve({},x),l.caption_end)),S&&(v.push(a.caption_between),x=Ve(Ve({},x),l.caption_between));var b=(n=d?.Caption)!==null&&n!==void 0?n:J3;return u.jsxs("div",{className:v.join(" "),style:x,children:[u.jsx(b,{id:m,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),u.jsx(zF,{id:y,"aria-labelledby":m,displayMonth:t.displayMonth})]},t.displayIndex)}function KF(t){var e=vt(),n=e.classNames,r=e.styles;return u.jsx("div",{className:n.months,style:r.months,children:t.children})}function GF(t){var e,n,r=t.initialProps,i=vt(),a=yy(),l=ku(),d=C.useState(!1),p=d[0],m=d[1];C.useEffect(function(){i.initialFocus&&a.focusTarget&&(p||(a.focus(a.focusTarget),m(!0)))},[i.initialFocus,p,a.focus,a.focusTarget,a]);var y=[i.classNames.root,i.className];i.numberOfMonths>1&&y.push(i.classNames.multiple_months),i.showWeekNumber&&y.push(i.classNames.with_weeknumber);var v=Ve(Ve({},i.styles.root),i.style),x=Object.keys(r).filter(function(k){return k.startsWith("data-")}).reduce(function(k,S){var b;return Ve(Ve({},k),(b={},b[S]=r[S],b))},{}),I=(n=(e=r.components)===null||e===void 0?void 0:e.Months)!==null&&n!==void 0?n:KF;return u.jsx("div",Ve({className:y.join(" "),style:v,dir:i.dir,id:i.id,nonce:r.nonce,title:r.title,lang:r.lang},x,{children:u.jsx(I,{children:l.displayMonths.map(function(k,S){return u.jsx(qF,{displayIndex:S,displayMonth:k},S)})})}))}function YF(t){var e=t.children,n=w3(t,["children"]);return u.jsx(V3,{initialProps:n,children:u.jsx(G3,{children:u.jsx(kF,{initialProps:n,children:u.jsx(sF,{initialProps:n,children:u.jsx(aF,{initialProps:n,children:u.jsx(mF,{children:u.jsx(CF,{children:e})})})})})})})}function QF(t){return u.jsx(YF,Ve({},t,{children:u.jsx(GF,{initialProps:t})}))}function XF({className:t,classNames:e,showOutsideDays:n=!0,...r}){return u.jsx(QF,{showOutsideDays:n,className:at("p-3",t),classNames:{months:"flex flex-col sm:flex-row gap-2",month:"flex flex-col gap-4",caption:"flex justify-center pt-1 relative items-center w-full",caption_label:"text-sm font-medium",nav:"flex items-center gap-1",nav_button:at(Rg({variant:"outline"}),"size-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-x-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-8 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:at("relative p-0 text-center text-sm focus-within:relative focus-within:z-20 [&:has([aria-selected])]:bg-accent [&:has([aria-selected].day-range-end)]:rounded-r-md",r.mode==="range"?"[&:has(>.day-range-end)]:rounded-r-md [&:has(>.day-range-start)]:rounded-l-md first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md":"[&:has([aria-selected])]:rounded-md"),day:at(Rg({variant:"ghost"}),"size-8 p-0 font-normal aria-selected:opacity-100"),day_range_start:"day-range-start aria-selected:bg-primary aria-selected:text-primary-foreground",day_range_end:"day-range-end aria-selected:bg-primary aria-selected:text-primary-foreground",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground aria-selected:text-muted-foreground",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...e},components:{IconLeft:({className:i,...a})=>u.jsx(C4,{className:at("size-4",i),...a}),IconRight:({className:i,...a})=>u.jsx(k4,{className:at("size-4",i),...a})},...r})}function JF(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}const ZF=t=>{switch(t){case"success":return n9;case"info":return s9;case"warning":return r9;case"error":return i9;default:return null}},e9=Array(12).fill(0),t9=({visible:t,className:e})=>he.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},he.createElement("div",{className:"sonner-spinner"},e9.map((n,r)=>he.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),n9=he.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},he.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),r9=he.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},he.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),s9=he.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},he.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),i9=he.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},he.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),o9=he.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},he.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),he.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),a9=()=>{const[t,e]=he.useState(document.hidden);return he.useEffect(()=>{const n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t};let Vg=1;class l9{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;const{message:r,...i}=e,a=typeof e?.id=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:Vg++,l=this.toasts.find(p=>p.id===a),d=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),l?this.toasts=this.toasts.map(p=>p.id===a?(this.publish({...p,...e,id:a,title:r}),{...p,...e,id:a,dismissible:d,title:r}):p):this.addToast({title:r,...i,dismissible:d,id:a}),a},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:e,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const i=Promise.resolve(e instanceof Function?e():e);let a=r!==void 0,l;const d=i.then(async m=>{if(l=["resolve",m],he.isValidElement(m))a=!1,this.create({id:r,type:"default",message:m});else if(u9(m)&&!m.ok){a=!1;const v=typeof n.error=="function"?await n.error(`HTTP error! status: ${m.status}`):n.error,x=typeof n.description=="function"?await n.description(`HTTP error! status: ${m.status}`):n.description,k=typeof v=="object"&&!he.isValidElement(v)?v:{message:v};this.create({id:r,type:"error",description:x,...k})}else if(m instanceof Error){a=!1;const v=typeof n.error=="function"?await n.error(m):n.error,x=typeof n.description=="function"?await n.description(m):n.description,k=typeof v=="object"&&!he.isValidElement(v)?v:{message:v};this.create({id:r,type:"error",description:x,...k})}else if(n.success!==void 0){a=!1;const v=typeof n.success=="function"?await n.success(m):n.success,x=typeof n.description=="function"?await n.description(m):n.description,k=typeof v=="object"&&!he.isValidElement(v)?v:{message:v};this.create({id:r,type:"success",description:x,...k})}}).catch(async m=>{if(l=["reject",m],n.error!==void 0){a=!1;const y=typeof n.error=="function"?await n.error(m):n.error,v=typeof n.description=="function"?await n.description(m):n.description,I=typeof y=="object"&&!he.isValidElement(y)?y:{message:y};this.create({id:r,type:"error",description:v,...I})}}).finally(()=>{a&&(this.dismiss(r),r=void 0),n.finally==null||n.finally.call(n)}),p=()=>new Promise((m,y)=>d.then(()=>l[0]==="reject"?y(l[1]):m(l[1])).catch(y));return typeof r!="string"&&typeof r!="number"?{unwrap:p}:Object.assign(r,{unwrap:p})},this.custom=(e,n)=>{const r=n?.id||Vg++;return this.create({jsx:e(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Bn=new l9,c9=(t,e)=>{const n=e?.id||Vg++;return Bn.addToast({title:t,...e,id:n}),n},u9=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",d9=c9,h9=()=>Bn.toasts,f9=()=>Bn.getActiveToasts(),pt=Object.assign(d9,{success:Bn.success,info:Bn.info,warning:Bn.warning,error:Bn.error,custom:Bn.custom,message:Bn.message,promise:Bn.promise,dismiss:Bn.dismiss,loading:Bn.loading},{getHistory:h9,getToasts:f9});JF("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Zd(t){return t.label!==void 0}const p9=3,m9="24px",g9="16px",fE=4e3,v9=356,y9=14,w9=45,_9=200;function ps(...t){return t.filter(Boolean).join(" ")}function x9(t){const[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}const E9=t=>{var e,n,r,i,a,l,d,p,m;const{invert:y,toast:v,unstyled:x,interacting:I,setHeights:k,visibleToasts:S,heights:b,index:j,toasts:z,expanded:W,removeToast:G,defaultRichColors:J,closeButton:te,style:P,cancelButtonStyle:N,actionButtonStyle:D,className:V="",descriptionClassName:O="",duration:U,position:R,gap:ve,expandByDefault:ke,classNames:ae,icons:X,closeButtonAriaLabel:L="Close toast"}=t,[ue,ie]=he.useState(null),[B,Z]=he.useState(null),[le,fe]=he.useState(!1),[ge,Ce]=he.useState(!1),[re,pe]=he.useState(!1),[Ae,je]=he.useState(!1),[$e,qe]=he.useState(!1),[St,Zt]=he.useState(0),[Gr,Gn]=he.useState(0),an=he.useRef(v.duration||U||fE),di=he.useRef(null),lt=he.useRef(null),It=j===0,Yn=j+1<=S,Kt=v.type,dr=v.dismissible!==!1,wa=v.className||"",Yr=v.descriptionClassName||"",Qr=he.useMemo(()=>b.findIndex(Me=>Me.toastId===v.id)||0,[b,v.id]),hi=he.useMemo(()=>{var Me;return(Me=v.closeButton)!=null?Me:te},[v.closeButton,te]),Tr=he.useMemo(()=>v.duration||U||fE,[v.duration,U]),fi=he.useRef(0),jn=he.useRef(0),Sr=he.useRef(0),Ir=he.useRef(null),[Xr,pi]=R.split("-"),mi=he.useMemo(()=>b.reduce((Me,ht,jt)=>jt>=Qr?Me:Me+ht.height,0),[b,Qr]),Mn=a9(),gi=v.invert||y,hr=Kt==="loading";jn.current=he.useMemo(()=>Qr*ve+mi,[Qr,mi]),he.useEffect(()=>{an.current=Tr},[Tr]),he.useEffect(()=>{fe(!0)},[]),he.useEffect(()=>{const Me=lt.current;if(Me){const ht=Me.getBoundingClientRect().height;return Gn(ht),k(jt=>[{toastId:v.id,height:ht,position:v.position},...jt]),()=>k(jt=>jt.filter(en=>en.toastId!==v.id))}},[k,v.id]),he.useLayoutEffect(()=>{if(!le)return;const Me=lt.current,ht=Me.style.height;Me.style.height="auto";const jt=Me.getBoundingClientRect().height;Me.style.height=ht,Gn(jt),k(en=>en.find(Pt=>Pt.toastId===v.id)?en.map(Pt=>Pt.toastId===v.id?{...Pt,height:jt}:Pt):[{toastId:v.id,height:jt,position:v.position},...en])},[le,v.title,v.description,k,v.id,v.jsx,v.action,v.cancel]);const Nn=he.useCallback(()=>{Ce(!0),Zt(jn.current),k(Me=>Me.filter(ht=>ht.toastId!==v.id)),setTimeout(()=>{G(v)},_9)},[v,G,k,jn]);he.useEffect(()=>{if(v.promise&&Kt==="loading"||v.duration===1/0||v.type==="loading")return;let Me;return W||I||Mn?(()=>{if(Sr.current<fi.current){const en=new Date().getTime()-fi.current;an.current=an.current-en}Sr.current=new Date().getTime()})():(()=>{an.current!==1/0&&(fi.current=new Date().getTime(),Me=setTimeout(()=>{v.onAutoClose==null||v.onAutoClose.call(v,v),Nn()},an.current))})(),()=>clearTimeout(Me)},[W,I,v,Kt,Mn,Nn]),he.useEffect(()=>{v.delete&&(Nn(),v.onDismiss==null||v.onDismiss.call(v,v))},[Nn,v.delete]);function Cr(){var Me;if(X?.loading){var ht;return he.createElement("div",{className:ps(ae?.loader,v==null||(ht=v.classNames)==null?void 0:ht.loader,"sonner-loader"),"data-visible":Kt==="loading"},X.loading)}return he.createElement(t9,{className:ps(ae?.loader,v==null||(Me=v.classNames)==null?void 0:Me.loader),visible:Kt==="loading"})}const Nr=v.icon||X?.[Kt]||ZF(Kt);var yt,vi;return he.createElement("li",{tabIndex:0,ref:lt,className:ps(V,wa,ae?.toast,v==null||(e=v.classNames)==null?void 0:e.toast,ae?.default,ae?.[Kt],v==null||(n=v.classNames)==null?void 0:n[Kt]),"data-sonner-toast":"","data-rich-colors":(yt=v.richColors)!=null?yt:J,"data-styled":!(v.jsx||v.unstyled||x),"data-mounted":le,"data-promise":!!v.promise,"data-swiped":$e,"data-removed":ge,"data-visible":Yn,"data-y-position":Xr,"data-x-position":pi,"data-index":j,"data-front":It,"data-swiping":re,"data-dismissible":dr,"data-type":Kt,"data-invert":gi,"data-swipe-out":Ae,"data-swipe-direction":B,"data-expanded":!!(W||ke&&le),"data-testid":v.testId,style:{"--index":j,"--toasts-before":j,"--z-index":z.length-j,"--offset":`${ge?St:jn.current}px`,"--initial-height":ke?"auto":`${Gr}px`,...P,...v.style},onDragEnd:()=>{pe(!1),ie(null),Ir.current=null},onPointerDown:Me=>{Me.button!==2&&(hr||!dr||(di.current=new Date,Zt(jn.current),Me.target.setPointerCapture(Me.pointerId),Me.target.tagName!=="BUTTON"&&(pe(!0),Ir.current={x:Me.clientX,y:Me.clientY})))},onPointerUp:()=>{var Me,ht,jt;if(Ae||!dr)return;Ir.current=null;const en=Number(((Me=lt.current)==null?void 0:Me.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),kn=Number(((ht=lt.current)==null?void 0:ht.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Pt=new Date().getTime()-((jt=di.current)==null?void 0:jt.getTime()),Ft=ue==="x"?en:kn,Qn=Math.abs(Ft)/Pt;if(Math.abs(Ft)>=w9||Qn>.11){Zt(jn.current),v.onDismiss==null||v.onDismiss.call(v,v),Z(ue==="x"?en>0?"right":"left":kn>0?"down":"up"),Nn(),je(!0);return}else{var Ut,vn;(Ut=lt.current)==null||Ut.style.setProperty("--swipe-amount-x","0px"),(vn=lt.current)==null||vn.style.setProperty("--swipe-amount-y","0px")}qe(!1),pe(!1),ie(null)},onPointerMove:Me=>{var ht,jt,en;if(!Ir.current||!dr||((ht=window.getSelection())==null?void 0:ht.toString().length)>0)return;const Pt=Me.clientY-Ir.current.y,Ft=Me.clientX-Ir.current.x;var Qn;const Ut=(Qn=t.swipeDirections)!=null?Qn:x9(R);!ue&&(Math.abs(Ft)>1||Math.abs(Pt)>1)&&ie(Math.abs(Ft)>Math.abs(Pt)?"x":"y");let vn={x:0,y:0};const fr=tn=>1/(1.5+Math.abs(tn)/20);if(ue==="y"){if(Ut.includes("top")||Ut.includes("bottom"))if(Ut.includes("top")&&Pt<0||Ut.includes("bottom")&&Pt>0)vn.y=Pt;else{const tn=Pt*fr(Pt);vn.y=Math.abs(tn)<Math.abs(Pt)?tn:Pt}}else if(ue==="x"&&(Ut.includes("left")||Ut.includes("right")))if(Ut.includes("left")&&Ft<0||Ut.includes("right")&&Ft>0)vn.x=Ft;else{const tn=Ft*fr(Ft);vn.x=Math.abs(tn)<Math.abs(Ft)?tn:Ft}(Math.abs(vn.x)>0||Math.abs(vn.y)>0)&&qe(!0),(jt=lt.current)==null||jt.style.setProperty("--swipe-amount-x",`${vn.x}px`),(en=lt.current)==null||en.style.setProperty("--swipe-amount-y",`${vn.y}px`)}},hi&&!v.jsx&&Kt!=="loading"?he.createElement("button",{"aria-label":L,"data-disabled":hr,"data-close-button":!0,onClick:hr||!dr?()=>{}:()=>{Nn(),v.onDismiss==null||v.onDismiss.call(v,v)},className:ps(ae?.closeButton,v==null||(r=v.classNames)==null?void 0:r.closeButton)},(vi=X?.close)!=null?vi:o9):null,(Kt||v.icon||v.promise)&&v.icon!==null&&(X?.[Kt]!==null||v.icon)?he.createElement("div",{"data-icon":"",className:ps(ae?.icon,v==null||(i=v.classNames)==null?void 0:i.icon)},v.promise||v.type==="loading"&&!v.icon?v.icon||Cr():null,v.type!=="loading"?Nr:null):null,he.createElement("div",{"data-content":"",className:ps(ae?.content,v==null||(a=v.classNames)==null?void 0:a.content)},he.createElement("div",{"data-title":"",className:ps(ae?.title,v==null||(l=v.classNames)==null?void 0:l.title)},v.jsx?v.jsx:typeof v.title=="function"?v.title():v.title),v.description?he.createElement("div",{"data-description":"",className:ps(O,Yr,ae?.description,v==null||(d=v.classNames)==null?void 0:d.description)},typeof v.description=="function"?v.description():v.description):null),he.isValidElement(v.cancel)?v.cancel:v.cancel&&Zd(v.cancel)?he.createElement("button",{"data-button":!0,"data-cancel":!0,style:v.cancelButtonStyle||N,onClick:Me=>{Zd(v.cancel)&&dr&&(v.cancel.onClick==null||v.cancel.onClick.call(v.cancel,Me),Nn())},className:ps(ae?.cancelButton,v==null||(p=v.classNames)==null?void 0:p.cancelButton)},v.cancel.label):null,he.isValidElement(v.action)?v.action:v.action&&Zd(v.action)?he.createElement("button",{"data-button":!0,"data-action":!0,style:v.actionButtonStyle||D,onClick:Me=>{Zd(v.action)&&(v.action.onClick==null||v.action.onClick.call(v.action,Me),!Me.defaultPrevented&&Nn())},className:ps(ae?.actionButton,v==null||(m=v.classNames)==null?void 0:m.actionButton)},v.action.label):null)};function pE(){if(typeof window>"u"||typeof document>"u")return"ltr";const t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function b9(t,e){const n={};return[t,e].forEach((r,i)=>{const a=i===1,l=a?"--mobile-offset":"--offset",d=a?g9:m9;function p(m){["top","right","bottom","left"].forEach(y=>{n[`${l}-${y}`]=typeof m=="number"?`${m}px`:m})}typeof r=="number"||typeof r=="string"?p(r):typeof r=="object"?["top","right","bottom","left"].forEach(m=>{r[m]===void 0?n[`${l}-${m}`]=d:n[`${l}-${m}`]=typeof r[m]=="number"?`${r[m]}px`:r[m]}):p(d)}),n}const T9=he.forwardRef(function(e,n){const{id:r,invert:i,position:a="bottom-right",hotkey:l=["altKey","KeyT"],expand:d,closeButton:p,className:m,offset:y,mobileOffset:v,theme:x="light",richColors:I,duration:k,style:S,visibleToasts:b=p9,toastOptions:j,dir:z=pE(),gap:W=y9,icons:G,containerAriaLabel:J="Notifications"}=e,[te,P]=he.useState([]),N=he.useMemo(()=>r?te.filter(le=>le.toasterId===r):te.filter(le=>!le.toasterId),[te,r]),D=he.useMemo(()=>Array.from(new Set([a].concat(N.filter(le=>le.position).map(le=>le.position)))),[N,a]),[V,O]=he.useState([]),[U,R]=he.useState(!1),[ve,ke]=he.useState(!1),[ae,X]=he.useState(x!=="system"?x:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),L=he.useRef(null),ue=l.join("+").replace(/Key/g,"").replace(/Digit/g,""),ie=he.useRef(null),B=he.useRef(!1),Z=he.useCallback(le=>{P(fe=>{var ge;return(ge=fe.find(Ce=>Ce.id===le.id))!=null&&ge.delete||Bn.dismiss(le.id),fe.filter(({id:Ce})=>Ce!==le.id)})},[]);return he.useEffect(()=>Bn.subscribe(le=>{if(le.dismiss){requestAnimationFrame(()=>{P(fe=>fe.map(ge=>ge.id===le.id?{...ge,delete:!0}:ge))});return}setTimeout(()=>{oS.flushSync(()=>{P(fe=>{const ge=fe.findIndex(Ce=>Ce.id===le.id);return ge!==-1?[...fe.slice(0,ge),{...fe[ge],...le},...fe.slice(ge+1)]:[le,...fe]})})})}),[te]),he.useEffect(()=>{if(x!=="system"){X(x);return}if(x==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?X("dark"):X("light")),typeof window>"u")return;const le=window.matchMedia("(prefers-color-scheme: dark)");try{le.addEventListener("change",({matches:fe})=>{X(fe?"dark":"light")})}catch{le.addListener(({matches:ge})=>{try{X(ge?"dark":"light")}catch(Ce){console.error(Ce)}})}},[x]),he.useEffect(()=>{te.length<=1&&R(!1)},[te]),he.useEffect(()=>{const le=fe=>{var ge;if(l.every(pe=>fe[pe]||fe.code===pe)){var re;R(!0),(re=L.current)==null||re.focus()}fe.code==="Escape"&&(document.activeElement===L.current||(ge=L.current)!=null&&ge.contains(document.activeElement))&&R(!1)};return document.addEventListener("keydown",le),()=>document.removeEventListener("keydown",le)},[l]),he.useEffect(()=>{if(L.current)return()=>{ie.current&&(ie.current.focus({preventScroll:!0}),ie.current=null,B.current=!1)}},[L.current]),he.createElement("section",{ref:n,"aria-label":`${J} ${ue}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},D.map((le,fe)=>{var ge;const[Ce,re]=le.split("-");return N.length?he.createElement("ol",{key:le,dir:z==="auto"?pE():z,tabIndex:-1,ref:L,className:m,"data-sonner-toaster":!0,"data-sonner-theme":ae,"data-y-position":Ce,"data-x-position":re,style:{"--front-toast-height":`${((ge=V[0])==null?void 0:ge.height)||0}px`,"--width":`${v9}px`,"--gap":`${W}px`,...S,...b9(y,v)},onBlur:pe=>{B.current&&!pe.currentTarget.contains(pe.relatedTarget)&&(B.current=!1,ie.current&&(ie.current.focus({preventScroll:!0}),ie.current=null))},onFocus:pe=>{pe.target instanceof HTMLElement&&pe.target.dataset.dismissible==="false"||B.current||(B.current=!0,ie.current=pe.relatedTarget)},onMouseEnter:()=>R(!0),onMouseMove:()=>R(!0),onMouseLeave:()=>{ve||R(!1)},onDragEnd:()=>R(!1),onPointerDown:pe=>{pe.target instanceof HTMLElement&&pe.target.dataset.dismissible==="false"||ke(!0)},onPointerUp:()=>ke(!1)},N.filter(pe=>!pe.position&&fe===0||pe.position===le).map((pe,Ae)=>{var je,$e;return he.createElement(E9,{key:pe.id,icons:G,index:Ae,toast:pe,defaultRichColors:I,duration:(je=j?.duration)!=null?je:k,className:j?.className,descriptionClassName:j?.descriptionClassName,invert:i,visibleToasts:b,closeButton:($e=j?.closeButton)!=null?$e:p,interacting:ve,position:le,style:j?.style,unstyled:j?.unstyled,classNames:j?.classNames,cancelButtonStyle:j?.cancelButtonStyle,actionButtonStyle:j?.actionButtonStyle,closeButtonAriaLabel:j?.closeButtonAriaLabel,removeToast:Z,toasts:N.filter(qe=>qe.position==pe.position),heights:V.filter(qe=>qe.position==pe.position),setHeights:O,expandByDefault:d,gap:W,expanded:U,swipeDirections:e.swipeDirections})})):null}))}),S9=({service:t,onNavigate:e})=>{const[n,r]=C.useState(!1),[i,a]=C.useState(new Date),[l,d]=C.useState(""),p=["09:00","10:00","11:00","12:00","13:00","14:00","15:00","16:00","17:00"],m=()=>{if(!i||!l){pt.error("Please select a date and time");return}pt.success("Booking confirmed! Check your appointments."),r(!1),e("appointments")};return u.jsxs("div",{className:"min-h-screen bg-zinc-50",children:[u.jsx("div",{className:"bg-white border-b sticky top-0 z-10",children:u.jsx("div",{className:"max-w-3xl mx-auto px-4 h-14 flex items-center",children:u.jsxs(_e,{variant:"ghost",size:"sm",onClick:()=>e("browse"),children:[u.jsx(Ig,{className:"h-4 w-4 mr-2"}),"Back"]})})}),u.jsxs("div",{className:"max-w-3xl mx-auto px-4 py-6 space-y-6",children:[u.jsx("div",{className:"h-64 bg-gradient-to-br from-purple-200 to-pink-200 rounded-xl flex items-center justify-center",children:u.jsx(As,{className:"h-24 w-24 text-purple-600 opacity-50"})}),u.jsxs("div",{children:[u.jsx(Vt,{className:"mb-2",children:t.category}),u.jsx("h1",{className:"text-2xl mb-2",children:t.title}),u.jsxs("div",{className:"flex items-center gap-4 text-sm text-zinc-600 mb-4",children:[u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(qo,{className:"h-4 w-4"}),u.jsx("span",{children:t.providerName})]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(Cf,{className:"h-4 w-4 fill-yellow-400 text-yellow-400"}),u.jsx("span",{children:"4.8 (124 reviews)"})]})]}),u.jsx("p",{className:"text-zinc-700",children:t.description})]}),u.jsx(Ge,{children:u.jsx(Ye,{className:"p-4",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-sm text-zinc-600 mb-1",children:"Price"}),u.jsxs("div",{className:"text-2xl text-purple-600",children:["R",t.price]})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("div",{className:"text-sm text-zinc-600 mb-1",children:"Duration"}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(Sf,{className:"h-5 w-5 text-zinc-600"}),u.jsxs("span",{className:"text-lg",children:[t.duration," min"]})]})]})]})})}),u.jsxs(_e,{onClick:()=>r(!0),size:"lg",className:"w-full",children:[u.jsx(Go,{className:"h-5 w-5 mr-2"}),"Book Appointment"]}),u.jsx(Ge,{children:u.jsxs(Ye,{className:"p-4",children:[u.jsx("h3",{className:"mb-3",children:"About the Provider"}),u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx("div",{className:"h-12 w-12 rounded-full bg-purple-200 flex items-center justify-center flex-shrink-0",children:u.jsx("span",{className:"text-purple-600",children:"BT"})}),u.jsxs("div",{children:[u.jsx("div",{className:"mb-1",children:t.providerName}),u.jsxs("p",{className:"text-sm text-zinc-600",children:["Professional beauty services with 5+ years experience. Specialized in ",t.category.toLowerCase(),"."]})]})]})]})})]}),u.jsx(jl,{open:n,onOpenChange:r,children:u.jsxs(Ml,{className:"max-w-lg",children:[u.jsx(Ol,{children:u.jsx(Ll,{children:"Book Appointment"})}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-sm mb-2",children:"Select Date"}),u.jsx(XF,{mode:"single",selected:i,onSelect:a,disabled:y=>y<new Date,className:"rounded-md border"})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-sm mb-2",children:"Select Time"}),u.jsx("div",{className:"grid grid-cols-3 gap-2",children:p.map(y=>u.jsx(_e,{variant:l===y?"default":"outline",size:"sm",onClick:()=>d(y),children:y},y))})]}),u.jsxs("div",{className:"bg-zinc-50 p-4 rounded-lg space-y-2",children:[u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsx("span",{className:"text-zinc-600",children:"Service"}),u.jsx("span",{children:t.title})]}),u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsx("span",{className:"text-zinc-600",children:"Duration"}),u.jsxs("span",{children:[t.duration," min"]})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-zinc-600",children:"Total"}),u.jsxs("span",{className:"text-purple-600",children:["R",t.price]})]})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(_e,{variant:"outline",className:"flex-1",onClick:()=>r(!1),children:"Cancel"}),u.jsx(_e,{className:"flex-1",onClick:m,children:"Confirm Booking"})]})]})]})})]})},I9=({onNavigate:t})=>{const[e,n]=C.useState(""),[r,i]=C.useState([]),{addToCart:a}=Yv();C.useEffect(()=>{const p=ZO(m=>{i(m)});return()=>p()},[]);const l=r.filter(p=>p.title.toLowerCase().includes(e.toLowerCase())||p.description.toLowerCase().includes(e.toLowerCase())),d=p=>{a(p),pt.success(`${p.title} added to cart`)};return u.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-6 space-y-6",children:[u.jsxs("div",{className:"relative",children:[u.jsx(If,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-zinc-400"}),u.jsx(gt,{value:e,onChange:p=>n(p.target.value),placeholder:"Search products...",className:"pl-10"})]}),u.jsx("div",{className:"flex items-center justify-between",children:u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl mb-1",children:"Beauty Products"}),u.jsxs("p",{className:"text-sm text-zinc-600",children:[l.length," product",l.length!==1?"s":""," available"]})]})}),u.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:l.map(p=>u.jsxs(Ge,{className:"overflow-hidden hover:shadow-lg transition-shadow",children:[u.jsx("div",{className:"h-48 bg-gradient-to-br from-purple-200 to-pink-200 flex items-center justify-center",children:u.jsx(As,{className:"h-16 w-16 text-purple-600 opacity-50"})}),u.jsxs(Ye,{className:"p-4",children:[u.jsx("h3",{className:"mb-1 line-clamp-1",children:p.title}),u.jsx("p",{className:"text-sm text-zinc-600 mb-2",children:p.providerName}),u.jsx("p",{className:"text-sm text-zinc-600 mb-3 line-clamp-2",children:p.description}),u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsxs("span",{className:"text-purple-600",children:["R",p.price]}),u.jsxs(Vt,{variant:p.stock>10?"secondary":"destructive",children:[p.stock," in stock"]})]}),u.jsxs(_e,{onClick:()=>d(p),disabled:p.stock===0,size:"sm",className:"w-full",children:[u.jsx(Vh,{className:"h-4 w-4 mr-1"}),"Add to Cart"]})]})]},p.id))}),l.length===0&&u.jsxs("div",{className:"text-center py-12",children:[u.jsx(As,{className:"h-12 w-12 text-zinc-300 mx-auto mb-3"}),u.jsx("p",{className:"text-zinc-500",children:"No products found"})]})]})},C9=({onNavigate:t})=>{const{items:e,removeFromCart:n,updateQuantity:r,total:i,clearCart:a}=Yv(),{user:l,updateUser:d}=js(),[p,m]=C.useState(!1),[y,v]=C.useState(!1),[x,I]=C.useState(!1),k=y?Math.min(l?.walletBalance||0,i):0,S=i-k,b=async()=>{if(I(!0),await new Promise(j=>setTimeout(j,1500)),l){const j=Math.floor(i);d({walletBalance:(l.walletBalance||0)-k,loyaltyPoints:(l.loyaltyPoints||0)+j})}a(),I(!1),m(!1),pt.success("Order placed successfully!"),t("shop")};return e.length===0?u.jsxs("div",{className:"min-h-screen bg-zinc-50",children:[u.jsx("div",{className:"bg-white border-b sticky top-0",children:u.jsx("div",{className:"max-w-3xl mx-auto px-4 h-14 flex items-center",children:u.jsxs(_e,{variant:"ghost",size:"sm",onClick:()=>t("shop"),children:[u.jsx(Ig,{className:"h-4 w-4 mr-2"}),"Back to Shop"]})})}),u.jsxs("div",{className:"max-w-3xl mx-auto px-4 py-12 text-center",children:[u.jsx("div",{className:"mb-4 text-zinc-400",children:"Your cart is empty"}),u.jsx(_e,{onClick:()=>t("shop"),children:"Continue Shopping"})]})]}):u.jsxs("div",{className:"min-h-screen bg-zinc-50",children:[u.jsx("div",{className:"bg-white border-b sticky top-0",children:u.jsxs("div",{className:"max-w-3xl mx-auto px-4 h-14 flex items-center justify-between",children:[u.jsxs(_e,{variant:"ghost",size:"sm",onClick:()=>t("shop"),children:[u.jsx(Ig,{className:"h-4 w-4 mr-2"}),"Back"]}),u.jsxs("h1",{className:"text-lg",children:["Cart (",e.length,")"]}),u.jsx("div",{className:"w-16"})]})}),u.jsxs("div",{className:"max-w-3xl mx-auto px-4 py-6 space-y-4",children:[e.map(j=>u.jsx(Ge,{children:u.jsx(Ye,{className:"p-4",children:u.jsxs("div",{className:"flex gap-4",children:[u.jsx("div",{className:"h-20 w-20 rounded bg-gradient-to-br from-purple-200 to-pink-200 flex-shrink-0"}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("h3",{className:"mb-1 line-clamp-1",children:j.product.title}),u.jsxs("p",{className:"text-sm text-zinc-600 mb-2",children:["R",j.product.price]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(_e,{variant:"outline",size:"sm",onClick:()=>r(j.product.id,j.quantity-1),children:u.jsx(Y4,{className:"h-3 w-3"})}),u.jsx("span",{className:"w-8 text-center",children:j.quantity}),u.jsx(_e,{variant:"outline",size:"sm",onClick:()=>r(j.product.id,j.quantity+1),disabled:j.quantity>=j.product.stock,children:u.jsx(Vh,{className:"h-3 w-3"})})]})]}),u.jsxs("div",{className:"text-right",children:[u.jsxs("div",{className:"mb-2",children:["R",j.product.price*j.quantity]}),u.jsx(_e,{variant:"ghost",size:"sm",onClick:()=>n(j.product.id),children:u.jsx(dL,{className:"h-4 w-4 text-red-500"})})]})]})})},j.product.id)),u.jsx(Ge,{children:u.jsxs(Ye,{className:"p-4 space-y-3",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-zinc-600",children:"Subtotal"}),u.jsxs("span",{children:["R",i]})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-zinc-600",children:"Delivery"}),u.jsx("span",{children:"Free"})]}),u.jsx("div",{className:"h-px bg-zinc-200"}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{children:"Total"}),u.jsxs("span",{className:"text-purple-600",children:["R",i]})]})]})}),u.jsxs(_e,{onClick:()=>m(!0),size:"lg",className:"w-full",children:[u.jsx(O4,{className:"h-5 w-5 mr-2"}),"Proceed to Checkout"]})]}),u.jsx(jl,{open:p,onOpenChange:m,children:u.jsxs(Ml,{className:"max-w-lg",children:[u.jsx(Ol,{children:u.jsx(Ll,{children:"Checkout"})}),u.jsxs("div",{className:"space-y-4",children:[l&&l.walletBalance>0&&u.jsx(Ge,{className:"bg-purple-50 border-purple-200",children:u.jsx(Ye,{className:"p-4",children:u.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[u.jsx("input",{type:"checkbox",checked:y,onChange:j=>v(j.target.checked),className:"h-4 w-4"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("div",{className:"text-sm",children:"Use Wallet Balance"}),u.jsxs("div",{className:"text-xs text-purple-600",children:["Available: R",l.walletBalance]})]})]})})}),u.jsxs("div",{className:"space-y-2 text-sm",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-zinc-600",children:"Order Total"}),u.jsxs("span",{children:["R",i]})]}),y&&k>0&&u.jsxs("div",{className:"flex justify-between text-purple-600",children:[u.jsx("span",{children:"Wallet Payment"}),u.jsxs("span",{children:["-R",k]})]}),u.jsx("div",{className:"h-px bg-zinc-200"}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{children:"Amount to Pay"}),u.jsxs("span",{className:"text-purple-600",children:["R",S]})]}),u.jsxs("div",{className:"flex justify-between text-xs text-green-600",children:[u.jsx("span",{children:"Loyalty Points to Earn"}),u.jsxs("span",{children:["+",Math.floor(i)," points"]})]})]}),S>0&&u.jsxs("div",{children:[u.jsx("div",{className:"text-sm mb-2",children:"Payment Method"}),u.jsx(gt,{placeholder:"Card Number",className:"mb-2"}),u.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[u.jsx(gt,{placeholder:"MM/YY"}),u.jsx(gt,{placeholder:"CVV"})]})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(_e,{variant:"outline",className:"flex-1",onClick:()=>m(!1),disabled:x,children:"Cancel"}),u.jsx(_e,{className:"flex-1",onClick:b,disabled:x,children:x?"Processing...":`Pay R${S}`})]})]})]})})]})},N9=({onNavigate:t})=>{const{user:e}=js(),[n,r]=C.useState([]);C.useEffect(()=>{if(!e)return;const v=jT(x=>{const I=x.filter(k=>k.customerId===e.id);r(I)});return()=>v()},[e]);const i=n.filter(v=>v.status==="pending"||v.status==="confirmed"),a=n.filter(v=>v.status==="completed"||v.status==="cancelled"),l=v=>new Intl.DateTimeFormat("en-ZA",{weekday:"short",year:"numeric",month:"short",day:"numeric"}).format(v),d=v=>new Intl.DateTimeFormat("en-ZA",{hour:"2-digit",minute:"2-digit"}).format(v),p=async v=>{try{await QO(v,{status:"cancelled"}),pt.success("Booking cancelled successfully")}catch{pt.error("Failed to cancel booking")}},m=v=>{const x={pending:{variant:"secondary",label:"Pending"},confirmed:{variant:"default",label:"Confirmed"},completed:{variant:"outline",label:"Completed"},cancelled:{variant:"destructive",label:"Cancelled"}},I=x[v]||x.pending;return u.jsx(Vt,{variant:I.variant,children:I.label})},y=({booking:v,isPast:x=!1})=>u.jsx(Ge,{children:u.jsx(Ye,{className:"p-4",children:u.jsxs("div",{className:"flex gap-4",children:[u.jsx("div",{className:"h-16 w-16 rounded bg-gradient-to-br from-purple-200 to-pink-200 flex items-center justify-center flex-shrink-0",children:u.jsx(As,{className:"h-8 w-8 text-purple-600 opacity-50"})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsxs("div",{className:"flex items-start justify-between mb-2",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"mb-1",children:v.serviceName}),u.jsx("p",{className:"text-sm text-zinc-600",children:v.providerName})]}),m(v.status)]}),u.jsxs("div",{className:"space-y-1 text-sm text-zinc-600 mb-3",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Go,{className:"h-4 w-4"}),u.jsx("span",{children:l(v.startAt)})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Sf,{className:"h-4 w-4"}),u.jsxs("span",{children:[d(v.startAt)," - ",d(v.endAt)]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("span",{className:"text-purple-600",children:["R",v.price]}),v.paymentStatus==="paid"&&u.jsx("span",{className:"text-xs text-green-600",children:"Paid"})]})]}),!x&&v.status==="confirmed"&&u.jsxs("div",{className:"flex gap-2",children:[u.jsxs(_e,{size:"sm",variant:"outline",className:"flex-1",children:[u.jsx(qo,{className:"h-3 w-3 mr-1"}),"Directions"]}),u.jsxs(_e,{size:"sm",variant:"outline",className:"flex-1",children:[u.jsx(Xv,{className:"h-3 w-3 mr-1"}),"Contact"]})]}),!x&&v.status==="pending"&&u.jsx(_e,{size:"sm",variant:"outline",onClick:()=>p(v.id),className:"w-full text-red-600 hover:text-red-700",children:"Cancel Booking"}),x&&v.status==="completed"&&u.jsx(_e,{size:"sm",variant:"outline",className:"w-full",children:"Book Again"})]})]})})});return u.jsxs("div",{className:"max-w-3xl mx-auto px-4 py-6",children:[u.jsx("h1",{className:"text-2xl mb-6",children:"My Appointments"}),u.jsxs(Tu,{defaultValue:"upcoming",children:[u.jsxs(Su,{className:"grid w-full grid-cols-2 mb-6",children:[u.jsxs(pn,{value:"upcoming",children:["Upcoming (",i.length,")"]}),u.jsxs(pn,{value:"past",children:["Past (",a.length,")"]})]}),u.jsx(mn,{value:"upcoming",className:"space-y-4",children:i.length>0?i.map(v=>u.jsx(y,{booking:v},v.id)):u.jsxs("div",{className:"text-center py-12",children:[u.jsx(Go,{className:"h-12 w-12 text-zinc-300 mx-auto mb-3"}),u.jsx("p",{className:"text-zinc-500 mb-4",children:"No upcoming appointments"}),u.jsx(_e,{onClick:()=>t("browse"),children:"Browse Services"})]})}),u.jsx(mn,{value:"past",className:"space-y-4",children:a.length>0?a.map(v=>u.jsx(y,{booking:v,isPast:!0},v.id)):u.jsxs("div",{className:"text-center py-12",children:[u.jsx(Go,{className:"h-12 w-12 text-zinc-300 mx-auto mb-3"}),u.jsx("p",{className:"text-zinc-500",children:"No past appointments"})]})})]})]})};var _y="Progress",xy=100,[k9]=va(_y),[A9,P9]=k9(_y),vI=C.forwardRef((t,e)=>{const{__scopeProgress:n,value:r=null,max:i,getValueLabel:a=R9,...l}=t;(i||i===0)&&!mE(i)&&console.error(D9(`${i}`,"Progress"));const d=mE(i)?i:xy;r!==null&&!gE(r,d)&&console.error(j9(`${r}`,"Progress"));const p=gE(r,d)?r:null,m=Bh(p)?a(p,d):void 0;return u.jsx(A9,{scope:n,value:p,max:d,children:u.jsx(et.div,{"aria-valuemax":d,"aria-valuemin":0,"aria-valuenow":Bh(p)?p:void 0,"aria-valuetext":m,role:"progressbar","data-state":_I(p,d),"data-value":p??void 0,"data-max":d,...l,ref:e})})});vI.displayName=_y;var yI="ProgressIndicator",wI=C.forwardRef((t,e)=>{const{__scopeProgress:n,...r}=t,i=P9(yI,n);return u.jsx(et.div,{"data-state":_I(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...r,ref:e})});wI.displayName=yI;function R9(t,e){return`${Math.round(t/e*100)}%`}function _I(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function Bh(t){return typeof t=="number"}function mE(t){return Bh(t)&&!isNaN(t)&&t>0}function gE(t,e){return Bh(t)&&!isNaN(t)&&t<=e&&t>=0}function D9(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${xy}\`.`}function j9(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${xy} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var M9=vI,O9=wI;function L9({className:t,value:e,...n}){return u.jsx(M9,{"data-slot":"progress",className:at("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",t),...n,children:u.jsx(O9,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})})}const V9=({onNavigate:t})=>{const{user:e,logout:n,updateUser:r}=js(),[i,a]=C.useState(!1),l=1e3,d=e?.loyaltyPoints||0,p=d%l/l*100,m=d>=1e3,y=()=>{if(!e||!m)return;const x=Math.floor(d/1e3)*1e3,I=x/20;r({loyaltyPoints:d-x,walletBalance:(e.walletBalance||0)+I}),pt.success(`Converted ${x} points to R${I}`),a(!1)},v=()=>{n(),t("login")};return u.jsxs("div",{className:"max-w-3xl mx-auto px-4 py-6 space-y-6",children:[u.jsx(Ge,{children:u.jsx(Ye,{className:"p-6",children:u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"h-16 w-16 rounded-full bg-purple-200 flex items-center justify-center",children:u.jsx("span",{className:"text-xl text-purple-600",children:e?.name.charAt(0)})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h2",{className:"text-xl mb-1",children:e?.name}),u.jsx("p",{className:"text-sm text-zinc-600",children:e?.email}),u.jsx("p",{className:"text-sm text-zinc-600",children:e?.phone})]})]})})}),u.jsxs(Ge,{children:[u.jsx(na,{children:u.jsxs(ra,{className:"flex items-center gap-2",children:[u.jsx(yL,{className:"h-5 w-5"}),"Wallet Balance"]})}),u.jsxs(Ye,{className:"space-y-4",children:[u.jsxs("div",{className:"text-3xl text-purple-600",children:["R",(e?.walletBalance||0).toFixed(2)]}),u.jsx("p",{className:"text-sm text-zinc-600",children:"Use your wallet balance to pay for services and products"}),u.jsx(_e,{variant:"outline",size:"sm",children:"Add Funds"})]})]}),u.jsxs(Ge,{children:[u.jsx(na,{children:u.jsxs(ra,{className:"flex items-center gap-2",children:[u.jsx(As,{className:"h-5 w-5"}),"Loyalty Points"]})}),u.jsxs(Ye,{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-baseline gap-2",children:[u.jsx("div",{className:"text-3xl text-purple-600",children:d}),u.jsx("div",{className:"text-sm text-zinc-600",children:"points"})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex justify-between text-sm text-zinc-600 mb-2",children:[u.jsx("span",{children:"Next reward"}),u.jsxs("span",{children:[l-d%l," points to go"]})]}),u.jsx(L9,{value:p,className:"h-2"})]}),u.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx(z4,{className:"h-4 w-4 text-purple-600"}),u.jsx("span",{className:"text-sm",children:"Conversion Rate"})]}),u.jsx("p",{className:"text-sm text-zinc-600",children:"1,000 points = R50 wallet credit"})]}),m&&u.jsx(_e,{onClick:()=>a(!0),className:"w-full",children:"Convert Points to Cash"})]})]}),u.jsx(Ge,{className:"bg-red-50 border-red-200",children:u.jsx(Ye,{className:"p-4",children:u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx(su,{className:"h-5 w-5 text-red-600 mt-0.5 flex-shrink-0"}),u.jsxs("div",{children:[u.jsx("h4",{className:"text-sm text-red-900 mb-1",children:"Emergency Assistance"}),u.jsx("p",{className:"text-xs text-red-700 mb-3",children:"Long-press the Your Look logo at any time to discreetly connect with our emergency response team."}),u.jsx(_e,{variant:"outline",size:"sm",className:"text-red-700 border-red-300",children:"Learn More"})]})]})})}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs(_e,{variant:"ghost",className:"w-full justify-between",onClick:()=>pt.info("Coming soon"),children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(rL,{className:"h-5 w-5"}),u.jsx("span",{children:"Settings"})]}),u.jsx(Lx,{className:"h-4 w-4 text-zinc-400"})]}),u.jsxs(_e,{variant:"ghost",className:"w-full justify-between",onClick:()=>pt.info("Coming soon"),children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(x4,{className:"h-5 w-5"}),u.jsx("span",{children:"Achievements"})]}),u.jsx(Lx,{className:"h-4 w-4 text-zinc-400"})]}),u.jsx(_e,{variant:"ghost",className:"w-full justify-between text-red-600 hover:text-red-700 hover:bg-red-50",onClick:v,children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(H4,{className:"h-5 w-5"}),u.jsx("span",{children:"Log Out"})]})})]}),u.jsx(jl,{open:i,onOpenChange:a,children:u.jsxs(Ml,{children:[u.jsx(Ol,{children:u.jsx(Ll,{children:"Convert Loyalty Points"})}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg space-y-2",children:[u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsx("span",{className:"text-zinc-600",children:"Current Points"}),u.jsx("span",{children:d})]}),u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsx("span",{className:"text-zinc-600",children:"Points to Convert"}),u.jsx("span",{children:Math.floor(d/1e3)*1e3})]}),u.jsx("div",{className:"h-px bg-purple-200"}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-zinc-600",children:"Cash Amount"}),u.jsxs("span",{className:"text-purple-600",children:["R",(Math.floor(d/1e3)*1e3/20).toFixed(2)]})]}),u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsx("span",{className:"text-zinc-600",children:"Remaining Points"}),u.jsx("span",{children:d%1e3})]})]}),u.jsx("p",{className:"text-sm text-zinc-600",children:"Points will be converted to your wallet balance and can be used for any purchase."}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(_e,{variant:"outline",className:"flex-1",onClick:()=>a(!1),children:"Cancel"}),u.jsx(_e,{className:"flex-1",onClick:y,children:"Confirm Conversion"})]})]})]})})]})};function xI({className:t,...e}){return u.jsx("textarea",{"data-slot":"textarea",className:at("resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),...e})}function vE(t,[e,n]){return Math.min(n,Math.max(e,t))}const F9=["top","right","bottom","left"],io=Math.min,or=Math.max,$h=Math.round,eh=Math.floor,Is=t=>({x:t,y:t}),U9={left:"right",right:"left",bottom:"top",top:"bottom"},z9={start:"end",end:"start"};function Fg(t,e,n){return or(t,io(e,n))}function ci(t,e){return typeof t=="function"?t(e):t}function ui(t){return t.split("-")[0]}function Vl(t){return t.split("-")[1]}function Ey(t){return t==="x"?"y":"x"}function by(t){return t==="y"?"height":"width"}const B9=new Set(["top","bottom"]);function ys(t){return B9.has(ui(t))?"y":"x"}function Ty(t){return Ey(ys(t))}function $9(t,e,n){n===void 0&&(n=!1);const r=Vl(t),i=Ty(t),a=by(i);let l=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(l=Wh(l)),[l,Wh(l)]}function W9(t){const e=Wh(t);return[Ug(t),e,Ug(e)]}function Ug(t){return t.replace(/start|end/g,e=>z9[e])}const yE=["left","right"],wE=["right","left"],H9=["top","bottom"],q9=["bottom","top"];function K9(t,e,n){switch(t){case"top":case"bottom":return n?e?wE:yE:e?yE:wE;case"left":case"right":return e?H9:q9;default:return[]}}function G9(t,e,n,r){const i=Vl(t);let a=K9(ui(t),n==="start",r);return i&&(a=a.map(l=>l+"-"+i),e&&(a=a.concat(a.map(Ug)))),a}function Wh(t){return t.replace(/left|right|bottom|top/g,e=>U9[e])}function Y9(t){return{top:0,right:0,bottom:0,left:0,...t}}function EI(t){return typeof t!="number"?Y9(t):{top:t,right:t,bottom:t,left:t}}function Hh(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function _E(t,e,n){let{reference:r,floating:i}=t;const a=ys(e),l=Ty(e),d=by(l),p=ui(e),m=a==="y",y=r.x+r.width/2-i.width/2,v=r.y+r.height/2-i.height/2,x=r[d]/2-i[d]/2;let I;switch(p){case"top":I={x:y,y:r.y-i.height};break;case"bottom":I={x:y,y:r.y+r.height};break;case"right":I={x:r.x+r.width,y:v};break;case"left":I={x:r.x-i.width,y:v};break;default:I={x:r.x,y:r.y}}switch(Vl(e)){case"start":I[l]-=x*(n&&m?-1:1);break;case"end":I[l]+=x*(n&&m?-1:1);break}return I}const Q9=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:a=[],platform:l}=n,d=a.filter(Boolean),p=await(l.isRTL==null?void 0:l.isRTL(e));let m=await l.getElementRects({reference:t,floating:e,strategy:i}),{x:y,y:v}=_E(m,r,p),x=r,I={},k=0;for(let S=0;S<d.length;S++){const{name:b,fn:j}=d[S],{x:z,y:W,data:G,reset:J}=await j({x:y,y:v,initialPlacement:r,placement:x,strategy:i,middlewareData:I,rects:m,platform:l,elements:{reference:t,floating:e}});y=z??y,v=W??v,I={...I,[b]:{...I[b],...G}},J&&k<=50&&(k++,typeof J=="object"&&(J.placement&&(x=J.placement),J.rects&&(m=J.rects===!0?await l.getElementRects({reference:t,floating:e,strategy:i}):J.rects),{x:y,y:v}=_E(m,x,p)),S=-1)}return{x:y,y:v,placement:x,strategy:i,middlewareData:I}};async function au(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:a,rects:l,elements:d,strategy:p}=t,{boundary:m="clippingAncestors",rootBoundary:y="viewport",elementContext:v="floating",altBoundary:x=!1,padding:I=0}=ci(e,t),k=EI(I),b=d[x?v==="floating"?"reference":"floating":v],j=Hh(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(b)))==null||n?b:b.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(d.floating)),boundary:m,rootBoundary:y,strategy:p})),z=v==="floating"?{x:r,y:i,width:l.floating.width,height:l.floating.height}:l.reference,W=await(a.getOffsetParent==null?void 0:a.getOffsetParent(d.floating)),G=await(a.isElement==null?void 0:a.isElement(W))?await(a.getScale==null?void 0:a.getScale(W))||{x:1,y:1}:{x:1,y:1},J=Hh(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:d,rect:z,offsetParent:W,strategy:p}):z);return{top:(j.top-J.top+k.top)/G.y,bottom:(J.bottom-j.bottom+k.bottom)/G.y,left:(j.left-J.left+k.left)/G.x,right:(J.right-j.right+k.right)/G.x}}const X9=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:a,platform:l,elements:d,middlewareData:p}=e,{element:m,padding:y=0}=ci(t,e)||{};if(m==null)return{};const v=EI(y),x={x:n,y:r},I=Ty(i),k=by(I),S=await l.getDimensions(m),b=I==="y",j=b?"top":"left",z=b?"bottom":"right",W=b?"clientHeight":"clientWidth",G=a.reference[k]+a.reference[I]-x[I]-a.floating[k],J=x[I]-a.reference[I],te=await(l.getOffsetParent==null?void 0:l.getOffsetParent(m));let P=te?te[W]:0;(!P||!await(l.isElement==null?void 0:l.isElement(te)))&&(P=d.floating[W]||a.floating[k]);const N=G/2-J/2,D=P/2-S[k]/2-1,V=io(v[j],D),O=io(v[z],D),U=V,R=P-S[k]-O,ve=P/2-S[k]/2+N,ke=Fg(U,ve,R),ae=!p.arrow&&Vl(i)!=null&&ve!==ke&&a.reference[k]/2-(ve<U?V:O)-S[k]/2<0,X=ae?ve<U?ve-U:ve-R:0;return{[I]:x[I]+X,data:{[I]:ke,centerOffset:ve-ke-X,...ae&&{alignmentOffset:X}},reset:ae}}}),J9=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:a,rects:l,initialPlacement:d,platform:p,elements:m}=e,{mainAxis:y=!0,crossAxis:v=!0,fallbackPlacements:x,fallbackStrategy:I="bestFit",fallbackAxisSideDirection:k="none",flipAlignment:S=!0,...b}=ci(t,e);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const j=ui(i),z=ys(d),W=ui(d)===d,G=await(p.isRTL==null?void 0:p.isRTL(m.floating)),J=x||(W||!S?[Wh(d)]:W9(d)),te=k!=="none";!x&&te&&J.push(...G9(d,S,k,G));const P=[d,...J],N=await au(e,b),D=[];let V=((r=a.flip)==null?void 0:r.overflows)||[];if(y&&D.push(N[j]),v){const ve=$9(i,l,G);D.push(N[ve[0]],N[ve[1]])}if(V=[...V,{placement:i,overflows:D}],!D.every(ve=>ve<=0)){var O,U;const ve=(((O=a.flip)==null?void 0:O.index)||0)+1,ke=P[ve];if(ke&&(!(v==="alignment"?z!==ys(ke):!1)||V.every(L=>ys(L.placement)===z?L.overflows[0]>0:!0)))return{data:{index:ve,overflows:V},reset:{placement:ke}};let ae=(U=V.filter(X=>X.overflows[0]<=0).sort((X,L)=>X.overflows[1]-L.overflows[1])[0])==null?void 0:U.placement;if(!ae)switch(I){case"bestFit":{var R;const X=(R=V.filter(L=>{if(te){const ue=ys(L.placement);return ue===z||ue==="y"}return!0}).map(L=>[L.placement,L.overflows.filter(ue=>ue>0).reduce((ue,ie)=>ue+ie,0)]).sort((L,ue)=>L[1]-ue[1])[0])==null?void 0:R[0];X&&(ae=X);break}case"initialPlacement":ae=d;break}if(i!==ae)return{reset:{placement:ae}}}return{}}}};function xE(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function EE(t){return F9.some(e=>t[e]>=0)}const Z9=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=ci(t,e);switch(r){case"referenceHidden":{const a=await au(e,{...i,elementContext:"reference"}),l=xE(a,n.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:EE(l)}}}case"escaped":{const a=await au(e,{...i,altBoundary:!0}),l=xE(a,n.floating);return{data:{escapedOffsets:l,escaped:EE(l)}}}default:return{}}}}},bI=new Set(["left","top"]);async function eU(t,e){const{placement:n,platform:r,elements:i}=t,a=await(r.isRTL==null?void 0:r.isRTL(i.floating)),l=ui(n),d=Vl(n),p=ys(n)==="y",m=bI.has(l)?-1:1,y=a&&p?-1:1,v=ci(e,t);let{mainAxis:x,crossAxis:I,alignmentAxis:k}=typeof v=="number"?{mainAxis:v,crossAxis:0,alignmentAxis:null}:{mainAxis:v.mainAxis||0,crossAxis:v.crossAxis||0,alignmentAxis:v.alignmentAxis};return d&&typeof k=="number"&&(I=d==="end"?k*-1:k),p?{x:I*y,y:x*m}:{x:x*m,y:I*y}}const tU=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:a,placement:l,middlewareData:d}=e,p=await eU(e,t);return l===((n=d.offset)==null?void 0:n.placement)&&(r=d.arrow)!=null&&r.alignmentOffset?{}:{x:i+p.x,y:a+p.y,data:{...p,placement:l}}}}},nU=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:a=!0,crossAxis:l=!1,limiter:d={fn:b=>{let{x:j,y:z}=b;return{x:j,y:z}}},...p}=ci(t,e),m={x:n,y:r},y=await au(e,p),v=ys(ui(i)),x=Ey(v);let I=m[x],k=m[v];if(a){const b=x==="y"?"top":"left",j=x==="y"?"bottom":"right",z=I+y[b],W=I-y[j];I=Fg(z,I,W)}if(l){const b=v==="y"?"top":"left",j=v==="y"?"bottom":"right",z=k+y[b],W=k-y[j];k=Fg(z,k,W)}const S=d.fn({...e,[x]:I,[v]:k});return{...S,data:{x:S.x-n,y:S.y-r,enabled:{[x]:a,[v]:l}}}}}},rU=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:a,middlewareData:l}=e,{offset:d=0,mainAxis:p=!0,crossAxis:m=!0}=ci(t,e),y={x:n,y:r},v=ys(i),x=Ey(v);let I=y[x],k=y[v];const S=ci(d,e),b=typeof S=="number"?{mainAxis:S,crossAxis:0}:{mainAxis:0,crossAxis:0,...S};if(p){const W=x==="y"?"height":"width",G=a.reference[x]-a.floating[W]+b.mainAxis,J=a.reference[x]+a.reference[W]-b.mainAxis;I<G?I=G:I>J&&(I=J)}if(m){var j,z;const W=x==="y"?"width":"height",G=bI.has(ui(i)),J=a.reference[v]-a.floating[W]+(G&&((j=l.offset)==null?void 0:j[v])||0)+(G?0:b.crossAxis),te=a.reference[v]+a.reference[W]+(G?0:((z=l.offset)==null?void 0:z[v])||0)-(G?b.crossAxis:0);k<J?k=J:k>te&&(k=te)}return{[x]:I,[v]:k}}}},sU=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:a,platform:l,elements:d}=e,{apply:p=()=>{},...m}=ci(t,e),y=await au(e,m),v=ui(i),x=Vl(i),I=ys(i)==="y",{width:k,height:S}=a.floating;let b,j;v==="top"||v==="bottom"?(b=v,j=x===(await(l.isRTL==null?void 0:l.isRTL(d.floating))?"start":"end")?"left":"right"):(j=v,b=x==="end"?"top":"bottom");const z=S-y.top-y.bottom,W=k-y.left-y.right,G=io(S-y[b],z),J=io(k-y[j],W),te=!e.middlewareData.shift;let P=G,N=J;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(N=W),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(P=z),te&&!x){const V=or(y.left,0),O=or(y.right,0),U=or(y.top,0),R=or(y.bottom,0);I?N=k-2*(V!==0||O!==0?V+O:or(y.left,y.right)):P=S-2*(U!==0||R!==0?U+R:or(y.top,y.bottom))}await p({...e,availableWidth:N,availableHeight:P});const D=await l.getDimensions(d.floating);return k!==D.width||S!==D.height?{reset:{rects:!0}}:{}}}};function Rf(){return typeof window<"u"}function Fl(t){return TI(t)?(t.nodeName||"").toLowerCase():"#document"}function cr(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Ms(t){var e;return(e=(TI(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function TI(t){return Rf()?t instanceof Node||t instanceof cr(t).Node:!1}function Wr(t){return Rf()?t instanceof Element||t instanceof cr(t).Element:!1}function Rs(t){return Rf()?t instanceof HTMLElement||t instanceof cr(t).HTMLElement:!1}function bE(t){return!Rf()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof cr(t).ShadowRoot}const iU=new Set(["inline","contents"]);function Au(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=Hr(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!iU.has(i)}const oU=new Set(["table","td","th"]);function aU(t){return oU.has(Fl(t))}const lU=[":popover-open",":modal"];function Df(t){return lU.some(e=>{try{return t.matches(e)}catch{return!1}})}const cU=["transform","translate","scale","rotate","perspective"],uU=["transform","translate","scale","rotate","perspective","filter"],dU=["paint","layout","strict","content"];function Sy(t){const e=Iy(),n=Wr(t)?Hr(t):t;return cU.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||uU.some(r=>(n.willChange||"").includes(r))||dU.some(r=>(n.contain||"").includes(r))}function hU(t){let e=oo(t);for(;Rs(e)&&!Il(e);){if(Sy(e))return e;if(Df(e))return null;e=oo(e)}return null}function Iy(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const fU=new Set(["html","body","#document"]);function Il(t){return fU.has(Fl(t))}function Hr(t){return cr(t).getComputedStyle(t)}function jf(t){return Wr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function oo(t){if(Fl(t)==="html")return t;const e=t.assignedSlot||t.parentNode||bE(t)&&t.host||Ms(t);return bE(e)?e.host:e}function SI(t){const e=oo(t);return Il(e)?t.ownerDocument?t.ownerDocument.body:t.body:Rs(e)&&Au(e)?e:SI(e)}function lu(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=SI(t),a=i===((r=t.ownerDocument)==null?void 0:r.body),l=cr(i);if(a){const d=zg(l);return e.concat(l,l.visualViewport||[],Au(i)?i:[],d&&n?lu(d):[])}return e.concat(i,lu(i,[],n))}function zg(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function II(t){const e=Hr(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Rs(t),a=i?t.offsetWidth:n,l=i?t.offsetHeight:r,d=$h(n)!==a||$h(r)!==l;return d&&(n=a,r=l),{width:n,height:r,$:d}}function Cy(t){return Wr(t)?t:t.contextElement}function gl(t){const e=Cy(t);if(!Rs(e))return Is(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:a}=II(e);let l=(a?$h(n.width):n.width)/r,d=(a?$h(n.height):n.height)/i;return(!l||!Number.isFinite(l))&&(l=1),(!d||!Number.isFinite(d))&&(d=1),{x:l,y:d}}const pU=Is(0);function CI(t){const e=cr(t);return!Iy()||!e.visualViewport?pU:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function mU(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==cr(t)?!1:e}function oa(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),a=Cy(t);let l=Is(1);e&&(r?Wr(r)&&(l=gl(r)):l=gl(t));const d=mU(a,n,r)?CI(a):Is(0);let p=(i.left+d.x)/l.x,m=(i.top+d.y)/l.y,y=i.width/l.x,v=i.height/l.y;if(a){const x=cr(a),I=r&&Wr(r)?cr(r):r;let k=x,S=zg(k);for(;S&&r&&I!==k;){const b=gl(S),j=S.getBoundingClientRect(),z=Hr(S),W=j.left+(S.clientLeft+parseFloat(z.paddingLeft))*b.x,G=j.top+(S.clientTop+parseFloat(z.paddingTop))*b.y;p*=b.x,m*=b.y,y*=b.x,v*=b.y,p+=W,m+=G,k=cr(S),S=zg(k)}}return Hh({width:y,height:v,x:p,y:m})}function Mf(t,e){const n=jf(t).scrollLeft;return e?e.left+n:oa(Ms(t)).left+n}function NI(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-Mf(t,n),i=n.top+e.scrollTop;return{x:r,y:i}}function gU(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const a=i==="fixed",l=Ms(r),d=e?Df(e.floating):!1;if(r===l||d&&a)return n;let p={scrollLeft:0,scrollTop:0},m=Is(1);const y=Is(0),v=Rs(r);if((v||!v&&!a)&&((Fl(r)!=="body"||Au(l))&&(p=jf(r)),Rs(r))){const I=oa(r);m=gl(r),y.x=I.x+r.clientLeft,y.y=I.y+r.clientTop}const x=l&&!v&&!a?NI(l,p):Is(0);return{width:n.width*m.x,height:n.height*m.y,x:n.x*m.x-p.scrollLeft*m.x+y.x+x.x,y:n.y*m.y-p.scrollTop*m.y+y.y+x.y}}function vU(t){return Array.from(t.getClientRects())}function yU(t){const e=Ms(t),n=jf(t),r=t.ownerDocument.body,i=or(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),a=or(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let l=-n.scrollLeft+Mf(t);const d=-n.scrollTop;return Hr(r).direction==="rtl"&&(l+=or(e.clientWidth,r.clientWidth)-i),{width:i,height:a,x:l,y:d}}const TE=25;function wU(t,e){const n=cr(t),r=Ms(t),i=n.visualViewport;let a=r.clientWidth,l=r.clientHeight,d=0,p=0;if(i){a=i.width,l=i.height;const y=Iy();(!y||y&&e==="fixed")&&(d=i.offsetLeft,p=i.offsetTop)}const m=Mf(r);if(m<=0){const y=r.ownerDocument,v=y.body,x=getComputedStyle(v),I=y.compatMode==="CSS1Compat"&&parseFloat(x.marginLeft)+parseFloat(x.marginRight)||0,k=Math.abs(r.clientWidth-v.clientWidth-I);k<=TE&&(a-=k)}else m<=TE&&(a+=m);return{width:a,height:l,x:d,y:p}}const _U=new Set(["absolute","fixed"]);function xU(t,e){const n=oa(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,a=Rs(t)?gl(t):Is(1),l=t.clientWidth*a.x,d=t.clientHeight*a.y,p=i*a.x,m=r*a.y;return{width:l,height:d,x:p,y:m}}function SE(t,e,n){let r;if(e==="viewport")r=wU(t,n);else if(e==="document")r=yU(Ms(t));else if(Wr(e))r=xU(e,n);else{const i=CI(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Hh(r)}function kI(t,e){const n=oo(t);return n===e||!Wr(n)||Il(n)?!1:Hr(n).position==="fixed"||kI(n,e)}function EU(t,e){const n=e.get(t);if(n)return n;let r=lu(t,[],!1).filter(d=>Wr(d)&&Fl(d)!=="body"),i=null;const a=Hr(t).position==="fixed";let l=a?oo(t):t;for(;Wr(l)&&!Il(l);){const d=Hr(l),p=Sy(l);!p&&d.position==="fixed"&&(i=null),(a?!p&&!i:!p&&d.position==="static"&&!!i&&_U.has(i.position)||Au(l)&&!p&&kI(t,l))?r=r.filter(y=>y!==l):i=d,l=oo(l)}return e.set(t,r),r}function bU(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const l=[...n==="clippingAncestors"?Df(e)?[]:EU(e,this._c):[].concat(n),r],d=l[0],p=l.reduce((m,y)=>{const v=SE(e,y,i);return m.top=or(v.top,m.top),m.right=io(v.right,m.right),m.bottom=io(v.bottom,m.bottom),m.left=or(v.left,m.left),m},SE(e,d,i));return{width:p.right-p.left,height:p.bottom-p.top,x:p.left,y:p.top}}function TU(t){const{width:e,height:n}=II(t);return{width:e,height:n}}function SU(t,e,n){const r=Rs(e),i=Ms(e),a=n==="fixed",l=oa(t,!0,a,e);let d={scrollLeft:0,scrollTop:0};const p=Is(0);function m(){p.x=Mf(i)}if(r||!r&&!a)if((Fl(e)!=="body"||Au(i))&&(d=jf(e)),r){const I=oa(e,!0,a,e);p.x=I.x+e.clientLeft,p.y=I.y+e.clientTop}else i&&m();a&&!r&&i&&m();const y=i&&!r&&!a?NI(i,d):Is(0),v=l.left+d.scrollLeft-p.x-y.x,x=l.top+d.scrollTop-p.y-y.y;return{x:v,y:x,width:l.width,height:l.height}}function Qm(t){return Hr(t).position==="static"}function IE(t,e){if(!Rs(t)||Hr(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Ms(t)===n&&(n=n.ownerDocument.body),n}function AI(t,e){const n=cr(t);if(Df(t))return n;if(!Rs(t)){let i=oo(t);for(;i&&!Il(i);){if(Wr(i)&&!Qm(i))return i;i=oo(i)}return n}let r=IE(t,e);for(;r&&aU(r)&&Qm(r);)r=IE(r,e);return r&&Il(r)&&Qm(r)&&!Sy(r)?n:r||hU(t)||n}const IU=async function(t){const e=this.getOffsetParent||AI,n=this.getDimensions,r=await n(t.floating);return{reference:SU(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function CU(t){return Hr(t).direction==="rtl"}const NU={convertOffsetParentRelativeRectToViewportRelativeRect:gU,getDocumentElement:Ms,getClippingRect:bU,getOffsetParent:AI,getElementRects:IU,getClientRects:vU,getDimensions:TU,getScale:gl,isElement:Wr,isRTL:CU};function PI(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function kU(t,e){let n=null,r;const i=Ms(t);function a(){var d;clearTimeout(r),(d=n)==null||d.disconnect(),n=null}function l(d,p){d===void 0&&(d=!1),p===void 0&&(p=1),a();const m=t.getBoundingClientRect(),{left:y,top:v,width:x,height:I}=m;if(d||e(),!x||!I)return;const k=eh(v),S=eh(i.clientWidth-(y+x)),b=eh(i.clientHeight-(v+I)),j=eh(y),W={rootMargin:-k+"px "+-S+"px "+-b+"px "+-j+"px",threshold:or(0,io(1,p))||1};let G=!0;function J(te){const P=te[0].intersectionRatio;if(P!==p){if(!G)return l();P?l(!1,P):r=setTimeout(()=>{l(!1,1e-7)},1e3)}P===1&&!PI(m,t.getBoundingClientRect())&&l(),G=!1}try{n=new IntersectionObserver(J,{...W,root:i.ownerDocument})}catch{n=new IntersectionObserver(J,W)}n.observe(t)}return l(!0),a}function AU(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:d=typeof IntersectionObserver=="function",animationFrame:p=!1}=r,m=Cy(t),y=i||a?[...m?lu(m):[],...lu(e)]:[];y.forEach(j=>{i&&j.addEventListener("scroll",n,{passive:!0}),a&&j.addEventListener("resize",n)});const v=m&&d?kU(m,n):null;let x=-1,I=null;l&&(I=new ResizeObserver(j=>{let[z]=j;z&&z.target===m&&I&&(I.unobserve(e),cancelAnimationFrame(x),x=requestAnimationFrame(()=>{var W;(W=I)==null||W.observe(e)})),n()}),m&&!p&&I.observe(m),I.observe(e));let k,S=p?oa(t):null;p&&b();function b(){const j=oa(t);S&&!PI(S,j)&&n(),S=j,k=requestAnimationFrame(b)}return n(),()=>{var j;y.forEach(z=>{i&&z.removeEventListener("scroll",n),a&&z.removeEventListener("resize",n)}),v?.(),(j=I)==null||j.disconnect(),I=null,p&&cancelAnimationFrame(k)}}const PU=tU,RU=nU,DU=J9,jU=sU,MU=Z9,CE=X9,OU=rU,LU=(t,e,n)=>{const r=new Map,i={platform:NU,...n},a={...i.platform,_c:r};return Q9(t,e,{...i,platform:a})};var VU=typeof document<"u",FU=function(){},ph=VU?C.useLayoutEffect:FU;function qh(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!qh(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const a=i[r];if(!(a==="_owner"&&t.$$typeof)&&!qh(t[a],e[a]))return!1}return!0}return t!==t&&e!==e}function RI(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function NE(t,e){const n=RI(t);return Math.round(e*n)/n}function Xm(t){const e=C.useRef(t);return ph(()=>{e.current=t}),e}function UU(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:a,floating:l}={},transform:d=!0,whileElementsMounted:p,open:m}=t,[y,v]=C.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[x,I]=C.useState(r);qh(x,r)||I(r);const[k,S]=C.useState(null),[b,j]=C.useState(null),z=C.useCallback(L=>{L!==te.current&&(te.current=L,S(L))},[]),W=C.useCallback(L=>{L!==P.current&&(P.current=L,j(L))},[]),G=a||k,J=l||b,te=C.useRef(null),P=C.useRef(null),N=C.useRef(y),D=p!=null,V=Xm(p),O=Xm(i),U=Xm(m),R=C.useCallback(()=>{if(!te.current||!P.current)return;const L={placement:e,strategy:n,middleware:x};O.current&&(L.platform=O.current),LU(te.current,P.current,L).then(ue=>{const ie={...ue,isPositioned:U.current!==!1};ve.current&&!qh(N.current,ie)&&(N.current=ie,xu.flushSync(()=>{v(ie)}))})},[x,e,n,O,U]);ph(()=>{m===!1&&N.current.isPositioned&&(N.current.isPositioned=!1,v(L=>({...L,isPositioned:!1})))},[m]);const ve=C.useRef(!1);ph(()=>(ve.current=!0,()=>{ve.current=!1}),[]),ph(()=>{if(G&&(te.current=G),J&&(P.current=J),G&&J){if(V.current)return V.current(G,J,R);R()}},[G,J,R,V,D]);const ke=C.useMemo(()=>({reference:te,floating:P,setReference:z,setFloating:W}),[z,W]),ae=C.useMemo(()=>({reference:G,floating:J}),[G,J]),X=C.useMemo(()=>{const L={position:n,left:0,top:0};if(!ae.floating)return L;const ue=NE(ae.floating,y.x),ie=NE(ae.floating,y.y);return d?{...L,transform:"translate("+ue+"px, "+ie+"px)",...RI(ae.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:ue,top:ie}},[n,d,ae.floating,y.x,y.y]);return C.useMemo(()=>({...y,update:R,refs:ke,elements:ae,floatingStyles:X}),[y,R,ke,ae,X])}const zU=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?CE({element:r.current,padding:i}).fn(n):{}:r?CE({element:r,padding:i}).fn(n):{}}}},BU=(t,e)=>({...PU(t),options:[t,e]}),$U=(t,e)=>({...RU(t),options:[t,e]}),WU=(t,e)=>({...OU(t),options:[t,e]}),HU=(t,e)=>({...DU(t),options:[t,e]}),qU=(t,e)=>({...jU(t),options:[t,e]}),KU=(t,e)=>({...MU(t),options:[t,e]}),GU=(t,e)=>({...zU(t),options:[t,e]});var YU="Arrow",DI=C.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...a}=t;return u.jsx(et.svg,{...a,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:u.jsx("polygon",{points:"0,0 30,0 15,10"})})});DI.displayName=YU;var QU=DI;function XU(t){const[e,n]=C.useState(void 0);return Cn(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let l,d;if("borderBoxSize"in a){const p=a.borderBoxSize,m=Array.isArray(p)?p[0]:p;l=m.inlineSize,d=m.blockSize}else l=t.offsetWidth,d=t.offsetHeight;n({width:l,height:d})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var Ny="Popper",[jI,MI]=va(Ny),[JU,OI]=jI(Ny),LI=t=>{const{__scopePopper:e,children:n}=t,[r,i]=C.useState(null);return u.jsx(JU,{scope:e,anchor:r,onAnchorChange:i,children:n})};LI.displayName=Ny;var VI="PopperAnchor",FI=C.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,a=OI(VI,n),l=C.useRef(null),d=Dt(e,l),p=C.useRef(null);return C.useEffect(()=>{const m=p.current;p.current=r?.current||l.current,m!==p.current&&a.onAnchorChange(p.current)}),r?null:u.jsx(et.div,{...i,ref:d})});FI.displayName=VI;var ky="PopperContent",[ZU,ez]=jI(ky),UI=C.forwardRef((t,e)=>{const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:a="center",alignOffset:l=0,arrowPadding:d=0,avoidCollisions:p=!0,collisionBoundary:m=[],collisionPadding:y=0,sticky:v="partial",hideWhenDetached:x=!1,updatePositionStrategy:I="optimized",onPlaced:k,...S}=t,b=OI(ky,n),[j,z]=C.useState(null),W=Dt(e,re=>z(re)),[G,J]=C.useState(null),te=XU(G),P=te?.width??0,N=te?.height??0,D=r+(a!=="center"?"-"+a:""),V=typeof y=="number"?y:{top:0,right:0,bottom:0,left:0,...y},O=Array.isArray(m)?m:[m],U=O.length>0,R={padding:V,boundary:O.filter(nz),altBoundary:U},{refs:ve,floatingStyles:ke,placement:ae,isPositioned:X,middlewareData:L}=UU({strategy:"fixed",placement:D,whileElementsMounted:(...re)=>AU(...re,{animationFrame:I==="always"}),elements:{reference:b.anchor},middleware:[BU({mainAxis:i+N,alignmentAxis:l}),p&&$U({mainAxis:!0,crossAxis:!1,limiter:v==="partial"?WU():void 0,...R}),p&&HU({...R}),qU({...R,apply:({elements:re,rects:pe,availableWidth:Ae,availableHeight:je})=>{const{width:$e,height:qe}=pe.reference,St=re.floating.style;St.setProperty("--radix-popper-available-width",`${Ae}px`),St.setProperty("--radix-popper-available-height",`${je}px`),St.setProperty("--radix-popper-anchor-width",`${$e}px`),St.setProperty("--radix-popper-anchor-height",`${qe}px`)}}),G&&GU({element:G,padding:d}),rz({arrowWidth:P,arrowHeight:N}),x&&KU({strategy:"referenceHidden",...R})]}),[ue,ie]=$I(ae),B=so(k);Cn(()=>{X&&B?.()},[X,B]);const Z=L.arrow?.x,le=L.arrow?.y,fe=L.arrow?.centerOffset!==0,[ge,Ce]=C.useState();return Cn(()=>{j&&Ce(window.getComputedStyle(j).zIndex)},[j]),u.jsx("div",{ref:ve.setFloating,"data-radix-popper-content-wrapper":"",style:{...ke,transform:X?ke.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ge,"--radix-popper-transform-origin":[L.transformOrigin?.x,L.transformOrigin?.y].join(" "),...L.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:u.jsx(ZU,{scope:n,placedSide:ue,onArrowChange:J,arrowX:Z,arrowY:le,shouldHideArrow:fe,children:u.jsx(et.div,{"data-side":ue,"data-align":ie,...S,ref:W,style:{...S.style,animation:X?void 0:"none"}})})})});UI.displayName=ky;var zI="PopperArrow",tz={top:"bottom",right:"left",bottom:"top",left:"right"},BI=C.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,a=ez(zI,r),l=tz[a.placedSide];return u.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:u.jsx(QU,{...i,ref:n,style:{...i.style,display:"block"}})})});BI.displayName=zI;function nz(t){return t!==null}var rz=t=>({name:"transformOrigin",options:t,fn(e){const{placement:n,rects:r,middlewareData:i}=e,l=i.arrow?.centerOffset!==0,d=l?0:t.arrowWidth,p=l?0:t.arrowHeight,[m,y]=$I(n),v={start:"0%",center:"50%",end:"100%"}[y],x=(i.arrow?.x??0)+d/2,I=(i.arrow?.y??0)+p/2;let k="",S="";return m==="bottom"?(k=l?v:`${x}px`,S=`${-p}px`):m==="top"?(k=l?v:`${x}px`,S=`${r.floating.height+p}px`):m==="right"?(k=`${-p}px`,S=l?v:`${I}px`):m==="left"&&(k=`${r.floating.width+p}px`,S=l?v:`${I}px`),{data:{x:k,y:S}}}});function $I(t){const[e,n="center"]=t.split("-");return[e,n]}var sz=LI,iz=FI,oz=UI,az=BI;function lz(t){const e=C.useRef({value:t,previous:t});return C.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var WI=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),cz="VisuallyHidden",uz=C.forwardRef((t,e)=>u.jsx(et.span,{...t,ref:e,style:{...WI,...t.style}}));uz.displayName=cz;var dz=[" ","Enter","ArrowUp","ArrowDown"],hz=[" ","Enter"],aa="Select",[Of,Lf,fz]=lS(aa),[Ul]=va(aa,[fz,MI]),Vf=MI(),[pz,po]=Ul(aa),[mz,gz]=Ul(aa),HI=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:i,onOpenChange:a,value:l,defaultValue:d,onValueChange:p,dir:m,name:y,autoComplete:v,disabled:x,required:I,form:k}=t,S=Vf(e),[b,j]=C.useState(null),[z,W]=C.useState(null),[G,J]=C.useState(!1),te=Zv(m),[P,N]=iu({prop:r,defaultProp:i??!1,onChange:a,caller:aa}),[D,V]=iu({prop:l,defaultProp:d,onChange:p,caller:aa}),O=C.useRef(null),U=b?k||!!b.closest("form"):!0,[R,ve]=C.useState(new Set),ke=Array.from(R).map(ae=>ae.props.value).join(";");return u.jsx(sz,{...S,children:u.jsxs(pz,{required:I,scope:e,trigger:b,onTriggerChange:j,valueNode:z,onValueNodeChange:W,valueNodeHasChildren:G,onValueNodeHasChildrenChange:J,contentId:Xi(),value:D,onValueChange:V,open:P,onOpenChange:N,dir:te,triggerPointerDownPosRef:O,disabled:x,children:[u.jsx(Of.Provider,{scope:e,children:u.jsx(mz,{scope:t.__scopeSelect,onNativeOptionAdd:C.useCallback(ae=>{ve(X=>new Set(X).add(ae))},[]),onNativeOptionRemove:C.useCallback(ae=>{ve(X=>{const L=new Set(X);return L.delete(ae),L})},[]),children:n})}),U?u.jsxs(fC,{"aria-hidden":!0,required:I,tabIndex:-1,name:y,autoComplete:v,value:D,onChange:ae=>V(ae.target.value),disabled:x,form:k,children:[D===void 0?u.jsx("option",{value:""}):null,Array.from(R)]},ke):null]})})};HI.displayName=aa;var qI="SelectTrigger",KI=C.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...i}=t,a=Vf(n),l=po(qI,n),d=l.disabled||r,p=Dt(e,l.onTriggerChange),m=Lf(n),y=C.useRef("touch"),[v,x,I]=mC(S=>{const b=m().filter(W=>!W.disabled),j=b.find(W=>W.value===l.value),z=gC(b,S,j);z!==void 0&&l.onValueChange(z.value)}),k=S=>{d||(l.onOpenChange(!0),I()),S&&(l.triggerPointerDownPosRef.current={x:Math.round(S.pageX),y:Math.round(S.pageY)})};return u.jsx(iz,{asChild:!0,...a,children:u.jsx(et.button,{type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:d,"data-disabled":d?"":void 0,"data-placeholder":pC(l.value)?"":void 0,...i,ref:p,onClick:nt(i.onClick,S=>{S.currentTarget.focus(),y.current!=="mouse"&&k(S)}),onPointerDown:nt(i.onPointerDown,S=>{y.current=S.pointerType;const b=S.target;b.hasPointerCapture(S.pointerId)&&b.releasePointerCapture(S.pointerId),S.button===0&&S.ctrlKey===!1&&S.pointerType==="mouse"&&(k(S),S.preventDefault())}),onKeyDown:nt(i.onKeyDown,S=>{const b=v.current!=="";!(S.ctrlKey||S.altKey||S.metaKey)&&S.key.length===1&&x(S.key),!(b&&S.key===" ")&&dz.includes(S.key)&&(k(),S.preventDefault())})})})});KI.displayName=qI;var GI="SelectValue",YI=C.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,children:a,placeholder:l="",...d}=t,p=po(GI,n),{onValueNodeHasChildrenChange:m}=p,y=a!==void 0,v=Dt(e,p.onValueNodeChange);return Cn(()=>{m(y)},[m,y]),u.jsx(et.span,{...d,ref:v,style:{pointerEvents:"none"},children:pC(p.value)?u.jsx(u.Fragment,{children:l}):a})});YI.displayName=GI;var vz="SelectIcon",QI=C.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...i}=t;return u.jsx(et.span,{"aria-hidden":!0,...i,ref:e,children:r||""})});QI.displayName=vz;var yz="SelectPortal",XI=t=>u.jsx(ry,{asChild:!0,...t});XI.displayName=yz;var la="SelectContent",JI=C.forwardRef((t,e)=>{const n=po(la,t.__scopeSelect),[r,i]=C.useState();if(Cn(()=>{i(new DocumentFragment)},[]),!n.open){const a=r;return a?xu.createPortal(u.jsx(ZI,{scope:t.__scopeSelect,children:u.jsx(Of.Slot,{scope:t.__scopeSelect,children:u.jsx("div",{children:t.children})})}),a):null}return u.jsx(eC,{...t,ref:e})});JI.displayName=la;var Lr=10,[ZI,mo]=Ul(la),wz="SelectContentImpl",_z=Tl("SelectContent.RemoveScroll"),eC=C.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:a,onPointerDownOutside:l,side:d,sideOffset:p,align:m,alignOffset:y,arrowPadding:v,collisionBoundary:x,collisionPadding:I,sticky:k,hideWhenDetached:S,avoidCollisions:b,...j}=t,z=po(la,n),[W,G]=C.useState(null),[J,te]=C.useState(null),P=Dt(e,re=>G(re)),[N,D]=C.useState(null),[V,O]=C.useState(null),U=Lf(n),[R,ve]=C.useState(!1),ke=C.useRef(!1);C.useEffect(()=>{if(W)return LS(W)},[W]),NS();const ae=C.useCallback(re=>{const[pe,...Ae]=U().map(qe=>qe.ref.current),[je]=Ae.slice(-1),$e=document.activeElement;for(const qe of re)if(qe===$e||(qe?.scrollIntoView({block:"nearest"}),qe===pe&&J&&(J.scrollTop=0),qe===je&&J&&(J.scrollTop=J.scrollHeight),qe?.focus(),document.activeElement!==$e))return},[U,J]),X=C.useCallback(()=>ae([N,W]),[ae,N,W]);C.useEffect(()=>{R&&X()},[R,X]);const{onOpenChange:L,triggerPointerDownPosRef:ue}=z;C.useEffect(()=>{if(W){let re={x:0,y:0};const pe=je=>{re={x:Math.abs(Math.round(je.pageX)-(ue.current?.x??0)),y:Math.abs(Math.round(je.pageY)-(ue.current?.y??0))}},Ae=je=>{re.x<=10&&re.y<=10?je.preventDefault():W.contains(je.target)||L(!1),document.removeEventListener("pointermove",pe),ue.current=null};return ue.current!==null&&(document.addEventListener("pointermove",pe),document.addEventListener("pointerup",Ae,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",pe),document.removeEventListener("pointerup",Ae,{capture:!0})}}},[W,L,ue]),C.useEffect(()=>{const re=()=>L(!1);return window.addEventListener("blur",re),window.addEventListener("resize",re),()=>{window.removeEventListener("blur",re),window.removeEventListener("resize",re)}},[L]);const[ie,B]=mC(re=>{const pe=U().filter($e=>!$e.disabled),Ae=pe.find($e=>$e.ref.current===document.activeElement),je=gC(pe,re,Ae);je&&setTimeout(()=>je.ref.current.focus())}),Z=C.useCallback((re,pe,Ae)=>{const je=!ke.current&&!Ae;(z.value!==void 0&&z.value===pe||je)&&(D(re),je&&(ke.current=!0))},[z.value]),le=C.useCallback(()=>W?.focus(),[W]),fe=C.useCallback((re,pe,Ae)=>{const je=!ke.current&&!Ae;(z.value!==void 0&&z.value===pe||je)&&O(re)},[z.value]),ge=r==="popper"?Bg:tC,Ce=ge===Bg?{side:d,sideOffset:p,align:m,alignOffset:y,arrowPadding:v,collisionBoundary:x,collisionPadding:I,sticky:k,hideWhenDetached:S,avoidCollisions:b}:{};return u.jsx(ZI,{scope:n,content:W,viewport:J,onViewportChange:te,itemRefCallback:Z,selectedItem:N,onItemLeave:le,itemTextRefCallback:fe,focusSelectedItem:X,selectedItemText:V,position:r,isPositioned:R,searchRef:ie,children:u.jsx(sy,{as:_z,allowPinchZoom:!0,children:u.jsx(ny,{asChild:!0,trapped:z.open,onMountAutoFocus:re=>{re.preventDefault()},onUnmountAutoFocus:nt(i,re=>{z.trigger?.focus({preventScroll:!0}),re.preventDefault()}),children:u.jsx(ty,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:re=>re.preventDefault(),onDismiss:()=>z.onOpenChange(!1),children:u.jsx(ge,{role:"listbox",id:z.contentId,"data-state":z.open?"open":"closed",dir:z.dir,onContextMenu:re=>re.preventDefault(),...j,...Ce,onPlaced:()=>ve(!0),ref:P,style:{display:"flex",flexDirection:"column",outline:"none",...j.style},onKeyDown:nt(j.onKeyDown,re=>{const pe=re.ctrlKey||re.altKey||re.metaKey;if(re.key==="Tab"&&re.preventDefault(),!pe&&re.key.length===1&&B(re.key),["ArrowUp","ArrowDown","Home","End"].includes(re.key)){let je=U().filter($e=>!$e.disabled).map($e=>$e.ref.current);if(["ArrowUp","End"].includes(re.key)&&(je=je.slice().reverse()),["ArrowUp","ArrowDown"].includes(re.key)){const $e=re.target,qe=je.indexOf($e);je=je.slice(qe+1)}setTimeout(()=>ae(je)),re.preventDefault()}})})})})})})});eC.displayName=wz;var xz="SelectItemAlignedPosition",tC=C.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...i}=t,a=po(la,n),l=mo(la,n),[d,p]=C.useState(null),[m,y]=C.useState(null),v=Dt(e,P=>y(P)),x=Lf(n),I=C.useRef(!1),k=C.useRef(!0),{viewport:S,selectedItem:b,selectedItemText:j,focusSelectedItem:z}=l,W=C.useCallback(()=>{if(a.trigger&&a.valueNode&&d&&m&&S&&b&&j){const P=a.trigger.getBoundingClientRect(),N=m.getBoundingClientRect(),D=a.valueNode.getBoundingClientRect(),V=j.getBoundingClientRect();if(a.dir!=="rtl"){const $e=V.left-N.left,qe=D.left-$e,St=P.left-qe,Zt=P.width+St,Gr=Math.max(Zt,N.width),Gn=window.innerWidth-Lr,an=vE(qe,[Lr,Math.max(Lr,Gn-Gr)]);d.style.minWidth=Zt+"px",d.style.left=an+"px"}else{const $e=N.right-V.right,qe=window.innerWidth-D.right-$e,St=window.innerWidth-P.right-qe,Zt=P.width+St,Gr=Math.max(Zt,N.width),Gn=window.innerWidth-Lr,an=vE(qe,[Lr,Math.max(Lr,Gn-Gr)]);d.style.minWidth=Zt+"px",d.style.right=an+"px"}const O=x(),U=window.innerHeight-Lr*2,R=S.scrollHeight,ve=window.getComputedStyle(m),ke=parseInt(ve.borderTopWidth,10),ae=parseInt(ve.paddingTop,10),X=parseInt(ve.borderBottomWidth,10),L=parseInt(ve.paddingBottom,10),ue=ke+ae+R+L+X,ie=Math.min(b.offsetHeight*5,ue),B=window.getComputedStyle(S),Z=parseInt(B.paddingTop,10),le=parseInt(B.paddingBottom,10),fe=P.top+P.height/2-Lr,ge=U-fe,Ce=b.offsetHeight/2,re=b.offsetTop+Ce,pe=ke+ae+re,Ae=ue-pe;if(pe<=fe){const $e=O.length>0&&b===O[O.length-1].ref.current;d.style.bottom="0px";const qe=m.clientHeight-S.offsetTop-S.offsetHeight,St=Math.max(ge,Ce+($e?le:0)+qe+X),Zt=pe+St;d.style.height=Zt+"px"}else{const $e=O.length>0&&b===O[0].ref.current;d.style.top="0px";const St=Math.max(fe,ke+S.offsetTop+($e?Z:0)+Ce)+Ae;d.style.height=St+"px",S.scrollTop=pe-fe+S.offsetTop}d.style.margin=`${Lr}px 0`,d.style.minHeight=ie+"px",d.style.maxHeight=U+"px",r?.(),requestAnimationFrame(()=>I.current=!0)}},[x,a.trigger,a.valueNode,d,m,S,b,j,a.dir,r]);Cn(()=>W(),[W]);const[G,J]=C.useState();Cn(()=>{m&&J(window.getComputedStyle(m).zIndex)},[m]);const te=C.useCallback(P=>{P&&k.current===!0&&(W(),z?.(),k.current=!1)},[W,z]);return u.jsx(bz,{scope:n,contentWrapper:d,shouldExpandOnScrollRef:I,onScrollButtonChange:te,children:u.jsx("div",{ref:p,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:G},children:u.jsx(et.div,{...i,ref:v,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});tC.displayName=xz;var Ez="SelectPopperPosition",Bg=C.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=Lr,...a}=t,l=Vf(n);return u.jsx(oz,{...l,...a,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Bg.displayName=Ez;var[bz,Ay]=Ul(la,{}),$g="SelectViewport",nC=C.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...i}=t,a=mo($g,n),l=Ay($g,n),d=Dt(e,a.onViewportChange),p=C.useRef(0);return u.jsxs(u.Fragment,{children:[u.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),u.jsx(Of.Slot,{scope:n,children:u.jsx(et.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:d,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:nt(i.onScroll,m=>{const y=m.currentTarget,{contentWrapper:v,shouldExpandOnScrollRef:x}=l;if(x?.current&&v){const I=Math.abs(p.current-y.scrollTop);if(I>0){const k=window.innerHeight-Lr*2,S=parseFloat(v.style.minHeight),b=parseFloat(v.style.height),j=Math.max(S,b);if(j<k){const z=j+I,W=Math.min(k,z),G=z-W;v.style.height=W+"px",v.style.bottom==="0px"&&(y.scrollTop=G>0?G:0,v.style.justifyContent="flex-end")}}}p.current=y.scrollTop})})})]})});nC.displayName=$g;var rC="SelectGroup",[Tz,Sz]=Ul(rC),Iz=C.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=Xi();return u.jsx(Tz,{scope:n,id:i,children:u.jsx(et.div,{role:"group","aria-labelledby":i,...r,ref:e})})});Iz.displayName=rC;var sC="SelectLabel",Cz=C.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=Sz(sC,n);return u.jsx(et.div,{id:i.id,...r,ref:e})});Cz.displayName=sC;var Kh="SelectItem",[Nz,iC]=Ul(Kh),oC=C.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:a,...l}=t,d=po(Kh,n),p=mo(Kh,n),m=d.value===r,[y,v]=C.useState(a??""),[x,I]=C.useState(!1),k=Dt(e,z=>p.itemRefCallback?.(z,r,i)),S=Xi(),b=C.useRef("touch"),j=()=>{i||(d.onValueChange(r),d.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return u.jsx(Nz,{scope:n,value:r,disabled:i,textId:S,isSelected:m,onItemTextChange:C.useCallback(z=>{v(W=>W||(z?.textContent??"").trim())},[]),children:u.jsx(Of.ItemSlot,{scope:n,value:r,disabled:i,textValue:y,children:u.jsx(et.div,{role:"option","aria-labelledby":S,"data-highlighted":x?"":void 0,"aria-selected":m&&x,"data-state":m?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...l,ref:k,onFocus:nt(l.onFocus,()=>I(!0)),onBlur:nt(l.onBlur,()=>I(!1)),onClick:nt(l.onClick,()=>{b.current!=="mouse"&&j()}),onPointerUp:nt(l.onPointerUp,()=>{b.current==="mouse"&&j()}),onPointerDown:nt(l.onPointerDown,z=>{b.current=z.pointerType}),onPointerMove:nt(l.onPointerMove,z=>{b.current=z.pointerType,i?p.onItemLeave?.():b.current==="mouse"&&z.currentTarget.focus({preventScroll:!0})}),onPointerLeave:nt(l.onPointerLeave,z=>{z.currentTarget===document.activeElement&&p.onItemLeave?.()}),onKeyDown:nt(l.onKeyDown,z=>{p.searchRef?.current!==""&&z.key===" "||(hz.includes(z.key)&&j(),z.key===" "&&z.preventDefault())})})})})});oC.displayName=Kh;var Vc="SelectItemText",aC=C.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,...a}=t,l=po(Vc,n),d=mo(Vc,n),p=iC(Vc,n),m=gz(Vc,n),[y,v]=C.useState(null),x=Dt(e,j=>v(j),p.onItemTextChange,j=>d.itemTextRefCallback?.(j,p.value,p.disabled)),I=y?.textContent,k=C.useMemo(()=>u.jsx("option",{value:p.value,disabled:p.disabled,children:I},p.value),[p.disabled,p.value,I]),{onNativeOptionAdd:S,onNativeOptionRemove:b}=m;return Cn(()=>(S(k),()=>b(k)),[S,b,k]),u.jsxs(u.Fragment,{children:[u.jsx(et.span,{id:p.textId,...a,ref:x}),p.isSelected&&l.valueNode&&!l.valueNodeHasChildren?xu.createPortal(a.children,l.valueNode):null]})});aC.displayName=Vc;var lC="SelectItemIndicator",cC=C.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return iC(lC,n).isSelected?u.jsx(et.span,{"aria-hidden":!0,...r,ref:e}):null});cC.displayName=lC;var Wg="SelectScrollUpButton",uC=C.forwardRef((t,e)=>{const n=mo(Wg,t.__scopeSelect),r=Ay(Wg,t.__scopeSelect),[i,a]=C.useState(!1),l=Dt(e,r.onScrollButtonChange);return Cn(()=>{if(n.viewport&&n.isPositioned){let d=function(){const m=p.scrollTop>0;a(m)};const p=n.viewport;return d(),p.addEventListener("scroll",d),()=>p.removeEventListener("scroll",d)}},[n.viewport,n.isPositioned]),i?u.jsx(hC,{...t,ref:l,onAutoScroll:()=>{const{viewport:d,selectedItem:p}=n;d&&p&&(d.scrollTop=d.scrollTop-p.offsetHeight)}}):null});uC.displayName=Wg;var Hg="SelectScrollDownButton",dC=C.forwardRef((t,e)=>{const n=mo(Hg,t.__scopeSelect),r=Ay(Hg,t.__scopeSelect),[i,a]=C.useState(!1),l=Dt(e,r.onScrollButtonChange);return Cn(()=>{if(n.viewport&&n.isPositioned){let d=function(){const m=p.scrollHeight-p.clientHeight,y=Math.ceil(p.scrollTop)<m;a(y)};const p=n.viewport;return d(),p.addEventListener("scroll",d),()=>p.removeEventListener("scroll",d)}},[n.viewport,n.isPositioned]),i?u.jsx(hC,{...t,ref:l,onAutoScroll:()=>{const{viewport:d,selectedItem:p}=n;d&&p&&(d.scrollTop=d.scrollTop+p.offsetHeight)}}):null});dC.displayName=Hg;var hC=C.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=t,a=mo("SelectScrollButton",n),l=C.useRef(null),d=Lf(n),p=C.useCallback(()=>{l.current!==null&&(window.clearInterval(l.current),l.current=null)},[]);return C.useEffect(()=>()=>p(),[p]),Cn(()=>{d().find(y=>y.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[d]),u.jsx(et.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:nt(i.onPointerDown,()=>{l.current===null&&(l.current=window.setInterval(r,50))}),onPointerMove:nt(i.onPointerMove,()=>{a.onItemLeave?.(),l.current===null&&(l.current=window.setInterval(r,50))}),onPointerLeave:nt(i.onPointerLeave,()=>{p()})})}),kz="SelectSeparator",Az=C.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return u.jsx(et.div,{"aria-hidden":!0,...r,ref:e})});Az.displayName=kz;var qg="SelectArrow",Pz=C.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=Vf(n),a=po(qg,n),l=mo(qg,n);return a.open&&l.position==="popper"?u.jsx(az,{...i,...r,ref:e}):null});Pz.displayName=qg;var Rz="SelectBubbleInput",fC=C.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const i=C.useRef(null),a=Dt(r,i),l=lz(e);return C.useEffect(()=>{const d=i.current;if(!d)return;const p=window.HTMLSelectElement.prototype,y=Object.getOwnPropertyDescriptor(p,"value").set;if(l!==e&&y){const v=new Event("change",{bubbles:!0});y.call(d,e),d.dispatchEvent(v)}},[l,e]),u.jsx(et.select,{...n,style:{...WI,...n.style},ref:a,defaultValue:e})});fC.displayName=Rz;function pC(t){return t===""||t===void 0}function mC(t){const e=so(t),n=C.useRef(""),r=C.useRef(0),i=C.useCallback(l=>{const d=n.current+l;e(d),(function p(m){n.current=m,window.clearTimeout(r.current),m!==""&&(r.current=window.setTimeout(()=>p(""),1e3))})(d)},[e]),a=C.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return C.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,a]}function gC(t,e,n){const i=e.length>1&&Array.from(e).every(m=>m===e[0])?e[0]:e,a=n?t.indexOf(n):-1;let l=Dz(t,Math.max(a,0));i.length===1&&(l=l.filter(m=>m!==n));const p=l.find(m=>m.textValue.toLowerCase().startsWith(i.toLowerCase()));return p!==n?p:void 0}function Dz(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var jz=HI,Mz=KI,Oz=YI,Lz=QI,Vz=XI,Fz=JI,Uz=nC,zz=oC,Bz=aC,$z=cC,Wz=uC,Hz=dC;function vC({...t}){return u.jsx(jz,{"data-slot":"select",...t})}function yC({...t}){return u.jsx(Oz,{"data-slot":"select-value",...t})}function wC({className:t,size:e="default",children:n,...r}){return u.jsxs(Mz,{"data-slot":"select-trigger","data-size":e,className:at("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border bg-input-background px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...r,children:[n,u.jsx(Lz,{asChild:!0,children:u.jsx(FT,{className:"size-4 opacity-50"})})]})}function _C({className:t,children:e,position:n="popper",...r}){return u.jsx(Vz,{children:u.jsxs(Fz,{"data-slot":"select-content",className:at("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[u.jsx(qz,{}),u.jsx(Uz,{className:at("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:e}),u.jsx(Kz,{})]})})}function mh({className:t,children:e,...n}){return u.jsxs(zz,{"data-slot":"select-item",className:at("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",t),...n,children:[u.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:u.jsx($z,{children:u.jsx(T4,{className:"size-4"})})}),u.jsx(Bz,{children:e})]})}function qz({className:t,...e}){return u.jsx(Wz,{"data-slot":"select-scroll-up-button",className:at("flex cursor-default items-center justify-center py-1",t),...e,children:u.jsx(P4,{className:"size-4"})})}function Kz({className:t,...e}){return u.jsx(Hz,{"data-slot":"select-scroll-down-button",className:at("flex cursor-default items-center justify-center py-1",t),...e,children:u.jsx(FT,{className:"size-4"})})}const Gz=["Braiding","Manicure","Pedicure","Makeup","Skincare","Waxing","Facials","Lashes","Massages"],Yz=()=>{const{user:t,logout:e}=js(),[n,r]=C.useState("overview"),[i,a]=C.useState(!1),[l,d]=C.useState([]),[p,m]=C.useState([]),[y,v]=C.useState({title:"",description:"",price:"",duration:"",category:""});C.useEffect(()=>{if(!t)return;const b=Kv(z=>{const W=z.filter(G=>G.providerId===t.id);d(W)}),j=jT(z=>{const W=z.filter(G=>G.providerId===t.id);m(W)});return()=>{b(),j()}},[t]);const x=p.filter(b=>b.startAt.toDateString()===new Date().toDateString()),I={totalRevenue:12850,totalBookings:48,activeServices:l.filter(b=>b.published).length,rating:4.8,totalReviews:124},k=async()=>{if(!t||!y.title||!y.price||!y.duration||!y.category){pt.error("Please fill all required fields");return}try{const b={providerId:t.id,providerName:t.name,title:y.title,description:y.description,price:parseFloat(y.price),duration:parseInt(y.duration),category:y.category,published:!0,images:[]};await KO(b),a(!1),v({title:"",description:"",price:"",duration:"",category:""}),pt.success("Service added successfully")}catch{pt.error("Failed to add service")}},S=async b=>{const j=l.find(z=>z.id===b);if(j)try{await GO(b,{published:!j.published}),pt.success("Service status updated")}catch{pt.error("Failed to update service status")}};return u.jsxs("div",{className:"min-h-screen bg-zinc-50",children:[u.jsx("header",{className:"bg-white border-b sticky top-0 z-40",children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 h-16 flex items-center justify-between",children:[u.jsx(_u,{size:"md"}),u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx(Vt,{variant:"secondary",children:"Provider"}),u.jsx(_e,{variant:"ghost",size:"sm",onClick:e,children:"Logout"})]})]})}),u.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-6",children:[u.jsxs("div",{className:"mb-6",children:[u.jsx("h1",{className:"text-2xl mb-2",children:"Provider Dashboard"}),u.jsx("p",{className:"text-zinc-600",children:"Manage your services and bookings"})]}),u.jsxs(Tu,{value:n,onValueChange:r,children:[u.jsxs(Su,{className:"mb-6",children:[u.jsx(pn,{value:"overview",children:"Overview"}),u.jsx(pn,{value:"services",children:"Services"}),u.jsx(pn,{value:"bookings",children:"Bookings"}),u.jsx(pn,{value:"products",children:"Products"})]}),u.jsxs(mn,{value:"overview",className:"space-y-6",children:[u.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-4",children:[u.jsx(Ge,{children:u.jsxs(Ye,{className:"p-4",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("span",{className:"text-sm text-zinc-600",children:"Total Revenue"}),u.jsx(UT,{className:"h-4 w-4 text-green-600"})]}),u.jsxs("div",{className:"text-2xl",children:["R",I.totalRevenue]}),u.jsx("p",{className:"text-xs text-green-600 mt-1",children:"+12% this month"})]})}),u.jsx(Ge,{children:u.jsxs(Ye,{className:"p-4",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("span",{className:"text-sm text-zinc-600",children:"Total Bookings"}),u.jsx(Go,{className:"h-4 w-4 text-purple-600"})]}),u.jsx("div",{className:"text-2xl",children:I.totalBookings}),u.jsx("p",{className:"text-xs text-zinc-600 mt-1",children:"All time"})]})}),u.jsx(Ge,{children:u.jsxs(Ye,{className:"p-4",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("span",{className:"text-sm text-zinc-600",children:"Active Services"}),u.jsx(X4,{className:"h-4 w-4 text-blue-600"})]}),u.jsx("div",{className:"text-2xl",children:I.activeServices}),u.jsx("p",{className:"text-xs text-zinc-600 mt-1",children:"Published"})]})}),u.jsx(Ge,{children:u.jsxs(Ye,{className:"p-4",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("span",{className:"text-sm text-zinc-600",children:"Rating"}),u.jsx(Cf,{className:"h-4 w-4 text-yellow-600"})]}),u.jsx("div",{className:"text-2xl",children:I.rating}),u.jsxs("p",{className:"text-xs text-zinc-600 mt-1",children:[I.totalReviews," reviews"]})]})})]}),u.jsxs(Ge,{children:[u.jsx(na,{children:u.jsx(ra,{children:"Today's Appointments"})}),u.jsx(Ye,{children:x.length>0?u.jsx("div",{className:"space-y-3",children:x.map(b=>u.jsxs("div",{className:"flex items-center justify-between p-3 bg-zinc-50 rounded-lg",children:[u.jsxs("div",{children:[u.jsx("div",{className:"mb-1",children:b.serviceName}),u.jsx("div",{className:"text-sm text-zinc-600",children:b.customerName})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("div",{className:"mb-1",children:b.startAt.toLocaleTimeString("en-ZA",{hour:"2-digit",minute:"2-digit"})}),u.jsx(Vt,{variant:"secondary",children:b.status})]})]},b.id))}):u.jsx("p",{className:"text-center text-zinc-500 py-8",children:"No appointments today"})})]})]}),u.jsxs(mn,{value:"services",className:"space-y-4",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-xl mb-1",children:"Your Services"}),u.jsxs("p",{className:"text-sm text-zinc-600",children:[l.length," total services"]})]}),u.jsxs(_e,{onClick:()=>a(!0),children:[u.jsx(Vh,{className:"h-4 w-4 mr-2"}),"Add Service"]})]}),u.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:l.map(b=>u.jsx(Ge,{children:u.jsxs(Ye,{className:"p-4",children:[u.jsxs("div",{className:"flex items-start justify-between mb-3",children:[u.jsx(Vt,{children:b.category}),u.jsx(Vt,{variant:b.published?"default":"secondary",children:b.published?"Published":"Draft"})]}),u.jsx("h3",{className:"mb-2",children:b.title}),u.jsx("p",{className:"text-sm text-zinc-600 mb-3 line-clamp-2",children:b.description}),u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsxs("span",{className:"text-purple-600",children:["R",b.price]}),u.jsxs("span",{className:"text-sm text-zinc-600",children:[b.duration,"min"]})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(_e,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>S(b.id),children:b.published?"Unpublish":"Publish"}),u.jsx(_e,{variant:"outline",size:"sm",className:"flex-1",children:"Edit"})]})]})},b.id))})]}),u.jsxs(mn,{value:"bookings",className:"space-y-4",children:[u.jsx("h2",{className:"text-xl",children:"All Bookings"}),u.jsx("div",{className:"space-y-3",children:p.map(b=>u.jsx(Ge,{children:u.jsx(Ye,{className:"p-4",children:u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"mb-1",children:b.serviceName}),u.jsx("p",{className:"text-sm text-zinc-600 mb-2",children:b.customerName}),u.jsxs("div",{className:"flex items-center gap-4 text-sm text-zinc-600",children:[u.jsx("span",{children:b.startAt.toLocaleDateString("en-ZA")}),u.jsx("span",{children:b.startAt.toLocaleTimeString("en-ZA",{hour:"2-digit",minute:"2-digit"})})]})]}),u.jsxs("div",{className:"text-right",children:[u.jsxs("div",{className:"text-purple-600 mb-2",children:["R",b.price]}),u.jsx(Vt,{variant:b.status==="confirmed"?"default":"secondary",children:b.status})]})]})})},b.id))})]}),u.jsxs(mn,{value:"products",className:"space-y-4",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("h2",{className:"text-xl",children:"Your Products"}),u.jsxs(_e,{children:[u.jsx(Vh,{className:"h-4 w-4 mr-2"}),"Add Product"]})]}),u.jsx("div",{className:"text-center py-12 text-zinc-500",children:"No products yet. Start selling beauty products to your customers."})]})]})]}),u.jsx(jl,{open:i,onOpenChange:a,children:u.jsxs(Ml,{className:"max-w-lg",children:[u.jsx(Ol,{children:u.jsx(Ll,{children:"Add New Service"})}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx(kt,{htmlFor:"title",children:"Service Title *"}),u.jsx(gt,{id:"title",value:y.title,onChange:b=>v({...y,title:b.target.value}),placeholder:"e.g., Box Braids - Full Head"})]}),u.jsxs("div",{children:[u.jsx(kt,{htmlFor:"category",children:"Category *"}),u.jsxs(vC,{value:y.category,onValueChange:b=>v({...y,category:b}),children:[u.jsx(wC,{children:u.jsx(yC,{placeholder:"Select category"})}),u.jsx(_C,{children:Gz.map(b=>u.jsx(mh,{value:b,children:b},b))})]})]}),u.jsxs("div",{children:[u.jsx(kt,{htmlFor:"description",children:"Description"}),u.jsx(xI,{id:"description",value:y.description,onChange:b=>v({...y,description:b.target.value}),placeholder:"Describe your service...",rows:3})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx(kt,{htmlFor:"price",children:"Price (R) *"}),u.jsx(gt,{id:"price",type:"number",value:y.price,onChange:b=>v({...y,price:b.target.value}),placeholder:"0"})]}),u.jsxs("div",{children:[u.jsx(kt,{htmlFor:"duration",children:"Duration (min) *"}),u.jsx(gt,{id:"duration",type:"number",value:y.duration,onChange:b=>v({...y,duration:b.target.value}),placeholder:"0"})]})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(_e,{variant:"outline",className:"flex-1",onClick:()=>a(!1),children:"Cancel"}),u.jsx(_e,{className:"flex-1",onClick:k,children:"Add Service"})]})]})]})})]})},Qz=()=>{const{logout:t}=js(),[e,n]=C.useState("overview"),[r,i]=C.useState(!1),[a,l]=C.useState(""),[d,p]=C.useState("all"),[m,y]=C.useState([]);C.useEffect(()=>{const b=Gv(j=>{y(j)});return()=>b()},[]);const v={totalUsers:1248,activeProviders:48,totalBookings:892,totalRevenue:145230,emergencyIncidents:m.length,activeIncidents:m.filter(b=>b.status!=="resolved").length},x=[{id:"1",name:"Sarah Johnson",email:"sarah@example.com",role:"customer",status:"active"},{id:"2",name:"Beauty by Thandi",email:"thandi@example.com",role:"provider",status:"pending"},{id:"3",name:"John Doe",email:"john@example.com",role:"customer",status:"active"}],I=async()=>{if(!a.trim()){pt.error("Please enter a message");return}try{await d4("Your Look Beauty Platform",a,[]),pt.success(`Broadcast sent to ${d==="all"?"all users":d}`),l(""),i(!1)}catch{pt.error("Failed to send broadcast")}},k=b=>{pt.success("Provider approved")},S=b=>{pt.success("User suspended")};return u.jsxs("div",{className:"min-h-screen bg-zinc-50",children:[u.jsx("header",{className:"bg-white border-b sticky top-0 z-40",children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 h-16 flex items-center justify-between",children:[u.jsx(_u,{size:"md"}),u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx(Vt,{variant:"destructive",children:"Admin"}),u.jsx(_e,{variant:"ghost",size:"sm",onClick:t,children:"Logout"})]})]})}),u.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl mb-2",children:"Admin Dashboard"}),u.jsx("p",{className:"text-zinc-600",children:"Platform overview and management"})]}),u.jsxs(_e,{onClick:()=>i(!0),children:[u.jsx(Cg,{className:"h-4 w-4 mr-2"}),"Send Broadcast"]})]}),u.jsxs(Tu,{value:e,onValueChange:n,children:[u.jsxs(Su,{className:"mb-6",children:[u.jsx(pn,{value:"overview",children:"Overview"}),u.jsx(pn,{value:"users",children:"Users"}),u.jsx(pn,{value:"bookings",children:"Bookings"}),u.jsxs(pn,{value:"emergency",children:["Emergency",v.activeIncidents>0&&u.jsx(Vt,{variant:"destructive",className:"ml-2 h-5 w-5 p-0 flex items-center justify-center text-xs",children:v.activeIncidents})]})]}),u.jsxs(mn,{value:"overview",className:"space-y-6",children:[u.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-4",children:[u.jsx(Ge,{children:u.jsxs(Ye,{className:"p-4",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("span",{className:"text-sm text-zinc-600",children:"Total Users"}),u.jsx(gL,{className:"h-4 w-4 text-blue-600"})]}),u.jsx("div",{className:"text-2xl",children:v.totalUsers}),u.jsx("p",{className:"text-xs text-green-600 mt-1",children:"+18% this month"})]})}),u.jsx(Ge,{children:u.jsxs(Ye,{className:"p-4",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("span",{className:"text-sm text-zinc-600",children:"Active Providers"}),u.jsx(Rm,{className:"h-4 w-4 text-purple-600"})]}),u.jsx("div",{className:"text-2xl",children:v.activeProviders}),u.jsx("p",{className:"text-xs text-zinc-600 mt-1",children:"Approved"})]})}),u.jsx(Ge,{children:u.jsxs(Ye,{className:"p-4",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("span",{className:"text-sm text-zinc-600",children:"Total Revenue"}),u.jsx(UT,{className:"h-4 w-4 text-green-600"})]}),u.jsxs("div",{className:"text-2xl",children:["R",v.totalRevenue.toLocaleString()]}),u.jsx("p",{className:"text-xs text-green-600 mt-1",children:"+24% this month"})]})}),u.jsx(Ge,{children:u.jsxs(Ye,{className:"p-4",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("span",{className:"text-sm text-zinc-600",children:"GBV Incidents"}),u.jsx(Ng,{className:"h-4 w-4 text-red-600"})]}),u.jsx("div",{className:"text-2xl",children:v.emergencyIncidents}),u.jsxs("p",{className:"text-xs text-red-600 mt-1",children:[v.activeIncidents," active"]})]})})]}),u.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[u.jsxs(Ge,{children:[u.jsx(na,{children:u.jsx(ra,{children:"Revenue Trend"})}),u.jsx(Ye,{children:u.jsx("div",{className:"h-64 flex items-center justify-center bg-zinc-50 rounded",children:u.jsx(BT,{className:"h-12 w-12 text-zinc-300"})})})]}),u.jsxs(Ge,{children:[u.jsx(na,{children:u.jsx(ra,{children:"Booking Activity"})}),u.jsx(Ye,{children:u.jsx("div",{className:"h-64 flex items-center justify-center bg-zinc-50 rounded",children:u.jsx(Rm,{className:"h-12 w-12 text-zinc-300"})})})]})]})]}),u.jsxs(mn,{value:"users",className:"space-y-4",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("h2",{className:"text-xl",children:"User Management"}),u.jsxs("div",{className:"text-sm text-zinc-600",children:[v.totalUsers," total users"]})]}),u.jsx("div",{className:"space-y-3",children:x.map(b=>u.jsx(Ge,{children:u.jsx(Ye,{className:"p-4",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[u.jsx("h3",{children:b.name}),u.jsx(Vt,{variant:b.role==="provider"?"secondary":"outline",children:b.role}),u.jsx(Vt,{variant:b.status==="pending"?"destructive":"default",children:b.status})]}),u.jsx("p",{className:"text-sm text-zinc-600",children:b.email})]}),u.jsxs("div",{className:"flex gap-2",children:[b.status==="pending"&&u.jsx(_e,{size:"sm",onClick:()=>k(b.id),children:"Approve"}),u.jsx(_e,{variant:"outline",size:"sm",onClick:()=>S(b.id),children:"Suspend"})]})]})})},b.id))})]}),u.jsxs(mn,{value:"bookings",className:"space-y-4",children:[u.jsx("h2",{className:"text-xl",children:"All Bookings"}),u.jsx(Ge,{children:u.jsxs(Ye,{className:"p-8 text-center",children:[u.jsx(Rm,{className:"h-12 w-12 text-zinc-300 mx-auto mb-3"}),u.jsxs("p",{className:"text-zinc-500",children:[v.totalBookings," total bookings"]}),u.jsx(_e,{variant:"outline",size:"sm",className:"mt-4",children:"View All"})]})})]}),u.jsxs(mn,{value:"emergency",className:"space-y-4",children:[u.jsx("div",{className:"flex justify-between items-center",children:u.jsxs("div",{children:[u.jsx("h2",{className:"text-xl mb-1",children:"Emergency Incidents"}),u.jsxs("p",{className:"text-sm text-zinc-600",children:[v.activeIncidents," active  ",v.emergencyIncidents," total"]})]})}),u.jsx("div",{className:"space-y-3",children:m.map(b=>u.jsx(Ge,{className:b.status==="active"?"border-red-500":"",children:u.jsx(Ye,{className:"p-4",children:u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[u.jsx(su,{className:"h-5 w-5 text-red-600"}),u.jsxs("h3",{children:["Incident #",b.id]}),u.jsx(Vt,{variant:b.status==="resolved"?"outline":"destructive",children:b.status})]}),u.jsxs("div",{className:"space-y-1 text-sm text-zinc-600",children:[u.jsxs("div",{children:["User: ",b.userName]}),u.jsxs("div",{children:["Location: ",b.location.address]}),u.jsxs("div",{children:["Time: ",b.createdAt.toLocaleString("en-ZA")]}),b.responders.length>0&&u.jsxs("div",{children:["Responders: ",b.responders.length," assigned"]})]})]}),u.jsx(_e,{variant:"outline",size:"sm",children:"View Details"})]})})},b.id))})]})]})]}),u.jsx(jl,{open:r,onOpenChange:i,children:u.jsxs(Ml,{className:"max-w-lg",children:[u.jsx(Ol,{children:u.jsx(Ll,{children:"Send Broadcast Message"})}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx(kt,{htmlFor:"target",children:"Target Audience"}),u.jsxs(vC,{value:d,onValueChange:p,children:[u.jsx(wC,{children:u.jsx(yC,{})}),u.jsxs(_C,{children:[u.jsx(mh,{value:"all",children:"All Users"}),u.jsx(mh,{value:"customers",children:"Customers Only"}),u.jsx(mh,{value:"providers",children:"Providers Only"})]})]})]}),u.jsxs("div",{children:[u.jsx(kt,{htmlFor:"message",children:"Message"}),u.jsx(xI,{id:"message",value:a,onChange:b=>l(b.target.value),placeholder:"Enter your broadcast message...",rows:5})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(_e,{variant:"outline",className:"flex-1",onClick:()=>i(!1),children:"Cancel"}),u.jsxs(_e,{className:"flex-1",onClick:I,children:[u.jsx(Cg,{className:"h-4 w-4 mr-2"}),"Send Broadcast"]})]})]})]})})]})},Xz=()=>{const{logout:t}=js(),[e,n]=C.useState([]),[r,i]=C.useState(null),[a,l]=C.useState(""),[d,p]=C.useState(!1);C.useEffect(()=>{const k=Gv(S=>{n(S),S.some(j=>j.status==="active")&&!d&&(p(!0),navigator.vibrate&&navigator.vibrate([500,200,500,200,500]),pt.error(" NEW EMERGENCY ALERT",{duration:1e4}))});return()=>k()},[d]),C.useEffect(()=>{const k=setTimeout(()=>{p(!0),navigator.vibrate&&navigator.vibrate([500,200,500,200,500]),pt.error(" NEW EMERGENCY ALERT",{duration:1e4})},5e3);return()=>clearTimeout(k)},[]);const m=e.filter(k=>k.status!=="resolved"),y=e.filter(k=>k.status==="resolved"),v=async k=>{try{await Hc(k.id,{status:"acknowledged"}),i({...k,status:"acknowledged"}),p(!1),pt.success("Incident acknowledged")}catch{pt.error("Failed to acknowledge incident")}},x=async(k,S)=>{try{await Hc(k,{status:S}),r?.id===k&&i({...r,status:S}),pt.success(`Incident marked as ${S}`)}catch{pt.error("Failed to update incident status")}},I=async()=>{if(!r||!a.trim())return;const k={id:`msg-${Date.now()}`,senderId:"responder",senderName:"Responder",message:a,timestamp:new Date};try{const S=[...r.messages,k];await Hc(r.id,{messages:S}),i({...r,messages:S}),l(""),pt.success("Message sent")}catch{pt.error("Failed to send message")}};return u.jsxs("div",{className:"min-h-screen bg-zinc-900 text-white",children:[u.jsx("header",{className:`border-b sticky top-0 z-40 transition-colors ${d?"bg-red-600 animate-pulse":"bg-zinc-800 border-zinc-700"}`,children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 h-16 flex items-center justify-between",children:[u.jsx(_u,{size:"md"}),u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx(Vt,{variant:"destructive",children:"Emergency Response"}),m.length>0&&u.jsxs(Vt,{variant:"destructive",className:"animate-pulse",children:[m.length," Active"]}),u.jsx(_e,{variant:"ghost",size:"sm",onClick:t,className:"text-white hover:bg-zinc-700",children:"Logout"})]})]})}),u.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-6",children:[u.jsxs("div",{className:"mb-6",children:[u.jsx("h1",{className:"text-2xl mb-2",children:"Emergency Response Center"}),u.jsx("p",{className:"text-zinc-400",children:"Monitor and respond to safety incidents"})]}),u.jsxs(Tu,{defaultValue:"active",className:"space-y-6",children:[u.jsxs(Su,{className:"bg-zinc-800",children:[u.jsxs(pn,{value:"active",className:"data-[state=active]:bg-red-600",children:["Active Incidents (",m.length,")"]}),u.jsx(pn,{value:"map",children:"Map View"}),u.jsxs(pn,{value:"resolved",children:["Resolved (",y.length,")"]})]}),u.jsx(mn,{value:"active",className:"space-y-4",children:m.length>0?m.map(k=>u.jsx(Ge,{className:`bg-zinc-800 border-zinc-700 cursor-pointer transition-all ${k.status==="active"?"border-red-500 border-2":""}`,onClick:()=>i(k),children:u.jsx(Ye,{className:"p-6",children:u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{className:"flex items-start gap-4 flex-1",children:[u.jsx("div",{className:`p-3 rounded-lg ${k.status==="active"?"bg-red-600":"bg-orange-600"}`,children:u.jsx(Ng,{className:"h-6 w-6"})}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[u.jsxs("h3",{className:"text-lg",children:["Incident #",k.id]}),u.jsx(Vt,{variant:k.status==="active"?"destructive":"secondary",children:k.status})]}),u.jsxs("div",{className:"space-y-2 text-sm text-zinc-400",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(qo,{className:"h-4 w-4"}),u.jsx("span",{children:k.location.address})]}),u.jsxs("div",{children:["Time: ",k.createdAt.toLocaleString("en-ZA")]}),k.hasLiveChat&&u.jsxs("div",{className:"flex items-center gap-2 text-green-400",children:[u.jsx(Vx,{className:"h-4 w-4"}),u.jsx("span",{children:"Live chat available"})]})]})]})]}),u.jsxs("div",{className:"flex gap-2",children:[k.status==="active"&&u.jsx(_e,{onClick:S=>{S.stopPropagation(),v(k)},variant:"destructive",children:"Acknowledge"}),u.jsx(_e,{variant:"outline",className:"text-white border-zinc-600",children:"View Details"})]})]})})},k.id)):u.jsx(Ge,{className:"bg-zinc-800 border-zinc-700",children:u.jsxs(Ye,{className:"p-12 text-center",children:[u.jsx(su,{className:"h-12 w-12 text-zinc-600 mx-auto mb-3"}),u.jsx("p",{className:"text-zinc-400",children:"No active incidents"})]})})}),u.jsx(mn,{value:"map",children:u.jsxs(Ge,{className:"bg-zinc-800 border-zinc-700",children:[u.jsx(na,{children:u.jsx(ra,{className:"text-white",children:"Live Incident Map"})}),u.jsx(Ye,{children:u.jsx("div",{className:"h-96 bg-zinc-900 rounded-lg flex items-center justify-center border border-zinc-700",children:u.jsxs("div",{className:"text-center",children:[u.jsx(qo,{className:"h-12 w-12 text-zinc-600 mx-auto mb-3"}),u.jsx("p",{className:"text-zinc-500",children:"Map integration would show here"}),u.jsxs("p",{className:"text-sm text-zinc-600 mt-2",children:[m.length," active incident",m.length!==1?"s":""," on map"]})]})})})]})}),u.jsx(mn,{value:"resolved",className:"space-y-4",children:y.map(k=>u.jsx(Ge,{className:"bg-zinc-800 border-zinc-700",children:u.jsx(Ye,{className:"p-4",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx(D4,{className:"h-6 w-6 text-green-500"}),u.jsxs("div",{children:[u.jsxs("h3",{className:"mb-1",children:["Incident #",k.id]}),u.jsxs("div",{className:"text-sm text-zinc-400",children:[k.location.address,"  ",k.createdAt.toLocaleDateString("en-ZA")]})]})]}),u.jsx(Vt,{variant:"outline",className:"text-green-500 border-green-500",children:"Resolved"})]})})},k.id))})]})]}),u.jsx(jl,{open:!!r,onOpenChange:()=>i(null),children:u.jsxs(Ml,{className:"max-w-2xl bg-zinc-900 text-white border-zinc-700",children:[u.jsx(Ol,{children:u.jsxs(Ll,{className:"flex items-center gap-3",children:[u.jsx(Ng,{className:"h-6 w-6 text-red-500"}),"Incident #",r?.id]})}),r&&u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("span",{className:"text-zinc-400",children:"Status:"}),u.jsx(Vt,{variant:r.status==="active"?"destructive":"secondary",children:r.status}),u.jsx("div",{className:"flex-1"}),u.jsx("div",{className:"flex gap-2",children:r.status!=="resolved"&&u.jsxs(u.Fragment,{children:[u.jsx(_e,{size:"sm",variant:"outline",className:"text-white border-zinc-600",onClick:()=>x(r.id,"in-progress"),children:"Mark In Progress"}),u.jsx(_e,{size:"sm",onClick:()=>x(r.id,"resolved"),children:"Mark Resolved"})]})})]}),u.jsx(Ge,{className:"bg-zinc-800 border-zinc-700",children:u.jsx(Ye,{className:"p-4",children:u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx(qo,{className:"h-5 w-5 text-green-500 mt-0.5"}),u.jsxs("div",{children:[u.jsx("div",{className:"text-sm text-zinc-400 mb-1",children:"Live Location"}),u.jsx("div",{children:r.location.address}),u.jsxs("div",{className:"text-sm text-zinc-500 mt-1",children:["Lat: ",r.location.lat,", Lng: ",r.location.lng]})]}),u.jsxs(_e,{size:"sm",variant:"outline",className:"ml-auto text-white border-zinc-600",children:[u.jsx(qo,{className:"h-4 w-4 mr-2"}),"Open in Maps"]})]})})}),u.jsxs("div",{className:"space-y-3",children:[u.jsx("div",{className:"flex gap-2",children:u.jsxs(_e,{className:"flex-1 bg-green-600 hover:bg-green-700",children:[u.jsx(Xv,{className:"h-4 w-4 mr-2"}),"Start Voice Call"]})}),r.hasLiveChat&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"bg-zinc-800 rounded-lg p-4 max-h-64 overflow-y-auto space-y-3",children:r.messages.map(k=>u.jsxs("div",{className:`p-3 rounded-lg ${k.senderId==="responder"?"bg-blue-600 ml-12":"bg-zinc-700 mr-12"}`,children:[u.jsx("div",{className:"text-xs text-zinc-300 mb-1",children:k.senderName}),u.jsx("div",{className:"text-sm",children:k.message})]},k.id))}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(gt,{value:a,onChange:k=>l(k.target.value),onKeyPress:k=>k.key==="Enter"&&I(),placeholder:"Type a message...",className:"bg-zinc-800 border-zinc-700 text-white"}),u.jsx(_e,{onClick:I,children:u.jsx(Vx,{className:"h-4 w-4"})})]})]})]})]})]})})]})},Jz=()=>{const{activeIncident:t,deactivateEmergency:e,sendMessage:n}=Qv(),[r,i]=C.useState(""),[a,l]=C.useState(!1);if(!t)return null;const d=()=>{r.trim()&&(n(r),i(""))};return u.jsxs("div",{className:"fixed inset-0 bg-black/95 z-50 flex items-end",children:[u.jsx("div",{className:"absolute top-4 right-4 w-3 h-3 bg-red-500 rounded-full animate-pulse"}),u.jsx(Ge,{className:"w-full max-w-lg mx-auto mb-4 mx-4 bg-zinc-900 border-zinc-800",children:u.jsxs("div",{className:"p-4 space-y-4",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full animate-pulse"}),u.jsx("span",{className:"text-sm text-zinc-400",children:"Emergency Active"})]}),u.jsx(_e,{variant:"ghost",size:"sm",onClick:e,className:"text-zinc-400 hover:text-white",children:u.jsx(WT,{className:"h-4 w-4"})})]}),u.jsxs("div",{className:"flex items-start gap-2 text-sm",children:[u.jsx(qo,{className:"h-4 w-4 text-green-500 mt-0.5"}),u.jsxs("div",{children:[u.jsx("div",{className:"text-white",children:"Location Shared"}),u.jsx("div",{className:"text-zinc-500 text-xs",children:t.location.address})]})]}),u.jsx("div",{className:"flex gap-2",children:u.jsxs(_e,{onClick:()=>l(!a),variant:a?"destructive":"secondary",className:"flex-1",children:[u.jsx(Xv,{className:"h-4 w-4 mr-2"}),a?"End Voice":"Start Voice"]})}),t.hasLiveChat&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:t.messages.map(p=>u.jsxs("div",{className:`p-2 rounded text-sm ${p.senderId==="current-user-id"?"bg-purple-600 text-white ml-8":"bg-zinc-800 text-white mr-8"}`,children:[u.jsx("div",{className:"text-xs opacity-70 mb-1",children:p.senderName}),u.jsx("div",{children:p.message})]},p.id))}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(gt,{value:r,onChange:p=>i(p.target.value),onKeyPress:p=>p.key==="Enter"&&d(),placeholder:"Type message...",className:"bg-zinc-800 border-zinc-700 text-white"}),u.jsx(_e,{onClick:d,size:"icon",children:u.jsx(Cg,{className:"h-4 w-4"})})]})]}),u.jsx("div",{className:"text-xs text-zinc-500 text-center",children:"Help is on the way. Stay safe."})]})})]})},Zz=({...t})=>u.jsx(T9,{theme:"light",className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"},...t});class e8 extends C.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,n){console.error("ErrorBoundary caught an error:",e,n)}render(){return this.state.hasError?this.props.fallback||u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-orange-50 flex items-center justify-center p-4",children:u.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-lg p-6 text-center",children:[u.jsx("div",{className:"text-6xl mb-4",children:""}),u.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Oops! Something went wrong"}),u.jsx("p",{className:"text-gray-600 mb-4",children:"We're sorry, but something unexpected happened. Please try refreshing the page."}),u.jsx("button",{onClick:()=>window.location.reload(),className:"bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700 transition-colors",children:"Refresh Page"})]})}):this.props.children}}function t8(){const{user:t}=js(),{isEmergencyMode:e}=Qv(),[n,r]=C.useState("home"),[i,a]=C.useState(null),l=(d,p)=>{r(d),a(p)};return t?e?u.jsx(Jz,{}):t.role==="customer"?n==="service-detail"&&i?u.jsx(S9,{service:i,onNavigate:l}):n==="cart"?u.jsx(C9,{onNavigate:l}):u.jsxs(zV,{currentPage:n,onNavigate:l,children:[n==="home"&&u.jsx(BV,{onNavigate:l}),n==="browse"&&u.jsx(WV,{onNavigate:l}),n==="shop"&&u.jsx(I9,{onNavigate:l}),n==="appointments"&&u.jsx(N9,{onNavigate:l}),n==="profile"&&u.jsx(V9,{onNavigate:l})]}):t.role==="provider"?u.jsx(Yz,{}):t.role==="admin"?u.jsx(Qz,{}):t.role==="responder"?u.jsx(Xz,{}):null:u.jsx(FV,{})}function n8(){return u.jsx(e8,{children:u.jsx(a4,{children:u.jsx(l4,{children:u.jsxs(h4,{children:[u.jsx(t8,{}),u.jsx(Zz,{position:"top-center"})]})})})})}MN.createRoot(document.getElementById("root")).render(u.jsx(n8,{}));
